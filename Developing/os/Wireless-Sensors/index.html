<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="LibreNMS">
        <link rel="canonical" href="http://docs.librenms.org/Developing/os/Wireless-Sensors/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	    <title>Wireless Sensors - LibreNMS Docs</title>

        <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.6.3.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../css/color.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../librenms.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-79149977-2', 'docs.librenms.org');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">LibreNMS Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li id="dropdown-General" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../General/Acknowledgement/">Acknowledgement</a>
</li>

                        
                            
<li >
    <a href="../../../General/Callback-Stats-and-Privacy/">Callback Stats and Privacy</a>
</li>

                        
                            
<li >
    <a href="../../../General/Changelog/">Changelog</a>
</li>

                        
                            
<li >
    <a href="../../../General/CODE_OF_CONDUCT/">CODE OF CONDUCT</a>
</li>

                        
                            
<li >
    <a href="../../../General/Contributing/">Contributing</a>
</li>

                        
                            
<li >
    <a href="../../../General/Credits/">Credits</a>
</li>

                        
                            
<li >
    <a href="../../../General/Updating/">Updating</a>
</li>

                        
                            
<li >
    <a href="../../../General/Releases/">Releases</a>
</li>

                        
                            
<li >
    <a href="../../../General/Security/">Security</a>
</li>

                        
                            
<li >
    <a href="../../../General/Welcome-to-Observium-users/">Welcome to Observium users</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Installation" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Installation/Installing-LibreNMS/">Installing LibreNMS</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Ubuntu-image/">Ubuntu VM Image</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/CentOS-image/">CentOS VM Image</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-Ubuntu-1604-Nginx/">Ubuntu 16.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-Ubuntu-1604-Apache/">Ubuntu 16.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-CentOS-7-Nginx/">CentOS 7 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-CentOS-7-Apache/">CentOS 7 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installing-LibreNMS/">Older Docs</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Migrating-from-Observium/">Migrating from Observium</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Extensions" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extensions <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Extensions/Applications/">Applications</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Authentication/">Authentication</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Auto-Discovery/">Auto Discovery</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Billing-Module/">Billing Module</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Component/">Component</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Dell-OpenManage/">Dell OpenManage</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Device-Groups/">Device Groups</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Distributed-Poller/">Distributed Poller</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Email-Alerting/">Email Alerting</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Globe-Frontpage/">Globe Frontpage</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Graylog/">Graylog</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Graphite/">Graphite</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/IRC-Bot/">IRC Bot</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/IRC-Bot-Extensions/">IRC Bot Extensions</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/InfluxDB/">InfluxDB</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Interface-Description-Parsing/">Interface Description Parsing</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/MIB-based-polling/">MIB based polling</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Memcached/">Memcached</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Network-Map/">Network Map</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/NFSen/">NFSen</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Oxidized/">Oxidized</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/PeeringDB/">PeeringDB</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Plugin-System/">Plugin System</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Poller-Service/">Poller Service</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Port-Description-Parser/">Port Description Parser</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Proxmox/">Proxmox</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/RRDCached/">RRDCached</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/RRDTune/">RRDTune</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/SNMP-Proxy/">SNMP Proxy</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/SNMP-Trap-Handler/">SNMP Trap Handler</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Services/">Services</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Smokeping/">Smokeping</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Sub-Directory/">Sub Directory</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Syslog/">Syslog</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Two-Factor-Auth/">Two Factor Auth</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Varnish/">Varnish</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../../API/API-Docs/">API</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../Alerting/Alerting/">Alerting</a>
                    </li>
                
                
                
                    <li id="dropdown-Support" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Support/1-Minute-Polling/">1 Minute Polling</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Configuration/">Configuration</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Discovery Support/">Discovery Support</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Example-Hardware-Setup/">Example Hardware Setup</a>
</li>

                        
                            
<li >
    <a href="../../../Support/FAQ/">FAQ</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Features/">Features</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Install Validation/">Install Validation</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Performance/">Performance</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Poller Support/">Poller Support</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Remote-Monitoring-VPN/">Remote Monitoring VPN</a>
</li>

                        
                            
<li >
    <a href="../../../Support/SNMP-Configuration-Examples/">SNMP Configuration Examples</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Developing" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developing <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Using-Git/">Using Git</a>
</li>

                        
                            
<li >
    <a href="../../Code-Guidelines/">Code Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Style-Guidelines/">Style Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Validating-Code/">Validating Code</a>
</li>

                        
                            
<li >
    <a href="../../Code-Structure/">Code Structure</a>
</li>

                        
                            
<li >
    <a href="../../Creating-Documentation/">Creating Documentation</a>
</li>

                        
                            
<li >
    <a href="../../Support-New-OS/">Adding support for a new OS</a>
</li>

                        
                            
<li >
    <a href="../../Dynamic-Config/">Dynamic Config</a>
</li>

                        
                            
<li >
    <a href="../../Sensor-State-Support/">Sensor State Support</a>
</li>

                        
                            
<li >
    <a href="../../Merging-Pull-Requests/">Merging Pull Requests</a>
</li>

                        
                            
<li >
    <a href="../../Creating-Release/">Creating Release</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-hidden" class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">hidden <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Installation/Installation-Ubuntu-1404-Nginx/">Ubuntu 14.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-Ubuntu-1404-Apache/">Ubuntu 14.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-Ubuntu-1404-Lighttpd/">Ubuntu 14.04 (Lighttpd)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-CentOS-6-Apache-Nginx/">CentOS 6 (Apache/Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-(Debian-Ubuntu)/">Installation (Debian Ubuntu)</a>
</li>

                        
                            
<li >
    <a href="../../../Installation/Installation-(RHEL-CentOS)/">Installation (RHEL CentOS)</a>
</li>

                        
                            
<li >
    <a href="../../../Support/Support-New-OS/">Support New OS</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Agent-Setup/">Agent Setup</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/RRDCached-Security/">RRDCached Security</a>
</li>

                        
                            
<li >
    <a href="../Initial-Detection/">Initial Detection</a>
</li>

                        
                            
<li >
    <a href="../Mem-CPU-Information/">Mem CPU Information</a>
</li>

                        
                            
<li >
    <a href="../Test-Units/">Test Units</a>
</li>

                        
                            
<li >
    <a href="../Health-Information/">Health Information</a>
</li>

                        
                            
<li class="active">
    <a href="./">Wireless Sensors</a>
</li>

                        
                            
<li >
    <a href="../Custom-Graphs/">Custom Graphs</a>
</li>

                        
                            
<li >
    <a href="../../../Extensions/Alerting/">Alerting</a>
</li>

                        
                            
<li >
    <a href="../../../Alerting/Rules/">Rules</a>
</li>

                        
                            
<li >
    <a href="../../../Alerting/Templates/">Templates</a>
</li>

                        
                            
<li >
    <a href="../../../Alerting/Transports/">Transports</a>
</li>

                        
                            
<li >
    <a href="../../../Alerting/Entities/">Entities</a>
</li>

                        
                            
<li >
    <a href="../../../Alerting/Macros/">Macros</a>
</li>

                        
                            
<li >
    <a href="../../../Alerting/Rules/">Rules</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i>
                        <span class="visible-xs-inline visible-md-inline visible-lg-inline">Search</span>
                    </a>
                </li>
                
                
                    <li>
                        <a href="https://github.com/librenms/librenms">
                            
                                <i class="fa fa-github"></i>
                            
                            <span class="visible-xs-inline visible-lg-inline">GitHub</span>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="row">
            
                
                    <div class="col-md-3">
<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
    </ul>
</div>
</div>
                    <div class="col-md-9" role="main">
<div class="row">
  <div class="source-links col-md-offset-8 col-md-4">

    <a href="https://github.com/librenms/librenms/edit/master/doc/Developing/os/Wireless-Sensors.md" target="_blank"><i class="fa fa-pencil"></i> Edit on GitHub</a>

  </div>
</div>


<p>This document will guide you through adding wireless sensors for your new wireless device.</p>
<p>Currently we have support for the following wireless metrics along with the values we expect to see the data in:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Measurement</th>
<th>Interface</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ap-count</td>
<td>%</td>
<td>WirelessApCountDiscovery</td>
<td>The number of APs attached to this controller</td>
</tr>
<tr>
<td>capacity</td>
<td>%</td>
<td>WirelessCapacityDiscovery</td>
<td>The % of operating rate vs theoretical max</td>
</tr>
<tr>
<td>ccq</td>
<td>%</td>
<td>WirelessCcqDiscovery</td>
<td>The Client Connection Quality</td>
</tr>
<tr>
<td>clients</td>
<td>count</td>
<td>WirelessClientsDiscovery</td>
<td>The number of clients connected to/managed by this device</td>
</tr>
<tr>
<td>distance</td>
<td>km</td>
<td>WirelessDistanceDiscovery</td>
<td>The distance of a radio link in Kilometers</td>
</tr>
<tr>
<td>error-ratio</td>
<td>%</td>
<td>WirelessErrorRatioDiscovery</td>
<td>The percent of errored packets or bits, etc</td>
</tr>
<tr>
<td>frequency</td>
<td>MHz</td>
<td>WirelessFrequencyDiscovery</td>
<td>The frequency of the radio in MHz, channels can be converted</td>
</tr>
<tr>
<td>noise-floor</td>
<td>dBm/Hz</td>
<td>WirelessNoiseFloorDiscovery</td>
<td>The amount of noise received by the radio</td>
</tr>
<tr>
<td>power</td>
<td>dBm</td>
<td>WirelessPowerDiscovery</td>
<td>The power of transmit or receive, including signal level</td>
</tr>
<tr>
<td>quality</td>
<td>%</td>
<td>WirelessQualityDiscovery</td>
<td>The % of quality of the link, 100% = perfect link</td>
</tr>
<tr>
<td>rate</td>
<td>bps</td>
<td>WirelessRateDiscovery</td>
<td>The negotiated rate of the connection (not data transfer)</td>
</tr>
<tr>
<td>rssi</td>
<td>dBm</td>
<td>WirelessRssiDiscovery</td>
<td>The Received Signal Strength Indicator</td>
</tr>
<tr>
<td>snr</td>
<td>dBm</td>
<td>WirelessSnrDiscovery</td>
<td>The Signal to Noise ratio, which is signal - noise floor</td>
</tr>
<tr>
<td>utilization</td>
<td>%</td>
<td>WirelessUtilizationDiscovery</td>
<td>The % of utilization compared to the current rate</td>
</tr>
</tbody>
</table>
<p>You will need to create a new OS class for your os if one doen't exist under <code>LibreNMS/OS</code>.  The name of this file
should be the os name in camel case for example <code>airos -&gt; Airos</code>, <code>ios-wlc -&gt; IosWlc</code>.</p>
<p>Your new OS class should extend LibreNMS\OS and implement the interfaces for the sensors your os supports.</p>
<pre><code class="php">namespace LibreNMS\OS;

use LibreNMS\Interfaces\Discovery\Sensors\WirelessClientsDiscovery;
use LibreNMS\OS;

class Airos extends OS implements WirelessClientsDiscovery
{
    public functon discoverWirelessClients()
    {
        $oid = '.1.3.6.1.4.1.41112.1.4.5.1.15.1'; //UBNT-AirMAX-MIB::ubntWlStatStaCount.1
        return array(
            new WirelessSensor('clients', $this-&gt;getDeviceId(), $oid, 'airos', 1, 'Clients')
        );
    }
}
</code></pre>

<p>All discovery interfaces will require you to return an array of WirelessSensor objects.</p>
<p><code>new WirelessSensor()</code> Accepts the following arguments:</p>
<ul>
<li>$type = Required. This is the sensor class from the table above (i.e humidity).</li>
<li>$device_id = Required. You can get this value with $this-&gt;getDeviceId()</li>
<li>$oids = Required. This must be the numerical OID for where the data can be found, i.e .1.2.3.4.5.6.7.0.
  If this is an array of oids, you should probably specify an $aggregator.</li>
<li>$index = Required. This must be unique for this sensor type, device and subtype.
  Typically it's the index from the table being walked or it could be the name of the OID if it's a single value.</li>
<li>$subtype = Required. This should be the OS name, i.e airos.</li>
<li>$description = Required. This is a descriptive value for the sensor.
  Shown to the user, if this is a per-ssid statistic, using <code>SSID: $ssid</code> here is appropriate</li>
<li>$current = Defaults to null. Can be used to set the current value on discovery.
  If this is null the values will be polled right away and if they do not return valid value(s), the sensor will not be discovered.
  Supplying a value here implies you have already verified this sensor is valid.</li>
<li>$divisor = Defaults to 1. This is used to divided the returned value.</li>
<li>$multiplier = Defaults to 1. This is used to multiply the returned value.</li>
<li>$aggregator = Defaults to sum. Valid values: sum, avg. This will combine multiple values from multiple oids into one.</li>
<li>$access_point_id = Defaults to null. If this is a wireless controller, you can link sensors to entries in the access_points table.</li>
<li>$high_limit = Defaults to null. Sets the high limit for the sensor, used in alerting to report out range sensors.</li>
<li>$low_limit = Defaults to null. Sets the low threshold limit for the sensor, used in alerting to report out range sensors.</li>
<li>$high_warn = Defaults to null. Sets the high warning limit for the sensor, used in alerting to report near out of range sensors.</li>
<li>$low_warn = Defaults to null. Sets the low warning limit for the sensor, used in alerting to report near out of range sensors.</li>
<li>$entPhysicalIndex = Defaults to null. Sets the entPhysicalIndex to be used to look up further hardware if available.</li>
<li>$entPhysicalIndexMeasured = Defaults to null. Sets the type of entPhysicalIndex used, i.e ports.</li>
</ul>
<p>Polling is done automatically based on the discovered data.  If for some reason you need to override polling, you can implement 
the required polling interface in <code>LibreNMS/Interfaces/Polling/Sensors</code>.  Using the polling interfaces should be avoided if possible.</p>
<p>Graphing is performed automatically for wireless sensors, no custom graphing is required or supported.</p></div>
                
            
            </div>
        </div>

        <footer>
            <div class="container">
                <hr>
                
                <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
            </div>
        </footer>

        <script src="../../../js/jquery-1.12.4.min.js"></script>
        <script src="../../../js/bootstrap-3.3.7.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
