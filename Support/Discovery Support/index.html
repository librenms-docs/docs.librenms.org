<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="LibreNMS">
        <link rel="canonical" href="http://docs.librenms.org/Support/Discovery Support/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	    <title>Discovery Support - LibreNMS Docs</title>

        <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.6.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/color.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../librenms.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-79149977-2', 'docs.librenms.org');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">LibreNMS Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li id="dropdown-General" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../General/Acknowledgement/">Acknowledgement</a>
</li>

                        
                            
<li >
    <a href="../../General/Callback-Stats-and-Privacy/">Callback Stats and Privacy</a>
</li>

                        
                            
<li >
    <a href="../../General/Changelog/">Changelog</a>
</li>

                        
                            
<li >
    <a href="../../General/CODE_OF_CONDUCT/">Code of Conduct</a>
</li>

                        
                            
<li >
    <a href="../../General/Contributing/">Contributing</a>
</li>

                        
                            
<li >
    <a href="../../General/Credits/">Credits</a>
</li>

                        
                            
<li >
    <a href="../../General/Updating/">Updating</a>
</li>

                        
                            
<li >
    <a href="../../General/Releases/">Releases</a>
</li>

                        
                            
<li >
    <a href="../../General/Security/">Security</a>
</li>

                        
                            
<li >
    <a href="../../General/Welcome-to-Observium-users/">Welcome to Observium users</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Installation" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Installation/Installing-LibreNMS/">Installing LibreNMS</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Ubuntu-image/">Ubuntu VM Image</a>
</li>

                        
                            
<li >
    <a href="../../Installation/CentOS-image/">CentOS VM Image</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1604-Nginx/">Ubuntu 16.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1604-Apache/">Ubuntu 16.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-CentOS-7-Nginx/">CentOS 7 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-CentOS-7-Apache/">CentOS 7 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installing-LibreNMS/">Older Docs</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Migrating-from-Observium/">Migrating from Observium</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Extensions" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extensions <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Extensions/Applications/">Applications</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Authentication/">Authentication</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Auto-Discovery/">Auto Discovery</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Agent-Setup/">Agent Setup</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Billing-Module/">Billing Module</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Component/">Component</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Dell-OpenManage/">Dell OpenManage</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Device-Groups/">Device Groups</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Distributed-Poller/">Distributed Poller</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Email-Alerting/">Email Alerting</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Globe-Frontpage/">Globe Frontpage</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Graylog/">Graylog</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Graphite/">Graphite</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/IRC-Bot/">IRC Bot</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/IRC-Bot-Extensions/">IRC Bot Extensions</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/InfluxDB/">InfluxDB</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Interface-Description-Parsing/">Interface Description Parsing</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/MIB-based-polling/">MIB based polling</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Memcached/">Memcached</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Network-Map/">Network Map</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/NFSen/">NFSen</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/OpenTSDB/">OpenTSDB</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Oxidized/">Oxidized</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/PeeringDB/">PeeringDB</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Plugin-System/">Plugin System</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Poller-Service/">Poller Service</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Port-Description-Parser/">Port Description Parser</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Proxmox/">Proxmox</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/RRDCached/">RRDCached</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/RRDTune/">RRDTune</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/SNMP-Proxy/">SNMP Proxy</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/SNMP-Trap-Handler/">SNMP Trap Handler</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Services/">Services</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Smokeping/">Smokeping</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Sub-Directory/">Sub Directory</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Syslog/">Syslog</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Two-Factor-Auth/">Two Factor Auth</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Varnish/">Varnish</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../API/API-Docs/">API</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../Alerting/Alerting/">Alerting</a>
                    </li>
                
                
                
                    <li id="dropdown-Support" class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../1-Minute-Polling/">1 Minute Polling</a>
</li>

                        
                            
<li >
    <a href="../Configuration/">Configuration</a>
</li>

                        
                            
<li class="active">
    <a href="./">Discovery Support</a>
</li>

                        
                            
<li >
    <a href="../Example-Hardware-Setup/">Example Hardware Setup</a>
</li>

                        
                            
<li >
    <a href="../FAQ/">FAQ</a>
</li>

                        
                            
<li >
    <a href="../Features/">Features</a>
</li>

                        
                            
<li >
    <a href="../Install Validation/">Install Validation</a>
</li>

                        
                            
<li >
    <a href="../Performance/">Performance</a>
</li>

                        
                            
<li >
    <a href="../Poller Support/">Poller Support</a>
</li>

                        
                            
<li >
    <a href="../Remote-Monitoring-VPN/">Remote Monitoring VPN</a>
</li>

                        
                            
<li >
    <a href="../SNMP-Configuration-Examples/">SNMP Configuration Examples</a>
</li>

                        
                            
<li >
    <a href="../SSL-Configuration/">SSL Configuration</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Developing" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developing <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Developing/Using-Git/">Using Git</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Code-Guidelines/">Code Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Style-Guidelines/">Style Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Validating-Code/">Validating Code</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Code-Structure/">Code Structure</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Creating-Documentation/">Creating Documentation</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Support-New-OS/">Adding support for a new OS</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Dynamic-Config/">Dynamic Config</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Sensor-State-Support/">Sensor State Support</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Merging-Pull-Requests/">Merging Pull Requests</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Creating-Release/">Creating Release</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-hidden" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">hidden <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1404-Nginx/">Ubuntu 14.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1404-Apache/">Ubuntu 14.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1404-Lighttpd/">Ubuntu 14.04 (Lighttpd)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-CentOS-6-Apache-Nginx/">CentOS 6 (Apache/Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-(Debian-Ubuntu)/">Installation (Debian Ubuntu)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-(RHEL-CentOS)/">Installation (RHEL CentOS)</a>
</li>

                        
                            
<li >
    <a href="../Support-New-OS/">Support New OS</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Agent-Setup/">Agent Setup</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/RRDCached-Security/">RRDCached Security</a>
</li>

                        
                            
<li >
    <a href="../../Developing/os/Initial-Detection/">Initial Detection</a>
</li>

                        
                            
<li >
    <a href="../../Developing/os/Mem-CPU-Information/">Mem CPU Information</a>
</li>

                        
                            
<li >
    <a href="../../Developing/os/Test-Units/">Test Units</a>
</li>

                        
                            
<li >
    <a href="../../Developing/os/Health-Information/">Health Information</a>
</li>

                        
                            
<li >
    <a href="../../Developing/os/Wireless-Sensors/">Wireless Sensors</a>
</li>

                        
                            
<li >
    <a href="../../Developing/os/Custom-Graphs/">Custom Graphs</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Alerting/">Alerting</a>
</li>

                        
                            
<li >
    <a href="../../Alerting/Rules/">Rules</a>
</li>

                        
                            
<li >
    <a href="../../Alerting/Templates/">Templates</a>
</li>

                        
                            
<li >
    <a href="../../Alerting/Transports/">Transports</a>
</li>

                        
                            
<li >
    <a href="../../Alerting/Entities/">Entities</a>
</li>

                        
                            
<li >
    <a href="../../Alerting/Macros/">Macros</a>
</li>

                        
                            
<li >
    <a href="../../Alerting/Rules/">Rules</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i>
                        <span class="visible-xs-inline visible-md-inline visible-lg-inline">Search</span>
                    </a>
                </li>
                
                
                    <li>
                        <a href="https://github.com/librenms/librenms">
                            
                                <i class="fa fa-github"></i>
                            
                            <span class="visible-xs-inline visible-lg-inline">GitHub</span>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="row">
            
                
                    <div class="col-md-3">
<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#discoveryphp">discovery.php</a></li>
        
            <li><a href="#command-options">Command options</a></li>
        
            <li><a href="#discovery-wrapper">Discovery wrapper</a></li>
        
            <li><a href="#discovery-config">Discovery config</a></li>
        
            <li><a href="#os-based-discovery-config">OS based Discovery config</a></li>
        
            <li><a href="#discovery-modules">Discovery modules</a></li>
        
            <li><a href="#running">Running</a></li>
        
            <li><a href="#debugging">Debugging</a></li>
        
    
        <li class="main "><a href="#snmp-scan">SNMP Scan</a></li>
        
    
    </ul>
</div>
</div>
                    <div class="col-md-9" role="main">
<div class="row">
  <div class="source-links col-md-offset-8 col-md-4">

    <a href="https://github.com/librenms/librenms/edit/master/doc/Support/Discovery Support.md" target="_blank"><i class="fa fa-pencil"></i> Edit on GitHub</a>

  </div>
</div>


<h3 id="discoveryphp">discovery.php</h3>
<p>This document will explain how to use discovery.php to debug issues or manually running to process data.</p>
<h4 id="command-options">Command options</h4>
<pre><code class="bash">-h &lt;device id&gt; | &lt;device hostname wildcard&gt;  Poll single device
-h odd                                       Poll odd numbered devices  (same as -i 2 -n 0)
-h even                                      Poll even numbered devices (same as -i 2 -n 1)
-h all                                       Poll all devices
-h new                                       Poll all devices that have not had a discovery run before
--os &lt;os_name&gt;                               Poll devices only with specified operating system
--type &lt;type&gt;                                Poll devices only with specified type
-i &lt;instances&gt; -n &lt;number&gt;                   Poll as instance &lt;number&gt; of &lt;instances&gt;
                                             Instances start at 0. 0-3 for -n 4

Debugging and testing options:
-d                                           Enable debugging output
-v                                           Enable verbose debugging output
-m                                           Specify single module to be run


</code></pre>

<p><code>-h</code> Use this to specify a device via either id or hostname (including wildcard using *). You can also specify odd and
even. all will run discovery against all devices whilst
new will poll only those devices that have recently been added or have been selected for rediscovery.</p>
<p><code>-i</code> This can be used to stagger the discovery process.</p>
<p><code>-d</code> Enables debugging output (verbose output but with most sensitive data masked) so that you can see what is happening during a discovery run. This includes things like rrd updates, SQL queries and response from snmp.</p>
<p><code>-v</code> Enables verbose debugging output with all data in tact.</p>
<p><code>-m</code> This enables you to specify the module you want to run for discovery.</p>
<h4 id="discovery-wrapper">Discovery wrapper</h4>
<p>We have a <code>discovery-wrapper.py</code> script which is based on <code>poller-wrapper.py</code> by <a href="https://github.com/job">Job Snijders</a>.
You can enable support for this within cron by replacing:</p>
<p><code>33  */6   * * *   librenms    /opt/librenms/discovery.php -h all &gt;&gt; /dev/null 2&gt;&amp;1</code></p>
<p>With:</p>
<p><code>33  */6   * * *   librenms    /opt/librenms/discovery-wrapper.php 1 &gt;&gt; /dev/null 2&gt;&amp;1</code></p>
<p>The default is for discovery wrapper to only use 1 thread so that it mimics the current behaviour. However if your
system is powerful enough and the devices can cope then you can increase the thread count from 1 to a value of your
choosing.</p>
<h4 id="discovery-config">Discovery config</h4>
<p>These are the default discovery config items. You can globally disable a module by setting it to 0. If you just want to
disable it for one device then you can do this within the WebUI -&gt; Device -&gt; Settings -&gt; Modules.</p>
<pre><code class="php">$config['discovery_modules']['os']                        = 1;
$config['discovery_modules']['ports']                     = 1;
$config['discovery_modules']['ports-stack']               = 1;
$config['discovery_modules']['entity-physical']           = 1;
$config['discovery_modules']['processors']                = 1;
$config['discovery_modules']['mempools']                  = 1;
$config['discovery_modules']['cisco-vrf-lite']            = 1;
$config['discovery_modules']['ipv4-addresses']            = 1;
$config['discovery_modules']['ipv6-addresses']            = 1;
$config['discovery_modules']['route']                     = 0;
$config['discovery_modules']['sensors']                   = 1;
$config['discovery_modules']['storage']                   = 1;
$config['discovery_modules']['hr-device']                 = 1;
$config['discovery_modules']['discovery-protocols']       = 1;
$config['discovery_modules']['arp-table']                 = 1;
$config['discovery_modules']['discovery-arp']             = 0;
$config['discovery_modules']['junose-atm-vp']             = 1;
$config['discovery_modules']['bgp-peers']                 = 1;
$config['discovery_modules']['vlans']                     = 1;
$config['discovery_modules']['cisco-mac-accounting']      = 1;
$config['discovery_modules']['cisco-pw']                  = 1;
$config['discovery_modules']['cisco-vrf']                 = 1;
#$config['discovery_modules']['cisco-cef']                = 1;
$config['discovery_modules']['cisco-sla']                 = 1;
$config['discovery_modules']['vmware-vminfo']             = 1;
$config['discovery_modules']['libvirt-vminfo']            = 1;
$config['discovery_modules']['toner']                     = 1;
$config['discovery_modules']['ucd-diskio']                = 1;
$config['discovery_modules']['services']                  = 1;
$config['discovery_modules']['charge']                    = 1;
</code></pre>

<h4 id="os-based-discovery-config">OS based Discovery config</h4>
<p>You can enable or disable modules for a specific OS by add corresponding line in <code>includes/definitions/$os.yaml</code>
OS based settings have preference over global. Device based settings have preference over all others</p>
<p>Discover performance improvement can be achieved by deactivating all modules that are not supported by specific OS.</p>
<p>E.g. to deactivate spanning tree but activate discovery-arp module for linux OS</p>
<pre><code class="php">$config['os']['linux']['discovery_modules']['stp'] = 0;
$config['os']['linux']['discovery_modules']['discovery-arp'] = 1;
</code></pre>

<h4 id="discovery-modules">Discovery modules</h4>
<p><code>os</code>: Os detection. This module will pick up the OS of the device.</p>
<p><code>ports</code>: This module will detect all ports on a device excluding ones configured to be ignored by config options.</p>
<p><code>ports-stack</code>: Same as ports except for stacks.</p>
<p><code>entity-physical</code>: Module to pick up the devices hardware support.</p>
<p><code>processors</code>: Processor support for devices.</p>
<p><code>mempools</code>: Memory detection support for devices.</p>
<p><code>cisco-vrf-lite</code>: VRF-Lite detection and support.</p>
<p><code>ipv4-addresses</code>: IPv4 Address detection</p>
<p><code>ipv6-addresses</code>: IPv6 Address detection</p>
<p><code>route</code>: Route detection</p>
<p><code>sensors</code>: Sensor detection such as Temperature, Humidity, Voltages + More</p>
<p><code>storage</code>: Storage detection for hard disks</p>
<p><code>hr-device</code>: Processor and Memory support via HOST-RESOURCES-MIB.</p>
<p><code>discovery-protocols</code>: Auto discovery module for xDP, OSPF and BGP.</p>
<p><code>arp-table</code>: Detection of the ARP table for the device.</p>
<p><code>discovery-arp</code>: Auto discovery via ARP.</p>
<p><code>junose-atm-vp</code>: Juniper ATM support.</p>
<p><code>bgp-peers</code>: BGP detection and support.</p>
<p><code>vlans</code>: VLAN detection and support.</p>
<p><code>cisco-mac-accounting</code>: MAC Address account support.</p>
<p><code>cisco-pw</code>: Pseudowires wires detection and support.</p>
<p><code>cisco-vrf</code>: VRF detection and support.</p>
<p><code>cisco-cef</code>: CEF detection and support.</p>
<p><code>cisco-sla</code>: SLA detection and support.</p>
<p><code>vmware-vminfo</code>: Detection of vmware guests on an ESXi host</p>
<p><code>libvirt-vminfo</code>: Detection of libvirt guests.</p>
<p><code>toner</code>: Toner levels support.</p>
<p><code>ucd-diskio</code>: Disk I/O support.</p>
<p><code>services</code>: *Nix services support.</p>
<p><code>charge</code>: APC Charge detection and support.</p>
<h4 id="running">Running</h4>
<p>Here are some examples of running discovery from within your install directory.</p>
<pre><code class="bash">./discovery.php -h localhost

./discovery.php -h localhost -m ports
</code></pre>

<h4 id="debugging">Debugging</h4>
<p>To provide debugging output you will need to run the discovery process with the <code>-d</code> flag. You can do this either against
all modules, single or multiple modules:</p>
<p>All Modules</p>
<pre><code class="bash">./discovery.php -h localhost -d
</code></pre>

<p>Single Module</p>
<pre><code class="bash">./discovery.php -h localhost -m ports -d
</code></pre>

<p>Multiple Modules</p>
<pre><code class="bash">./discovery.php -h localhost -m ports,entity-physical -d
</code></pre>

<p>Using <code>-d</code> shouldn't output much sensitive information, <code>-v</code> will so it is then advisable to sanitise the output before pasting it somewhere as the debug output will contain snmp details amongst other items including port descriptions.</p>
<p>The output will contain:</p>
<p>DB Updates</p>
<p>SNMP Response</p>
<h3 id="snmp-scan">SNMP Scan</h3>
<p>Apart from the aforementioned Auto-Discovery options, LibreNMS is also able to proactively scan a network for SNMP-enabled devices using the configured version/credentials.</p>
<p>Using the SNMP-Scanner may take a long time to finish depending on the size of your network. Tests have shown that a sparsely-populated /24 is scanned within 2 Minutes whereas a sparsely populated /16 will take about 11 Hours.</p>
<p>If possible, divide your network into smaller subnets and scan these subnets instead. You can use an utility like the GNU Screen or tmux to avoid aborting the scan when logging out of your Shell. You can run several instances of the SNMP-Scanner simultaneously.</p>
<p>To run the SNMP-Scanner you need to execute the <code>snmp-scan.py</code> from within your LibreNMS installation directory.</p>
<p>Here the script's help-page for reference:</p>
<pre><code class="text">usage: snmp-scan.py [-h] [-r NETWORK] [-t THREADS] [-l] [-v]

Scan network for snmp hosts and add them to LibreNMS.

optional arguments:
  -h, --help     show this help message and exit
  -r NETWORK     CIDR noted IP-Range to scan. Can be specified multiple times
                 This argument is only required if $config['nets'] is not set
                 Example: 192.168.0.0/24 Example: 192.168.0.0/31 will be
                 treated as an RFC3021 p-t-p network with two addresses,
                 192.168.0.0 and 192.168.0.1 Example: 192.168.0.1/32 will be
                 treated as a single host address
  -t THREADS     How many IPs to scan at a time. More will increase the scan
                 speed, but could overload your system. Default: 32
  -l, --legend   Print the legend.
  -v, --verbose  Show debug output. Specifying multiple times increases the
                 verbosity.

</code></pre></div>
                
            
            </div>
        </div>

        <footer>
            <div class="container">
                <hr>
                
                <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
            </div>
        </footer>

        <script src="../../js/jquery-1.12.4.min.js"></script>
        <script src="../../js/bootstrap-3.3.7.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
