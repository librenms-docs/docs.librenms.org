<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="LibreNMS user and developer documentation"><link rel="canonical" href="http://docs.librenms.org/Extensions/Dispatcher-Service/"><meta name="author" content="LibreNMS"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Dispatcher Service (RC) - LibreNMS Docs</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="../../librenms.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-79149977-2", "docs.librenms.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#dispatcher-service" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="http://docs.librenms.org" title="LibreNMS Docs" class="md-header-nav__button md-logo"><img src="../../img/librenms.svg" width="24" height="24"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">LibreNMS Docs</span><span class="md-header-nav__topic">Dispatcher Service (RC)</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/librenms/librenms/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="http://docs.librenms.org" title="LibreNMS Docs" class="md-nav__button md-logo"><img src="../../img/librenms.svg" width="48" height="48"></a>LibreNMS Docs</label><div class="md-nav__source"><a href="https://github.com/librenms/librenms/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="Home" class="md-nav__link">Home</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">1. General</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">1. General</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../General/Acknowledgement/" title="Acknowledgements" class="md-nav__link">Acknowledgements</a></li><li class="md-nav__item"><a href="../../General/Changelog/" title="Changelog" class="md-nav__link">Changelog</a></li><li class="md-nav__item"><a href="../../General/CODE_OF_CONDUCT/" title="Code of Conduct" class="md-nav__link">Code of Conduct</a></li><li class="md-nav__item"><a href="../../Support/Features/" title="Features" class="md-nav__link">Features</a></li><li class="md-nav__item"><a href="../../General/Welcome-to-Observium-users/" title="Welcome to Observium users" class="md-nav__link">Welcome to Observium users</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">2. Installing</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">2. Installing</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../Installation/" title="Installing LibreNMS" class="md-nav__link">Installing LibreNMS</a></li><li class="md-nav__item"><a href="../../Installation/Images/" title="LibreNMS VMs" class="md-nav__link">LibreNMS VMs</a></li><li class="md-nav__item"><a href="../../Installation/Installation-Ubuntu-1804-Nginx/" title="Ubuntu 18.04 (Nginx)" class="md-nav__link">Ubuntu 18.04 (Nginx)</a></li><li class="md-nav__item"><a href="../../Installation/Installation-Ubuntu-1804-Apache/" title="Ubuntu 18.04 (Apache)" class="md-nav__link">Ubuntu 18.04 (Apache)</a></li><li class="md-nav__item"><a href="../../Installation/Installation-CentOS-7-Nginx/" title="CentOS 7 (Nginx)" class="md-nav__link">CentOS 7 (Nginx)</a></li><li class="md-nav__item"><a href="../../Installation/Installation-CentOS-7-Apache/" title="CentOS 7 (Apache)" class="md-nav__link">CentOS 7 (Apache)</a></li><li class="md-nav__item"><a href="../../Installation/Migrating-from-Observium/" title="Migrating from Observium" class="md-nav__link">Migrating from Observium</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">3. Getting started</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">3. Getting started</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../General/Releases/" title="Choosing a release" class="md-nav__link">Choosing a release</a></li><li class="md-nav__item"><a href="../../Support/Adding-a-Device/" title="Adding a device" class="md-nav__link">Adding a device</a></li><li class="md-nav__item"><a href="../Device-Groups/" title="Grouping Devices" class="md-nav__link">Grouping Devices</a></li><li class="md-nav__item"><a href="../../General/Callback-Stats-and-Privacy/" title="Submitting stats" class="md-nav__link">Submitting stats</a></li><li class="md-nav__item"><a href="../../General/Updating/" title="Updating an install" class="md-nav__link">Updating an install</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5"><label class="md-nav__link" for="nav-5">4. Basic Setup</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">4. Basic Setup</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../Applications/" title="Applications" class="md-nav__link">Applications</a></li><li class="md-nav__item"><a href="../Agent-Setup/" title="Check_MK Setup" class="md-nav__link">Check_MK Setup</a></li><li class="md-nav__item"><a href="../Billing-Module/" title="Billing Module" class="md-nav__link">Billing Module</a></li><li class="md-nav__item"><a href="../Dell-OpenManage/" title="Dell OpenManage Support" class="md-nav__link">Dell OpenManage Support</a></li><li class="md-nav__item"><a href="../World-Map/" title="World Map Configuration" class="md-nav__link">World Map Configuration</a></li><li class="md-nav__item"><a href="../Interface-Description-Parsing/" title="Interface Description Parsing" class="md-nav__link">Interface Description Parsing</a></li><li class="md-nav__item"><a href="../Network-Map/" title="Network Map" class="md-nav__link">Network Map</a></li><li class="md-nav__item"><a href="../Syslog/" title="Setting up syslog support" class="md-nav__link">Setting up syslog support</a></li><li class="md-nav__item"><a href="../Dashboards/" title="Dashboards" class="md-nav__link">Dashboards</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked><label class="md-nav__link" for="nav-6">5. Advanced Setup</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">5. Advanced Setup</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../Support/1-Minute-Polling/" title="1 Minute Polling" class="md-nav__link">1 Minute Polling</a></li><li class="md-nav__item"><a href="../Fast-Ping-Check/" title="Fast Ping Checking" class="md-nav__link">Fast Ping Checking</a></li><li class="md-nav__item"><a href="../../Support/Environment-Variables/" title="Environment Variables" class="md-nav__link">Environment Variables</a></li><li class="md-nav__item"><a href="../../Support/Configuration/" title="Configuration docs" class="md-nav__link">Configuration docs</a></li><li class="md-nav__item"><a href="../Authentication/" title="Authentication Options" class="md-nav__link">Authentication Options</a></li><li class="md-nav__item"><a href="../Two-Factor-Auth/" title="Two-Factor Auth" class="md-nav__link">Two-Factor Auth</a></li><li class="md-nav__item"><a href="../Auto-Discovery/" title="Auto-discovery Setup" class="md-nav__link">Auto-discovery Setup</a></li><li class="md-nav__item"><a href="../Distributed-Poller/" title="Scaling LibreNMS" class="md-nav__link">Scaling LibreNMS</a></li><li class="md-nav__item"><a href="../RRDCached/" title="Setting up RRDCached" class="md-nav__link">Setting up RRDCached</a></li><li class="md-nav__item"><a href="../Sub-Directory/" title="Sub-directory Support" class="md-nav__link">Sub-directory Support</a></li><li class="md-nav__item"><a href="../Varnish/" title="Varnish Installation Guide #" class="md-nav__link">Varnish Installation Guide #</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Dispatcher Service (RC)</label><a href="./" title="Dispatcher Service (RC)" class="md-nav__link md-nav__link--active">Dispatcher Service (RC)</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#external-requirements" title="External Requirements" class="md-nav__link">External Requirements</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#a-recent-version-of-python" title="A recent version of Python" class="md-nav__link">A recent version of Python</a></li><li class="md-nav__item"><a href="#python-modules" title="Python modules" class="md-nav__link">Python modules</a></li><li class="md-nav__item"><a href="#redis-distributed-polling" title="Redis (distributed polling)" class="md-nav__link">Redis (distributed polling)</a></li><li class="md-nav__item"><a href="#mysql" title="MySQL" class="md-nav__link">MySQL</a></li></ul></nav></li><li class="md-nav__item"><a href="#configuration" title="Configuration" class="md-nav__link">Configuration</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#distributed-polling-configuration" title="Distributed Polling Configuration" class="md-nav__link">Distributed Polling Configuration</a></li><li class="md-nav__item"><a href="#basic-configuration" title="Basic Configuration" class="md-nav__link">Basic Configuration</a></li></ul></nav></li><li class="md-nav__item"><a href="#fast-ping" title="Fast Ping" class="md-nav__link">Fast Ping</a></li><li class="md-nav__item"><a href="#cron-scripts" title="Cron Scripts" class="md-nav__link">Cron Scripts</a></li><li class="md-nav__item"><a href="#service-installation" title="Service Installation" class="md-nav__link">Service Installation</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#systemd" title="systemd" class="md-nav__link">systemd</a></li></ul></nav></li><li class="md-nav__item"><a href="#os-specific-instructions" title="OS-Specific Instructions" class="md-nav__link">OS-Specific Instructions</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#rhelcentos" title="RHEL/CentOS" class="md-nav__link">RHEL/CentOS</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#centos-7" title="CentOS 7" class="md-nav__link">CentOS 7</a></li><li class="md-nav__item"><a href="#rhel-7" title="RHEL 7" class="md-nav__link">RHEL 7</a></li></ul></nav></li><li class="md-nav__item"><a href="#debianubuntu" title="Debian/Ubuntu" class="md-nav__link">Debian/Ubuntu</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#debian-9-stretch" title="Debian 9 (stretch)" class="md-nav__link">Debian 9 (stretch)</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="#__source" title="Source" class="md-nav__link md-nav__link--active">Source</a></li></ul></nav></li><li class="md-nav__item"><a href="../RRDTune/" title="RRDTune?" class="md-nav__link">RRDTune?</a></li><li class="md-nav__item"><a href="../IRC-Bot/" title="IRC Bot" class="md-nav__link">IRC Bot</a></li><li class="md-nav__item"><a href="../IRC-Bot-Extensions/" title="Quick Guide" class="md-nav__link">Quick Guide</a></li><li class="md-nav__item"><a href="../SNMP-Proxy/" title="SNMP Proxy" class="md-nav__link">SNMP Proxy</a></li><li class="md-nav__item"><a href="../SNMP-Trap-Handler/" title="SNMP trap handling" class="md-nav__link">SNMP trap handling</a></li><li class="md-nav__item"><a href="../Customizing-the-Web-UI/" title="Customizing the Web UI" class="md-nav__link">Customizing the Web UI</a></li><li class="md-nav__item"><a href="../../Support/Cleanup-options/" title="Cleanup Options" class="md-nav__link">Cleanup Options</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7"><label class="md-nav__link" for="nav-7">6. 3rd Party Integration</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-7">6. 3rd Party Integration</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../Gateone/" title="GateOne integration" class="md-nav__link">GateOne integration</a></li><li class="md-nav__item"><a href="../Graylog/" title="Graylog integration" class="md-nav__link">Graylog integration</a></li><li class="md-nav__item"><a href="../Services/" title="Nagios Plugins" class="md-nav__link">Nagios Plugins</a></li><li class="md-nav__item"><a href="../NFSen/" title="NFSen" class="md-nav__link">NFSen</a></li><li class="md-nav__item"><a href="../Oxidized/" title="Oxidized intro" class="md-nav__link">Oxidized intro</a></li><li class="md-nav__item"><a href="../Rancid/" title="Rancid integration" class="md-nav__link">Rancid integration</a></li><li class="md-nav__item"><a href="../PeeringDB/" title="PeeringDB Support" class="md-nav__link">PeeringDB Support</a></li><li class="md-nav__item"><a href="../Proxmox/" title="Proxmox graphing" class="md-nav__link">Proxmox graphing</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-9" type="checkbox" id="nav-7-9"><label class="md-nav__link" for="nav-7-9">Storing Metrics</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-7-9">Storing Metrics</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../Metric-Storage/" title="Intro" class="md-nav__link">Intro</a></li><li class="md-nav__item"><a href="../metrics/Graphite/" title="Enabling support for Graphite." class="md-nav__link">Enabling support for Graphite.</a></li><li class="md-nav__item"><a href="../metrics/InfluxDB/" title="Enabling support for InfluxDB." class="md-nav__link">Enabling support for InfluxDB.</a></li><li class="md-nav__item"><a href="../metrics/OpenTSDB/" title="Enabling support for OpenTSDB." class="md-nav__link">Enabling support for OpenTSDB.</a></li><li class="md-nav__item"><a href="../metrics/Prometheus/" title="Enabling support for Prometheus." class="md-nav__link">Enabling support for Prometheus.</a></li></ul></nav></li><li class="md-nav__item"><a href="../Smokeping/" title="Smokeping integration" class="md-nav__link">Smokeping integration</a></li><li class="md-nav__item"><a href="../Weathermap/" title="Network-WeatherMap with LibreNMS" class="md-nav__link">Network-WeatherMap with LibreNMS</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8"><label class="md-nav__link" for="nav-8">7. API</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-8">7. API</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../API/" title="Using the API" class="md-nav__link">Using the API</a></li><li class="md-nav__item"><a href="../../API/Devices/" title="Devices" class="md-nav__link">Devices</a></li><li class="md-nav__item"><a href="../../API/DeviceGroups/" title="DeviceGroups" class="md-nav__link">DeviceGroups</a></li><li class="md-nav__item"><a href="../../API/Ports/" title="Ports" class="md-nav__link">Ports</a></li><li class="md-nav__item"><a href="../../API/PortGroups/" title="PortGroups" class="md-nav__link">PortGroups</a></li><li class="md-nav__item"><a href="../../API/Alerts/" title="Alerts" class="md-nav__link">Alerts</a></li><li class="md-nav__item"><a href="../../API/Routing/" title="Routing" class="md-nav__link">Routing</a></li><li class="md-nav__item"><a href="../../API/Switching/" title="Switching" class="md-nav__link">Switching</a></li><li class="md-nav__item"><a href="../../API/Inventory/" title="Inventory" class="md-nav__link">Inventory</a></li><li class="md-nav__item"><a href="../../API/Bills/" title="Bills" class="md-nav__link">Bills</a></li><li class="md-nav__item"><a href="../../API/ARP/" title="ARP" class="md-nav__link">ARP</a></li><li class="md-nav__item"><a href="../../API/Services/" title="Services" class="md-nav__link">Services</a></li><li class="md-nav__item"><a href="../../API/System/" title="System" class="md-nav__link">System</a></li><li class="md-nav__item"><a href="../../API/Logs/" title="Logs" class="md-nav__link">Logs</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9"><label class="md-nav__link" for="nav-9">8. Alerting</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-9">8. Alerting</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../Alerting/" title="Intro" class="md-nav__link">Intro</a></li><li class="md-nav__item"><a href="../../Alerting/Introduction/" title="Introduction" class="md-nav__link">Introduction</a></li><li class="md-nav__item"><a href="../../Alerting/Rules/" title="Rules" class="md-nav__link">Rules</a></li><li class="md-nav__item"><a href="../../Alerting/Templates/" title="Templates" class="md-nav__link">Templates</a></li><li class="md-nav__item"><a href="../../Alerting/Transports/" title="Transports" class="md-nav__link">Transports</a></li><li class="md-nav__item"><a href="../../Alerting/Creating-Transport/" title="Creating a new Transport." class="md-nav__link">Creating a new Transport.</a></li><li class="md-nav__item"><a href="../../Alerting/Entities/" title="Entities" class="md-nav__link">Entities</a></li><li class="md-nav__item"><a href="../../Alerting/Macros/" title="Macros" class="md-nav__link">Macros</a></li><li class="md-nav__item"><a href="../../Alerting/Testing/" title="Testing" class="md-nav__link">Testing</a></li><li class="md-nav__item"><a href="../../Alerting/Device-Dependencies/" title="Device Dependencies" class="md-nav__link">Device Dependencies</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10"><label class="md-nav__link" for="nav-10">9. Getting help</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-10">9. Getting help</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../Support/" title="How to get help" class="md-nav__link">How to get help</a></li><li class="md-nav__item"><a href="../../Support/FAQ/" title="FAQ" class="md-nav__link">FAQ</a></li><li class="md-nav__item"><a href="../../Support/Install Validation/" title="Install validation" class="md-nav__link">Install validation</a></li><li class="md-nav__item"><a href="../../Support/Performance/" title="Performance optimisations" class="md-nav__link">Performance optimisations</a></li><li class="md-nav__item"><a href="../../Support/Discovery Support/" title="Discovery Support" class="md-nav__link">Discovery Support</a></li><li class="md-nav__item"><a href="../../Support/Poller Support/" title="Poller Support" class="md-nav__link">Poller Support</a></li><li class="md-nav__item"><a href="../../Support/Example-Hardware-Setup/" title="Example Hardware Setup" class="md-nav__link">Example Hardware Setup</a></li><li class="md-nav__item"><a href="../../Support/Remote-Monitoring-VPN/" title="Remote monitoring using tinc VPN" class="md-nav__link">Remote monitoring using tinc VPN</a></li><li class="md-nav__item"><a href="../../Support/SNMP-Configuration-Examples/" title="SNMP configuration examples" class="md-nav__link">SNMP configuration examples</a></li><li class="md-nav__item"><a href="../../Support/SSL-Configuration/" title="Ubuntu 16.04" class="md-nav__link">Ubuntu 16.04</a></li><li class="md-nav__item"><a href="../../Support/Device-Troubleshooting/" title="Capture Debug Information" class="md-nav__link">Capture Debug Information</a></li><li class="md-nav__item"><a href="../../Support/Device-Sensors/" title="Device Sensors" class="md-nav__link">Device Sensors</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11"><label class="md-nav__link" for="nav-11">10. Contributing + Developing</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-11">10. Contributing + Developing</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../Developing/" title="Contributing" class="md-nav__link">Contributing</a></li><li class="md-nav__item"><a href="../../Developing/Getting-Started/" title="Get ready to contribute to LibreNMS" class="md-nav__link">Get ready to contribute to LibreNMS</a></li><li class="md-nav__item"><a href="../../Developing/Using-Git/" title="Using Git" class="md-nav__link">Using Git</a></li><li class="md-nav__item"><a href="../../Developing/Code-Guidelines/" title="Coding guidelines" class="md-nav__link">Coding guidelines</a></li><li class="md-nav__item"><a href="../../Developing/Style-Guidelines/" title="Style guidelines" class="md-nav__link">Style guidelines</a></li><li class="md-nav__item"><a href="../../Developing/Validating-Code/" title="Validating Code" class="md-nav__link">Validating Code</a></li><li class="md-nav__item"><a href="../../Developing/Code-Structure/" title="Code structure" class="md-nav__link">Code structure</a></li><li class="md-nav__item"><a href="../../Developing/Creating-Documentation/" title="Creating Documentation" class="md-nav__link">Creating Documentation</a></li><li class="md-nav__item"><a href="../../Developing/Licensing/" title="Licensing" class="md-nav__link">Licensing</a></li><li class="md-nav__item"><a href="../Component/" title="About" class="md-nav__link">About</a></li><li class="md-nav__item"><a href="../MIB-based-polling/" title="Mib Based Polling (ALPHA)" class="md-nav__link">Mib Based Polling (ALPHA)</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-12" type="checkbox" id="nav-11-12"><label class="md-nav__link" for="nav-11-12">Support for a new OS</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-11-12">Support for a new OS</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../Developing/Support-New-OS/" title="Intro" class="md-nav__link">Intro</a></li><li class="md-nav__item"><a href="../../Developing/os/Initial-Detection/" title="Initial Detection" class="md-nav__link">Initial Detection</a></li><li class="md-nav__item"><a href="../../Developing/os/Mem-CPU-Information/" title="Mem CPU Information" class="md-nav__link">Mem CPU Information</a></li><li class="md-nav__item"><a href="../../Developing/os/Test-Units/" title="Tests" class="md-nav__link">Tests</a></li><li class="md-nav__item"><a href="../../Developing/os/Health-Information/" title="Health Information" class="md-nav__link">Health Information</a></li><li class="md-nav__item"><a href="../../Developing/os/Wireless-Sensors/" title="Wireless Sensors" class="md-nav__link">Wireless Sensors</a></li><li class="md-nav__item"><a href="../../Developing/os/Custom-Graphs/" title="Custom Graphs" class="md-nav__link">Custom Graphs</a></li><li class="md-nav__item"><a href="../../Developing/os/Settings/" title="Optional OS Settings" class="md-nav__link">Optional OS Settings</a></li><li class="md-nav__item"><a href="../../Developing/Sensor-State-Support/" title="Sensor State Support" class="md-nav__link">Sensor State Support</a></li></ul></nav></li><li class="md-nav__item"><a href="../../Developing/SNMP-Traps/" title="Creating snmp trap handlers" class="md-nav__link">Creating snmp trap handlers</a></li><li class="md-nav__item"><a href="../../Developing/Dynamic-Config/" title="Adding new config options to WebUI" class="md-nav__link">Adding new config options to WebUI</a></li><li class="md-nav__item"><a href="../../Developing/Merging-Pull-Requests/" title="Merging Pull Requests" class="md-nav__link">Merging Pull Requests</a></li><li class="md-nav__item"><a href="../../Developing/Creating-Release/" title="Creating a release" class="md-nav__link">Creating a release</a></li><li class="md-nav__item"><a href="../Plugin-System/" title="Developing for the Plugin System" class="md-nav__link">Developing for the Plugin System</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12"><label class="md-nav__link" for="nav-12">11. Misc</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-12">11. Misc</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../General/Security/" title="Security information" class="md-nav__link">Security information</a></li><li class="md-nav__item"><a href="../../Support/CLI-Tools/" title="CLI Scripts" class="md-nav__link">CLI Scripts</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-3" type="checkbox" id="nav-12-3"><label class="md-nav__link" for="nav-12-3">Device Notes</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-12-3">Device Notes</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../Support/Device-Notes/" title="Intro" class="md-nav__link">Intro</a></li><li class="md-nav__item"><a href="../../Support/Device-Notes/Carel-pCOweb-Devices/" title="Carel pCOweb" class="md-nav__link">Carel pCOweb</a></li></ul></nav></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#external-requirements" title="External Requirements" class="md-nav__link">External Requirements</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#a-recent-version-of-python" title="A recent version of Python" class="md-nav__link">A recent version of Python</a></li><li class="md-nav__item"><a href="#python-modules" title="Python modules" class="md-nav__link">Python modules</a></li><li class="md-nav__item"><a href="#redis-distributed-polling" title="Redis (distributed polling)" class="md-nav__link">Redis (distributed polling)</a></li><li class="md-nav__item"><a href="#mysql" title="MySQL" class="md-nav__link">MySQL</a></li></ul></nav></li><li class="md-nav__item"><a href="#configuration" title="Configuration" class="md-nav__link">Configuration</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#distributed-polling-configuration" title="Distributed Polling Configuration" class="md-nav__link">Distributed Polling Configuration</a></li><li class="md-nav__item"><a href="#basic-configuration" title="Basic Configuration" class="md-nav__link">Basic Configuration</a></li></ul></nav></li><li class="md-nav__item"><a href="#fast-ping" title="Fast Ping" class="md-nav__link">Fast Ping</a></li><li class="md-nav__item"><a href="#cron-scripts" title="Cron Scripts" class="md-nav__link">Cron Scripts</a></li><li class="md-nav__item"><a href="#service-installation" title="Service Installation" class="md-nav__link">Service Installation</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#systemd" title="systemd" class="md-nav__link">systemd</a></li></ul></nav></li><li class="md-nav__item"><a href="#os-specific-instructions" title="OS-Specific Instructions" class="md-nav__link">OS-Specific Instructions</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#rhelcentos" title="RHEL/CentOS" class="md-nav__link">RHEL/CentOS</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#centos-7" title="CentOS 7" class="md-nav__link">CentOS 7</a></li><li class="md-nav__item"><a href="#rhel-7" title="RHEL 7" class="md-nav__link">RHEL 7</a></li></ul></nav></li><li class="md-nav__item"><a href="#debianubuntu" title="Debian/Ubuntu" class="md-nav__link">Debian/Ubuntu</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#debian-9-stretch" title="Debian 9 (stretch)" class="md-nav__link">Debian 9 (stretch)</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="#__source" title="Source" class="md-nav__link md-nav__link--active">Source</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/librenms/librenms/edit/master/doc/Extensions/Dispatcher-Service.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="dispatcher-service">Dispatcher Service</h1>
<blockquote>
<p>Status: Release Candidate</p>
</blockquote>
<p>The new LibreNMS dispatcher service (<code>librenms-service.py</code>) replaces the old poller service (<code>poller-service.py</code>), improving its reliability. It's mostly a drop in replacement for the old service, but testing is recommended before switching over.</p>
<p>If you are currently using the old poller service, it's strongly recommended that you migrate away - it has a serious defect under certain versions of mysql/mariadb, and may be inadvertently DoS'ing your devices. The new service does not have this issue,</p>
<p>Make sure you uninstall the old poller service before deploying the new service.</p>
<p>The dispatcher does not replace the php scripts, but the cron entries running them.  It attempts to do a better job than simple time based scheduling.</p>
<h2 id="external-requirements">External Requirements</h2>
<h4 id="a-recent-version-of-python">A recent version of Python</h4>
<p>The LibreNMS service requires Python 3 and some features require behaviour only found in Python3.4+.</p>
<h4 id="python-modules">Python modules</h4>
<ul>
<li>PyMySQL is recommended as it requires no C compiler to install. MySQLclient can also be used, but does require compilation.</li>
<li>python-dotenv .env loader</li>
<li>redis-py 3.0+ and Redis 5.0+ (if using distributed polling)</li>
</ul>
<p>These can be obtained from your OS package manager, or from PyPI with the below commands.</p>
<pre><code class="bash">pip3 install -r requirements.txt
</code></pre>

<h4 id="redis-distributed-polling">Redis (distributed polling)</h4>
<p>If you want to use distributed polling, you'll need a Redis instance to coordinate the nodes. 
It's recommended that you do not share the Redis database with any other system - by default, Redis supports up to 16 databases (numbered 0-15).
You can also use Redis on a single host if you want</p>
<p>It's strongly recommended that you deploy a resilient cluster of redis systems, and use redis-sentinel.</p>
<p>You should not rely on the password for the security of your system. See https://redis.io/topics/security</p>
<h4 id="mysql">MySQL</h4>
<p>You should already have this, but the pollers do need access to the SQL database. The LibreNMS service runs faster and more aggressively than the standard poller, so keep an eye on the number of open connections and other important health metrics.</p>
<h2 id="configuration">Configuration</h2>
<p>Connection settings are required in <code>.env</code>. The <code>.env</code> file is generated after composer install and APP_KEY and NODE_ID are set.</p>
<pre><code class="dotenv">#APP_KEY=   #Required, generated by composer install
#NODE_ID=   #Required, generated by composer install

DB_HOST=localhost
DB_DATABASE=librenms
DB_USERNAME=librenms
DB_PASSWORD=
</code></pre>

<h3 id="distributed-polling-configuration">Distributed Polling Configuration</h3>
<p>Once you have your Redis database set up, configure it in the .env file on each node.</p>
<pre><code class="dotenv">REDIS_HOST=127.0.0.1
#REDIS_DB=0
#REDIS_PASSWORD=
#REDIS_PORT=6379
</code></pre>

<h3 id="basic-configuration">Basic Configuration</h3>
<p>Additional configuration settings can be set in <code>config.php</code> or directly into the database.</p>
<p>The defaults are shown here - it's recommended that you at least tune the number of workers.</p>
<pre><code class="php">$config['service_poller_workers']              = 24;     # Processes spawned for polling
$config['service_services_workers']            = 8;      # Processes spawned for service polling
$config['service_discovery_workers']           = 16;     # Processes spawned for discovery


//Optional Settings
$config['service_poller_frequency']            = 300;    # Seconds between polling attempts       
$config['service_services_frequency']          = 300;    # Seconds between service polling attempts
$config['service_discovery_frequency']         = 21600;  # Seconds between discovery runs 
$config['service_billing_frequency']           = 300;    # Seconds between billing calculations
$config['service_billing_calculate_frequency'] = 60;     # Billing interval 
$config['service_poller_down_retry']           = 60;     # Seconds between failed polling attempts
$config['service_loglevel']                    = 'INFO'; # Must be one of 'DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL'
$config['service_update_frequency']            = 86400;  # Seconds between LibreNMS update checks 
</code></pre>

<p>There are also some SQL options, but these should be inherited from your LibreNMS web UI configuration.</p>
<p>Logs are sent to the system logging service (usually <code>journald</code> or <code>rsyslog</code>) - see https://docs.python.org/3/library/logging.html#logging-levels for the options available.</p>
<pre><code class="php">distributed_poller                             = true;  # Set to true to enable distributed polling
distributed_poller_name                        = null;  # Uniquely identifies the poller instance
distributed_poller_group                       = 0;     # Which group to poll
</code></pre>

<h2 id="fast-ping">Fast Ping</h2>
<p>The <a href="../Fast-Ping-Check/">fast ping</a> scheduler is disabled by default.  You can enable it by setting the following:</p>
<pre><code class="php">$config['service_ping_enabled'] = true;
</code></pre>

<h2 id="cron-scripts">Cron Scripts</h2>
<p>Once the LibreNMS service is installed, the cron scripts used by LibreNMS are no longer required and must be removed.</p>
<h2 id="service-installation">Service Installation</h2>
<p>A systemd unit file is provided - the sysv and upstart init scripts could also be used with a little modification.</p>
<h3 id="systemd">systemd</h3>
<p>A systemd unit file can be found in <code>misc/librenms.service</code>. To install run <code>cp /opt/librenms/misc/librenms.service /etc/systemd/system/librenms.service &amp;&amp; systemctl enable --now librenms.service</code></p>
<h2 id="os-specific-instructions">OS-Specific Instructions</h2>
<h3 id="rhelcentos">RHEL/CentOS</h3>
<p>To get the LibreNMS service running under python3.4+ on RHEL-derivatives with minimal fuss, you can use the software collections build:</p>
<p>First, enable SCL's on your system:</p>
<h4 id="centos-7">CentOS 7</h4>
<pre><code># yum install centos-release-scl
</code></pre>

<h4 id="rhel-7">RHEL 7</h4>
<pre><code># subscription-manager repos --enable rhel-server-rhscl-7-rpms
</code></pre>

<p>Then install and configure the runtime and service:</p>
<pre><code># yum install rh-python36 epel-release
# yum install redis
# vi /opt/librenms/config.php
# vi /etc/redis.conf
# systemctl enable --now redis.service
# scl enable rh-python36 bash
# pip install pymysql redis
# cp /opt/librenms/misc/librenms.service.scl /etc/systemd/system/librenms.service
# systemctl enable --now librenms.service
</code></pre>

<p>If you want to use another version of python 3, change <code>rh-python36</code> in the unit file and the commands above to match the name of the replacement scl.</p>
<h3 id="debianubuntu">Debian/Ubuntu</h3>
<h4 id="debian-9-stretch">Debian 9 (stretch)</h4>
<p>install python3 and python-mysqldb. python-dotenv is not yes available, but the testing package is working fine, you can grab it on https://packages.debian.org/fr/buster/all/python3-dotenv/download (the package may be updated and have a new version number).</p>
<pre><code>apt install python3 python-mysqldb
cd /tmp
wget http://ftp.fr.debian.org/debian/pool/main/p/python-dotenv/python3-dotenv_0.9.1-1_all.deb
dpkg -i python3-dotenv_0.9.1-1_all.deb
</code></pre><h2 id="__source">Source</h2><a href="https://github.com/librenms/librenms/blob/master/doc//Extensions/Dispatcher-Service.md" title="Extensions/Dispatcher-Service.md" class="md-source-file">Extensions/Dispatcher-Service.md </a></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../Varnish/" title="Varnish Installation Guide #" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Varnish Installation Guide #</span></div></a><a href="../RRDTune/" title="RRDTune?" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>RRDTune?</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script></body></html>