<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="LibreNMS">
    <link rel="canonical" href="http://docs.librenms.org/Extensions/NFSen/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>NFSen - LibreNMS Docs</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../librenms.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "NFSen", url: "#nfsen", children: [
              {title: "Configuration", url: "#configuration" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
      <script src="../../search/require.js"></script>
      <script src="../../search/search.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-79149977-2', 'docs.librenms.org');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
    


    
      <div class="source-links">
      
          <span class="label label-primary"><a href="/edit/master/doc/E" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/x" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/t" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/e" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/n" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/s" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/i" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/o" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/n" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/s" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc//" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/N" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/F" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/S" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/e" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/n" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/." target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/m" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
          <span class="label label-primary"><a href="/edit/master/doc/d" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
      </div>
    

    <h1 id="nfsen">NFSen</h1>
<blockquote>
<p>The installation of NFSen is out of scope for this document / LibreNMS</p>
</blockquote>
<h4 id="configuration">Configuration</h4>
<p>The following is the configuration that can be used:</p>
<pre><code class="php">$config['nfsen_enable'] = 1;
$config['nfsen_split_char']   = '_';
$config['nfsen_rrds'][]   = '/var/nfsen/profiles-stat/live/';
$config['nfsen_rrds'][] = '/var/nfsen/profiles-stat';
$config['nfsen_suffix']   = &quot;_yourdomain_com&quot;;
</code></pre>

<p>Set <code>$config['nfsen_enable'] = 1;</code> to enable NFSen support.</p>
<p><code>$config['nfsen_rrds']</code> This value tells us where your NFSen rrd files live. This can also be an array to 
specify more directories like:</p>
<pre><code class="php">$config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/sitea/';
$config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/siteb/';
</code></pre>

<p>Although for most setups, it will look like below, with the profiles-stat/live directory being where it stores the general RRDs for data sources.</p>
<pre><code class="php">$config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/live';
</code></pre>

<p><code>$config['nfsen_split_char']</code> This value tells us what to replace the full stops <code>.</code> in the devices hostname with.</p>
<p><code>$config['nfsen_suffix']</code> This value will be removed from the domain name and can be useful if your rrd files are 
something like <code>host1.rrd</code> but your device hostname is <code>domain.host1.rrd</code>. You can then set $config['nfsen_suffix'] = 'domain';</p>
<p>If you wish to render info for configure channels for a device, you need add the various profile-stat directories your system uses, which for most systems will be as below.</p>
<pre><code class="php">$config['nfsen_rrds'][] = '/var/nfsen/profiles-stat';
</code></pre>

<p>When adding sources to nfsen.conf, it is important to use the hostname that matches what is configured in LibreNMS, because the rrd files NfSen creates is named after the source name (ident), and it doesn't allow you to use an IP address instead. However, in LibreNMS, if your device is added by an IP address, add your source with any name of your choice, and create a symbolic link to the rrd file.</p>
<pre><code class="sh">cd /var/nfsen/profiles-stat/sitea/
ln -s mychannel.rrd librenmsdeviceIP.rrd
</code></pre>

<p>When creating profiles under nfsen, be sure to use the hostname so it matches the name in LibreNMS. That is where channel data will be pulled from.</p>
<p>You should see a new tab for the device called Nfsen.</p>

  <br>
    


    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>