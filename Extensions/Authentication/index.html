



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="LibreNMS user and developer documentation">
      
      
        <link rel="canonical" href="http://docs.librenms.org/Extensions/Authentication/">
      
      
        <meta name="author" content="LibreNMS">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Authentication Options - LibreNMS Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.750b69bd.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../../librenms.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-79149977-2", "docs.librenms.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#authentication-modules" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://docs.librenms.org" title="LibreNMS Docs" class="md-header-nav__button md-logo">
          
            <img src="../../img/librenms.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              LibreNMS Docs
            </span>
            <span class="md-header-nav__topic">
              Authentication Options
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/librenms/librenms/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://docs.librenms.org" title="LibreNMS Docs" class="md-nav__button md-logo">
      
        <img src="../../img/librenms.svg" width="48" height="48">
      
    </a>
    LibreNMS Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/librenms/librenms/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      1. General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        1. General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/Acknowledgement/" title="Acknowledgements" class="md-nav__link">
      Acknowledgements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/Changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/CODE_OF_CONDUCT/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/Welcome-to-Observium-users/" title="Welcome to Observium users" class="md-nav__link">
      Welcome to Observium users
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      2. Installing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        2. Installing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installation/" title="Installing LibreNMS" class="md-nav__link">
      Installing LibreNMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installation/Images/" title="LibreNMS VMs" class="md-nav__link">
      LibreNMS VMs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installation/Installation-Ubuntu-1804-Nginx/" title="Ubuntu 18.04 (Nginx)" class="md-nav__link">
      Ubuntu 18.04 (Nginx)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installation/Installation-Ubuntu-1804-Apache/" title="Ubuntu 18.04 (Apache)" class="md-nav__link">
      Ubuntu 18.04 (Apache)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installation/Installation-CentOS-7-Nginx/" title="CentOS 7 (Nginx)" class="md-nav__link">
      CentOS 7 (Nginx)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installation/Installation-CentOS-7-Apache/" title="CentOS 7 (Apache)" class="md-nav__link">
      CentOS 7 (Apache)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Installation/Migrating-from-Observium/" title="Migrating from Observium" class="md-nav__link">
      Migrating from Observium
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      3. Getting started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        3. Getting started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/Releases/" title="Choosing a release" class="md-nav__link">
      Choosing a release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Adding-a-Device/" title="Adding a device" class="md-nav__link">
      Adding a device
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Device-Groups/" title="Grouping Devices" class="md-nav__link">
      Grouping Devices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/Callback-Stats-and-Privacy/" title="Submitting stats" class="md-nav__link">
      Submitting stats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/Updating/" title="Updating an install" class="md-nav__link">
      Updating an install
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      4. Basic Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        4. Basic Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Applications/" title="Applications" class="md-nav__link">
      Applications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Agent-Setup/" title="Check_MK Setup" class="md-nav__link">
      Check_MK Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Billing-Module/" title="Billing Module" class="md-nav__link">
      Billing Module
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Dell-OpenManage/" title="Dell OpenManage Support" class="md-nav__link">
      Dell OpenManage Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../World-Map/" title="World Map Configuration" class="md-nav__link">
      World Map Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Interface-Description-Parsing/" title="Interface Description Parsing" class="md-nav__link">
      Interface Description Parsing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Network-Map/" title="Network Map" class="md-nav__link">
      Network Map
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Syslog/" title="Setting up syslog support" class="md-nav__link">
      Setting up syslog support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Dashboards/" title="Dashboards" class="md-nav__link">
      Dashboards
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      5. Advanced Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        5. Advanced Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/1-Minute-Polling/" title="1 Minute Polling" class="md-nav__link">
      1 Minute Polling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Fast-Ping-Check/" title="Fast Ping Checking" class="md-nav__link">
      Fast Ping Checking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Environment-Variables/" title="Environment Variables" class="md-nav__link">
      Environment Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Configuration/" title="Configuration docs" class="md-nav__link">
      Configuration docs
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Authentication Options
      </label>
    
    <a href="./" title="Authentication Options" class="md-nav__link md-nav__link--active">
      Authentication Options
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#available-authentication-modules" title="Available authentication modules" class="md-nav__link">
    Available authentication modules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enable-authentication-module" title="Enable authentication module" class="md-nav__link">
    Enable authentication module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-levels-and-user-account-type" title="User levels and User account type" class="md-nav__link">
    User levels and User account type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-for-selinux-users" title="Note for SELinux users" class="md-nav__link">
    Note for SELinux users
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-authentication" title="Testing authentication" class="md-nav__link">
    Testing authentication
  </a>
  
</li>
      
      
        <li class="md-nav__item">
          <a href="#__source" title="Source" class="md-nav__link md-nav__link--active">
            Source
          </a>
        </li>
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Two-Factor-Auth/" title="Two-Factor Auth" class="md-nav__link">
      Two-Factor Auth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Auto-Discovery/" title="Auto-discovery Setup" class="md-nav__link">
      Auto-discovery Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Distributed-Poller/" title="Scaling LibreNMS" class="md-nav__link">
      Scaling LibreNMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../RRDCached/" title="Setting up RRDCached" class="md-nav__link">
      Setting up RRDCached
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Sub-Directory/" title="Sub-directory Support" class="md-nav__link">
      Sub-directory Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Varnish/" title="Varnish Installation Guide #" class="md-nav__link">
      Varnish Installation Guide #
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Poller-Service/" title="Poller Service (BETA)" class="md-nav__link">
      Poller Service (BETA)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../RRDTune/" title="RRDTune?" class="md-nav__link">
      RRDTune?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../IRC-Bot/" title="IRC Bot" class="md-nav__link">
      IRC Bot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../IRC-Bot-Extensions/" title="Quick Guide" class="md-nav__link">
      Quick Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SNMP-Proxy/" title="SNMP Proxy" class="md-nav__link">
      SNMP Proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SNMP-Trap-Handler/" title="SNMP trap handling" class="md-nav__link">
      SNMP trap handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Customizing-the-Web-UI/" title="Customizing the Web UI" class="md-nav__link">
      Customizing the Web UI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Cleanup-options/" title="Cleanup Options" class="md-nav__link">
      Cleanup Options
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      6. 3rd Party Integration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        6. 3rd Party Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Gateone/" title="GateOne integration" class="md-nav__link">
      GateOne integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Graylog/" title="Graylog integration" class="md-nav__link">
      Graylog integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Services/" title="Nagios Plugins" class="md-nav__link">
      Nagios Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../NFSen/" title="NFSen" class="md-nav__link">
      NFSen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Oxidized/" title="Oxidized intro" class="md-nav__link">
      Oxidized intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Rancid/" title="Rancid integration" class="md-nav__link">
      Rancid integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../PeeringDB/" title="PeeringDB Support" class="md-nav__link">
      PeeringDB Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Proxmox/" title="Proxmox graphing" class="md-nav__link">
      Proxmox graphing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-9" type="checkbox" id="nav-7-9">
    
    <label class="md-nav__link" for="nav-7-9">
      Storing Metrics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-9">
        Storing Metrics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Metric-Storage/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metrics/Graphite/" title="Enabling support for Graphite." class="md-nav__link">
      Enabling support for Graphite.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metrics/InfluxDB/" title="Enabling support for InfluxDB." class="md-nav__link">
      Enabling support for InfluxDB.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metrics/OpenTSDB/" title="Enabling support for OpenTSDB." class="md-nav__link">
      Enabling support for OpenTSDB.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metrics/Prometheus/" title="Enabling support for Prometheus." class="md-nav__link">
      Enabling support for Prometheus.
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Smokeping/" title="Smokeping integration" class="md-nav__link">
      Smokeping integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Weathermap/" title="Network-WeatherMap with LibreNMS" class="md-nav__link">
      Network-WeatherMap with LibreNMS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      7. API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        7. API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/" title="Using the API" class="md-nav__link">
      Using the API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Devices/" title="Devices" class="md-nav__link">
      Devices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/DeviceGroups/" title="DeviceGroups" class="md-nav__link">
      DeviceGroups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Ports/" title="Ports" class="md-nav__link">
      Ports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/PortGroups/" title="PortGroups" class="md-nav__link">
      PortGroups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Alerts/" title="Alerts" class="md-nav__link">
      Alerts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Routing/" title="Routing" class="md-nav__link">
      Routing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Switching/" title="Switching" class="md-nav__link">
      Switching
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Inventory/" title="Inventory" class="md-nav__link">
      Inventory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Bills/" title="Bills" class="md-nav__link">
      Bills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/ARP/" title="ARP" class="md-nav__link">
      ARP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Services/" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/System/" title="System" class="md-nav__link">
      System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../API/Logs/" title="Logs" class="md-nav__link">
      Logs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      8. Alerting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        8. Alerting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Rules/" title="Rules" class="md-nav__link">
      Rules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Templates/" title="Templates" class="md-nav__link">
      Templates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Transports/" title="Transports" class="md-nav__link">
      Transports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Creating-Transport/" title="Creating a new Transport." class="md-nav__link">
      Creating a new Transport.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Entities/" title="Entities" class="md-nav__link">
      Entities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Macros/" title="Macros" class="md-nav__link">
      Macros
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Testing/" title="Testing" class="md-nav__link">
      Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Alerting/Device-Dependencies/" title="Device Dependencies" class="md-nav__link">
      Device Dependencies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      9. Getting help
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        9. Getting help
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/" title="How to get help" class="md-nav__link">
      How to get help
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Install Validation/" title="Install validation" class="md-nav__link">
      Install validation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Performance/" title="Performance optimisations" class="md-nav__link">
      Performance optimisations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Discovery Support/" title="Discovery Support" class="md-nav__link">
      Discovery Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Poller Support/" title="Poller Support" class="md-nav__link">
      Poller Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Example-Hardware-Setup/" title="Example Hardware Setup" class="md-nav__link">
      Example Hardware Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Remote-Monitoring-VPN/" title="Remote monitoring using tinc VPN" class="md-nav__link">
      Remote monitoring using tinc VPN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/SNMP-Configuration-Examples/" title="SNMP configuration examples" class="md-nav__link">
      SNMP configuration examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/SSL-Configuration/" title="Ubuntu 16.04" class="md-nav__link">
      Ubuntu 16.04
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Device-Troubleshooting/" title="Capture Debug Information" class="md-nav__link">
      Capture Debug Information
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Device-Sensors/" title="Device Sensors" class="md-nav__link">
      Device Sensors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      10. Contributing + Developing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        10. Contributing + Developing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Getting-Started/" title="Get ready to contribute to LibreNMS" class="md-nav__link">
      Get ready to contribute to LibreNMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Using-Git/" title="Using Git" class="md-nav__link">
      Using Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Code-Guidelines/" title="Coding guidelines" class="md-nav__link">
      Coding guidelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Style-Guidelines/" title="Style guidelines" class="md-nav__link">
      Style guidelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Validating-Code/" title="Validating Code" class="md-nav__link">
      Validating Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Code-Structure/" title="Code structure" class="md-nav__link">
      Code structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Creating-Documentation/" title="Creating Documentation" class="md-nav__link">
      Creating Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Licensing/" title="Licensing" class="md-nav__link">
      Licensing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Component/" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MIB-based-polling/" title="Mib Based Polling (ALPHA)" class="md-nav__link">
      Mib Based Polling (ALPHA)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-12" type="checkbox" id="nav-11-12">
    
    <label class="md-nav__link" for="nav-11-12">
      Support for a new OS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-12">
        Support for a new OS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Support-New-OS/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/os/Initial-Detection/" title="Initial Detection" class="md-nav__link">
      Initial Detection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/os/Mem-CPU-Information/" title="Mem CPU Information" class="md-nav__link">
      Mem CPU Information
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/os/Test-Units/" title="Tests" class="md-nav__link">
      Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/os/Health-Information/" title="Health Information" class="md-nav__link">
      Health Information
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/os/Wireless-Sensors/" title="Wireless Sensors" class="md-nav__link">
      Wireless Sensors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/os/Custom-Graphs/" title="Custom Graphs" class="md-nav__link">
      Custom Graphs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/os/Settings/" title="Optional OS Settings" class="md-nav__link">
      Optional OS Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Sensor-State-Support/" title="Sensor State Support" class="md-nav__link">
      Sensor State Support
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/SNMP-Traps/" title="Creating snmp trap handlers" class="md-nav__link">
      Creating snmp trap handlers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Dynamic-Config/" title="Adding new config options to WebUI" class="md-nav__link">
      Adding new config options to WebUI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Merging-Pull-Requests/" title="Merging Pull Requests" class="md-nav__link">
      Merging Pull Requests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Developing/Creating-Release/" title="Creating a release" class="md-nav__link">
      Creating a release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Plugin-System/" title="Developing for the Plugin System" class="md-nav__link">
      Developing for the Plugin System
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      11. Misc
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        11. Misc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/Security/" title="Security information" class="md-nav__link">
      Security information
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/CLI-Tools/" title="CLI Scripts" class="md-nav__link">
      CLI Scripts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-3" type="checkbox" id="nav-12-3">
    
    <label class="md-nav__link" for="nav-12-3">
      Device Notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-3">
        Device Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Device-Notes/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Support/Device-Notes/Carel-pCOweb-Devices/" title="Carel pCOweb" class="md-nav__link">
      Carel pCOweb
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#available-authentication-modules" title="Available authentication modules" class="md-nav__link">
    Available authentication modules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enable-authentication-module" title="Enable authentication module" class="md-nav__link">
    Enable authentication module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-levels-and-user-account-type" title="User levels and User account type" class="md-nav__link">
    User levels and User account type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-for-selinux-users" title="Note for SELinux users" class="md-nav__link">
    Note for SELinux users
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-authentication" title="Testing authentication" class="md-nav__link">
    Testing authentication
  </a>
  
</li>
      
      
        <li class="md-nav__item">
          <a href="#__source" title="Source" class="md-nav__link md-nav__link--active">
            Source
          </a>
        </li>
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/librenms/librenms/edit/master/doc/Extensions/Authentication.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="authentication-modules">Authentication modules</h1>
<p>LibreNMS supports multiple authentication modules along with <a href="http://docs.librenms.org/Extensions/Two-Factor-Auth/">Two Factor Auth</a>.
Here we will provide configuration details for these modules.</p>
<h3 id="available-authentication-modules">Available authentication modules</h3>
<ul>
<li>
<p>MySQL: <a href="#mysql-authentication">mysql</a></p>
</li>
<li>
<p>Active Directory: <a href="#active-directory-authentication">active_directory</a></p>
</li>
<li>
<p>LDAP: <a href="#ldap-authentication">ldap</a></p>
</li>
<li>
<p>Radius: <a href="#radius-authentication">radius</a></p>
</li>
<li>
<p>HTTP Auth: <a href="#http-authentication">http-auth</a>, <a href="#http-authentication-ad-authorization">ad_authorization</a>, <a href="#http-authentication-ldap-authorization">ldap_authorization</a></p>
</li>
<li>
<p>Single Sign-on: <a href="#single-sign-on">sso</a></p>
</li>
</ul>
<p>⚠️ <strong>When enabling a new authentication module, the local users will no longer be available to log in.</strong></p>
<h3 id="enable-authentication-module">Enable authentication module</h3>
<p>To enable a particular authentication module you need to set this up in config.php. Please note that only ONE module can be enabled. LibreNMS doesn't support multiple authentication mechanism at the same time.</p>
<pre><code class="php">$config['auth_mechanism'] = &quot;mysql&quot;;
</code></pre>

<h3 id="user-levels-and-user-account-type">User levels and User account type</h3>
<ul>
<li>
<p>1: <strong>Normal User</strong>: You will need to assign device / port permissions for users at this level.</p>
</li>
<li>
<p>5: <strong>Global Read</strong>: Read only Administrator. </p>
</li>
<li>
<p>10: <strong>Administartor</strong>: This is a global read/write admin account.</p>
</li>
<li>
<p>11: <strong>Demo Account</strong>: Provides full read/write with certain restrictions (i.e can't delete devices).</p>
</li>
</ul>
<p><strong>Note</strong> Oxidized configs can often contain sensitive data. Because of that only Administrator account type can see configs.</p>
<h3 id="note-for-selinux-users">Note for SELinux users</h3>
<p>When using SELinux on the LibreNMS server, you need to allow Apache (httpd) to connect LDAP/Active Directory server, this is disabled by default. You can use SELinux Booleans to allow network access to LDAP resources with this command:</p>
<pre><code class="shell">setsebool -P httpd_can_connect_ldap=1
</code></pre>

<h3 id="testing-authentication">Testing authentication</h3>
<p>You can test authentication with this script:</p>
<pre><code class="shell">./scripts/auth_test.php
</code></pre>

<p>Enable debug output to troubleshoot issues</p>
<h1 id="mysql-authentication">MySQL Authentication</h1>
<p>Config option: <code>mysql</code></p>
<p>This is default option with LibreNMS so you should have already have the configuration setup.</p>
<pre><code class="php">$config['db_host'] = &quot;HOSTNAME&quot;;
$config['db_user'] = &quot;DBUSER&quot;;
$config['db_pass'] = &quot;DBPASS&quot;;
$config['db_name'] = &quot;DBNAME&quot;;
</code></pre>

<h1 id="active-directory-authentication">Active Directory Authentication</h1>
<p>Config option: <code>active_directory</code></p>
<p>Install <strong>php_ldap</strong>  or <strong>php7.0-ldap</strong>, making sure to install the same version as PHP.</p>
<p>If you have issues with secure LDAP try setting <code>$config['auth_ad_check_certificates']</code> to <code>0</code>, this will ignore certificate errors.</p>
<h3 id="require-actual-membership-of-the-configured-groups">Require actual membership of the configured groups</h3>
<p>If you set <code>$config['auth_ad_require_groupmembership']</code> to 1, the authenticated user has to be a member of the specific group.
Otherwise all users can authenticate, and will be either level 0 or you may set <code>$config['auth_ad_global_read']</code> to 1 and all users will have read only access unless otherwise specified.</p>
<h4 id="old-account-cleanup">Old account cleanup</h4>
<p>Cleanup of old accounts is done by checking the authlog. You will need to set the number of days when old accounts will be purged AUTOMATICALLY by daily.sh.</p>
<blockquote>
<p>Please ensure that you set the $config['authlog_purge'] value to be greater than $config['active_directory']['users_purge'] otherwise old users won't be removed.</p>
</blockquote>
<h3 id="sample-configuration">Sample configuration</h3>
<pre><code class="php">$config['auth_mechanism'] = 'active_directory';
$config['auth_ad_url'] = 'ldaps://server.example.com';    // Set server(s), space separated. Prefix with ldaps:// for ssl
$config['auth_ad_domain'] = 'example.com';
$config['auth_ad_base_dn'] = 'dc=example,dc=com';         // groups and users must be under this dn
$config['auth_ad_check_certificates'] = true;             // require a valid ssl certificate
$config['auth_ad_binduser'] = 'examplebinduser';          // bind user (non-admin)
$config['auth_ad_bindpassword'] = 'examplepassword';      // bind password
$config['auth_ad_timeout'] = 5;                           // time to wait before giving up (or trying the next server)
$config['auth_ad_debug'] = false;                         // enable for verbose debug messages
$config['active_directory']['users_purge'] = 30;          // purge users who haven't logged in for 30 days.
$config['auth_ad_require_groupmembership'] = true;        // false: allow all users to auth level 0
$config['auth_ad_groups']['ad-admingroup']['level'] = 10; // set the &quot;AD AdminGroup&quot; group to admin level
$config['auth_ad_groups']['ad-usergroup']['level'] = 5;   // set the &quot;AD UserGroup&quot; group to global read only level

</code></pre>

<p>Replace <code>ad-admingroup</code> with your Active Directory admin-user group and <code>ad-usergroup</code> with your standard user group.
It is <strong>highly suggested</strong> to create a bind user, otherwise "remember me", alerting users, and the API will not work.</p>
<h3 id="active-directory-redundancy">Active Directory redundancy</h3>
<p>You can set two Active Directory servers by editing the <code>$config['auth_ad_url']</code> like this example:</p>
<pre><code>$config['auth_ad_url'] = &quot;ldaps://dc1.example.com ldaps://dc2.example.com&quot;;
</code></pre>

<h3 id="active-directory-ldap-filters">Active Directory LDAP filters</h3>
<p>You can add an LDAP filter to be ANDed with the builtin user filter (<code>(sAMAccountName=$username)</code>).</p>
<p>The defaults are:</p>
<pre><code>$config['auth_ad_user_filter'] = &quot;(objectclass=user)&quot;;
$config['auth_ad_group_filter'] = &quot;(objectclass=group)&quot;;
</code></pre>

<p>This yields <code>(&amp;(objectclass=user)(sAMAccountName=$username))</code> for the user filter and <code>(&amp;(objectclass=group)(sAMAccountName=$group))</code> for the group filter.</p>
<h1 id="ldap-authentication">LDAP Authentication</h1>
<p>Config option: <code>ldap</code></p>
<p>Install <strong>php_ldap</strong> or <strong>php7.0-ldap</strong>, making sure to install the same version as PHP.</p>
<h3 id="standard-config">Standard config</h3>
<pre><code class="php">$config['auth_mechanism'] = 'ldap';
$config['auth_ldap_server'] = 'ldap.example.com';               // Set server(s), space separated. Prefix with ldaps:// for ssl
$config['auth_ldap_suffix'] = ',ou=People,dc=example,dc=com';   // appended to usernames
$config['auth_ldap_groupbase'] = 'ou=groups,dc=example,dc=com'; // all groups must be inside this
$config['auth_ldap_groups']['admin']['level'] = 10;             // set admin group to admin level
$config['auth_ldap_groups']['pfy']['level'] = 5;                // set pfy group to global read only level
$config['auth_ldap_groups']['support']['level'] = 1;            // set support group as a normal user
</code></pre>

<h3 id="additional-options-usually-not-needed">Additional options (usually not needed):</h3>
<pre><code class="php">$config['auth_ldap_version'] = 3; # v2 or v3
$config['auth_ldap_port'] = 389;                    // 389 or 636 for ssl
$config['auth_ldap_starttls'] = True;               // Enable TLS on port 389
$config['auth_ldap_prefix'] = 'uid=';               // prepended to usernames
$config['auth_ldap_group']  = 'cn=groupname,ou=groups,dc=example,dc=com'; // generic group with level 0
$config['auth_ldap_groupmemberattr'] = 'memberUid'; // attribute to use to see if a user is a member of a group
$config['auth_ldap_uid_attribute'] = 'uidnumber';   // attribute for unique id
$config['auth_ldap_debug'] = false;                 // enable for verbose debug messages
$config['auth_ldap_userdn'] = true;                 // Uses a users full DN as the value of the member attribute in a group instead of member: username. (it’s member: uid=username,ou=groups,dc=domain,dc=com)
</code></pre>

<h3 id="ldap-bind-user-optional">LDAP bind user (optional)</h3>
<p>If your ldap server does not allow anonymous bind, it is highly suggested to create a bind user, otherwise "remember me", alerting users, and the API will not work.</p>
<pre><code class="php">$config['auth_ldap_binduser'] = 'ldapbind'; // will use auth_ldap_prefix and auth_ldap_suffix
#$config['auth_ldap_binddn'] = 'CN=John.Smith,CN=Users,DC=MyDomain,DC=com'; // overrides binduser
$config['auth_ldap_bindpassword'] = 'password';
</code></pre>

<h3 id="ldap-server-redundancy">LDAP server redundancy</h3>
<p>You can set two LDAP servers by editing the <code>$config['auth_ldap_server']</code> like this example:</p>
<pre><code>$config['auth_ldap_server'] = &quot;ldaps://dir1.example.com ldaps://dir2.example.com&quot;;
</code></pre>

<p>An example config setup for use with Jumpcloud LDAP as a service is:</p>
<pre><code class="php">$config['auth_mechanism'] = &quot;ldap&quot;;
$config['auth_ldap_version'] = 3;
$config['auth_ldap_server'] = &quot;ldap.jumpcloud.com&quot;; #Set to ldaps://ldap.jumpcloud.com to enable LDAPS
$config['auth_ldap_port'] = 389; #Set to 636 if using LDAPS
$config['auth_ldap_prefix'] = &quot;uid=&quot;;
$config['auth_ldap_suffix'] = &quot;,ou=Users,o={id},dc=jumpcloud,dc=com&quot;;
$config['auth_ldap_groupbase'] = &quot;ou=Users,o={id},dc=jumpcloud,dc=com&quot;;
$config['auth_ldap_groupmemberattr'] = &quot;member&quot;;
$config['auth_ldap_groups'] = ['{group}' =&gt; ['level' =&gt; 10],];
$config['auth_ldap_userdn'] = true;
</code></pre>

<p>Replace {id} with the unique ID provided by Jumpcloud.  Replace {group} with the unique group name created in Jumpcloud.  This field is case sensitive.</p>
<p>Note: If you have multiple user groups to define individual access levels replace the <code>$config['auth_ldap_groups']</code> line with the following:</p>
<pre><code class="php">$config['auth_ldap_groups'] = [
    '{admin_group}' =&gt; ['level' =&gt; 10],
    '{global_readonly_group}' =&gt; ['level' =&gt; 5],
];
</code></pre>

<h1 id="radius-authentication">Radius Authentication</h1>
<p>Please note that a mysql user is created for each user the logs in successfully. User level 1 is assigned to those accounts so you will then need to assign the relevant permissions unless you set <code>$config['radius']['userlevel']</code> to be something other than 1.</p>
<pre><code class="php">$config['radius']['hostname']   = 'localhost';
$config['radius']['port']       = '1812';
$config['radius']['secret']     = 'testing123';
$config['radius']['timeout']    = 3;
$config['radius']['users_purge'] = 14;//Purge users who haven't logged in for 14 days.
$config['radius']['default_level'] = 1;//Set the default user level when automatically creating a user.
</code></pre>

<h4 id="old-account-cleanup_1">Old account cleanup</h4>
<p>Cleanup of old accounts is done by checking the authlog. You will need to set the number of days when old accounts will be purged AUTOMATICALLY by daily.sh.</p>
<blockquote>
<p>Please ensure that you set the $config['authlog_purge'] value to be greater than $config['radius']['users_purge'] otherwise old users won't be removed.</p>
</blockquote>
<h1 id="http-authentication">HTTP Authentication</h1>
<p>Config option: <code>http-auth</code></p>
<p>LibreNMS will expect the user to have authenticated via your webservice already. At this stage it will need to assign a
userlevel for that user which is done in one of two ways:</p>
<ul>
<li>
<p>A user exists in MySQL still where the usernames match up.</p>
</li>
<li>
<p>A global guest user (which still needs to be added into MySQL:</p>
</li>
</ul>
<pre><code class="php">$config['http_auth_guest'] = &quot;guest&quot;;
</code></pre>

<p>This will then assign the userlevel for guest to all authenticated users.</p>
<h2 id="http-authentication-ad-authorization">HTTP Authentication / AD Authorization</h2>
<p>Config option: <code>ad-authorization</code></p>
<p>This module is a combination of <strong><em>http-auth</em></strong> and <strong><em>active</em>directory</strong>_</p>
<p>LibreNMS will expect the user to have authenticated via your webservice already (e.g. using Kerberos Authentication in Apache) but will use Active Directory lookups to determine and assign the userlevel of a user.
The userlevel will be calculated by using AD group membership information as the <strong><em>active</em>directory</strong>_ module does.</p>
<p>The configuration is the same as for the <strong><em>active</em>directory</strong>_ module with two extra, optional options: auth_ad_binduser and auth_ad_bindpassword.
These should be set to a AD user with read capabilities in your AD Domain in order to be able to perform searches. 
If these options are omitted, the module will attempt an anonymous bind (which then of course must be allowed by your Active Directory server(s)).</p>
<p>There is also one extra option for controlling user information caching: auth_ldap_cache_ttl.
This option allows to control how long user information (user_exists, userid, userlevel) are cached within the PHP Session.
The default value is 300 seconds.
To disable this caching (highly discourage) set this option to 0.</p>
<pre><code class="php">$config['auth_ad_binduser']     = &quot;ad_binduser&quot;;
$config['auth_ad_bindpassword'] = &quot;ad_bindpassword&quot;;
$config['auth_ldap_cache_ttl']  = 300;
</code></pre>

<h2 id="http-authentication-ldap-authorization">HTTP Authentication / LDAP Authorization</h2>
<p>Config option: <code>ldap-authorization</code></p>
<p>This module is a combination of <strong><em>http-auth</em></strong> and <strong><em>ldap</em></strong></p>
<p>LibreNMS will expect the user to have authenticated via your webservice already (e.g. using Kerberos Authentication in Apache) but will use LDAP to determine and assign the userlevel of a user.
The userlevel will be calculated by using LDAP group membership information as the <strong><em>ldap</em></strong> module does.</p>
<p>The configuration is the same as for the <strong><em>ldap</em></strong> module with one extra option: auth_ldap_cache_ttl.
This option allows to control how long user information (user_exists, userid, userlevel) are cached within the PHP Session.
The default value is 300 seconds.
To disabled this caching (highly discourage) set this option to 0.</p>
<pre><code class="php">$config['auth_ldap_cache_ttl'] = 300;
</code></pre>

<h2 id="viewembedded-graphs-without-being-logged-into-librenms">View/embedded graphs without being logged into LibreNMS</h2>
<pre><code class="php">$config['allow_unauth_graphs_cidr'] = array('127.0.0.1/32');
$config['allow_unauth_graphs'] = true;
</code></pre>

<h1 id="single-sign-on">Single Sign-on</h1>
<p>The single sign-on mechanism is used to integrate with third party authentication providers that are managed outside of LibreNMS - such as ADFS, Shibboleth, EZProxy, BeyondCorp, and others.
A large number of these methods use <a href="https://en.wikipedia.org/wiki/Security_Assertion_Markup_Language">SAML</a> - the module has been written assuming the use of SAML, and therefore these instructions contain some SAML terminology, but it should be possible to use any software that works in a similar way.</p>
<p>In order to make use of the single sign-on module, you need to have an Identity Provider up and running, and know how to configure your Relying Party to pass attributes to LibreNMS via header injection or environment variables. Setting these up is outside of the scope of this documentation.</p>
<p>As this module deals with authentication, it is extremely careful about validating the configuration - if it finds that certain values in the configuration are not set, it will reject access rather than try and guess.</p>
<h2 id="basic-configuration">Basic Configuration</h2>
<p>To get up and running, all you need to do is configure the following values:</p>
<pre><code class="php">$config['auth_mechanism']        = &quot;sso&quot;;
$config['sso']['mode']           = &quot;env&quot;;
$config['sso']['group_strategy'] = &quot;static&quot;;
$config['sso']['static_level']   = 10;
</code></pre>

<p>This, along with the defaults, sets up a basic Single Sign-on setup that:
* Reads values from environment variables
* Automatically creates users when they're first seen
* Authomatically updates users with new values
* Gives everyone privilege level 10</p>
<p>This happens to mimic the behaviour of <a href="#http-auth">http-auth</a>, so if this is the kind of setup you want, you're probably better of just going and using that mechanism.</p>
<h2 id="security">Security</h2>
<p>If there is a proxy involved (e.g. EZProxy, Azure AD Application Proxy, NGINX, mod_proxy) it's <strong><em>essential</em></strong> that you have some means in place to prevent headers being injected between the proxy and the end user, and also prevent end users from contacting LibreNMS directly.</p>
<p>This should also apply to user connections to the proxy itself - the proxy <strong><em>must not</em></strong> be allowed to blindly pass through HTTP headers. <strong><em>mod</em>security</strong>_ should be considered a minimum, with a full <a href="https://en.wikipedia.org/wiki/Web_application_firewall">WAF</a> being strongly recommended. This advice applies to the IDP too.</p>
<p>The mechanism includes very basic protection, in the form of an IP whitelist with should contain the source addresses of your proxies:</p>
<pre><code class="php">$config['sso']['trusted_proxies'] = ['127.0.0.1/8', '::1/128', '192.0.2.0', '2001:DB8::'];
</code></pre>

<p>This configuration item should contain an array with a list of IP addresses or CIDR prefixes that are allowed to connect to LibreNMS and supply environment variables or headers.</p>
<h2 id="advanced-configuration-options">Advanced Configuration Options</h2>
<h3 id="user-attribute">User Attribute</h3>
<p>If for some reason your relying party doesn't store the username in <strong><em>REMOTE</em>USER</strong>_, you can override this choice.</p>
<pre><code class="php">$config['sso']['user_attr'] = 'HTTP_UID';
</code></pre>

<p>Note that the user lookup is a little special - normally headers are prefixed with <strong><em>HTTP_</em></strong>, however this is not the case for remote user - it's a special case. If you're using something different you need to figure out of the <strong><em>HTTP_</em></strong> prefix is required or not yourself.</p>
<h3 id="automatic-user-createupdate">Automatic User Create/Update</h3>
<p>These are enabled by default:</p>
<pre><code class="php">$config['sso']['create_users'] = true;
$config['sso']['update_users'] = true;
</code></pre>

<p>If these are not enabled, user logins will be (somewhat silently) rejected unless an administrator has created the account in advance. Note that in the case of SAML federations, unless release of the users true identity has been negotiated with the IDP, the username (probably ePTID) is not likely to be predicable.</p>
<h3 id="personalisation">Personalisation</h3>
<p>If the attributes are being populated, you can instruct the mechanism to add additional information to the user's database entry:</p>
<pre><code class="php">$config['sso']['email_attr']    = &quot;mail&quot;;
$config['sso']['realname_attr'] = &quot;displayName&quot;;
$config['sso']['descr_attr']    = &quot;unscoped-affiliation
</code></pre>

<h3 id="group-strategies">Group Strategies</h3>
<h4 id="static">Static</h4>
<p>As used above, <strong><em>static</em></strong> gives every single user the same privilege level. If you're working with a small team, or don't need access control, this is probably suitable.</p>
<h4 id="attribute">Attribute</h4>
<pre><code class="php">$config['sso']['group_strategy'] = &quot;attribute&quot;;
$config['sso']['level_attr']     = &quot;entitlement&quot;;
</code></pre>

<p>If your Relying Party is capable of calculating the necessary privilege level, you can configure the module to read the privilege number straight from an attribute. <strong><em>sso</em>level_attr</strong><em> should contain the name of the attribute that the Relying Party exposes to LibreNMS - as long as <strong><em>sso</em>mode</strong></em> is correctly set, the mechanism should find the value.</p>
<h3 id="group-map">Group Map</h3>
<p>This is the most flexible (and complex) way of assigning privileges.</p>
<pre><code class="php">$config['sso']['group_strategy']  = &quot;map&quot;;
$config['sso']['group_attr']      = &quot;member&quot;;
$config['sso']['group_level_map'] = ['librenms-admins' =&gt; 10, 'librenms-readers' =&gt; 1, 'librenms-billingcontacts' =&gt; 5];
$config['sso']['group_delimiter'] = ';';
</code></pre>

<p>The mechanism expects to find a delimited list of groups within the attribute that <strong><em>sso</em>group_attr</strong>_ points to. This should be an associative array of group name keys, with  privilege levels as values.
The mechanism will scan the list and find the <strong><em>highest</em></strong> privilege level that the user is entitled to, and assign that value to the user.</p>
<p>This format may be specific to Shibboleth; other relying party software may need changes to the mechanism (e.g. <strong><em>mod</em>auth_mellon</strong>_ may create pseudo arrays).</p>
<p>There is an optional value for sites with large numbers of groups:</p>
<pre><code class="php">$config['sso']['group_filter']  = &quot;/librenms-(.*)/i&quot;;
</code></pre>

<p>This filter causes the mechanism to only consider groups matching a regular expression.</p>
<h3 id="logout-behaviour">Logout Behaviour</h3>
<p>LibreNMS has no capability to log out a user authenticated via Single Sign-On - that responsability falls to the Relying Party.</p>
<p>If your Relying Party has a magic URL that needs to be called to end a session, you can configure LibreNMS to direct the user to it:</p>
<pre><code class="php">$config['post_logout_action'] = '/Shibboleth.sso/Logout';
</code></pre>

<p>This option functions independantly of the Single Sign-on mechanism.</p>
<h2 id="complete-configuration">Complete Configuration</h2>
<p>This configuration works on my deployment with a Shibboleth relying party, injecting environment variables, with the IDP supplying a list of groups.</p>
<pre><code class="php">$config['auth_mechanism'] = 'sso';
$config['auth_logout_handler'] = '/Shibboleth.sso/Logout';
$config['sso']['mode'] = 'env';
$config['sso']['create_users'] = true;
$config['sso']['update_users'] = true;
$config['sso']['realname_attr'] = 'displayName';
$config['sso']['email_attr'] = 'mail';
$config['sso']['group_strategy'] = 'map';
$config['sso']['group_attr'] = 'member';
$config['sso']['group_filter'] = '/(librenms-.*)/i';
$config['sso']['group_delimiter'] = ';';
$config['sso']['group_level_map'] = ['librenms-demo' =&gt; 11, 'librenms-globaladmin' =&gt; 10, 'librenms-globalread' =&gt; 5, 'librenms-lowpriv'=&gt; 1];
</code></pre>
                
                  
                    <h2 id="__source">Source</h2>
                    
                    
                      
                    
                    
                    
                    <a href="https://github.com/librenms/librenms/blob/master/doc//Extensions/Authentication.md" title="Extensions/Authentication.md" class="md-source-file">
                      Extensions/Authentication.md
                    </a>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../Support/Configuration/" title="Configuration docs" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Configuration docs
              </span>
            </div>
          </a>
        
        
          <a href="../Two-Factor-Auth/" title="Two-Factor Auth" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Two-Factor Auth
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>