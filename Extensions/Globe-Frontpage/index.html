<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="LibreNMS">
    <link rel="canonical" href="http://docs.librenms.org/Extensions/Globe-Frontpage/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Globe Frontpage - LibreNMS Docs</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../librenms.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Globe Frontpage Configuration", url: "#globe-frontpage-configuration", children: [
              {title: "World Map", url: "#world-map" },
              {title: "Leaflet config", url: "#leaflet-config" },
              {title: "Jquery-Mapael config", url: "#jquery-mapael-config" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-79149977-2', 'docs.librenms.org');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
    


    
      <div class="source-links">
      
          <span class="label label-primary"><a href="https://github.com/librenms/librenms/edit/master/doc/Extensions/Globe-Frontpage.md" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
      </div>
    

    <h1 id="globe-frontpage-configuration">Globe Frontpage Configuration</h1>
<p>LibreNMS comes with a configurable geochart based widget to visualize where your equipment is located geographically.</p>
<h3 id="world-map">World Map</h3>
<p>An new map is available, this requires you to have properly formatted addresses in sysLocation or sysLocation override. As part of the standard poller these addresses will be Geocoded by Google and stored in the database. To enable this please set the following config:</p>
<pre><code class="php">$config['geoloc']['latlng'] = true;
$config['geoloc']['engine'] = &quot;google&quot;;//Only one available at present
</code></pre>

<p>Location resolution happens as follows (when <code>$config['geoloc']['latlng'] == true;</code>):
 1. If <code>device['location']</code> contains <code>[lat, lng]</code> (note the square brackets), that is used
 1. If there is a location overide for the device in the WebUI and it contains <code>[lat, lng]</code> (note the square brackets), that is used.
 1. Attempt to resolve lat, lng using <code>$config['geoloc']['engine']</code></p>
<p>We have two current mapping engines available:</p>
<ul>
<li>Leaflet (default)</li>
<li>Jquery-Mapael</li>
</ul>
<h3 id="leaflet-config">Leaflet config</h3>
<p>This is a simple engine to use yet is quite powerful, here you can see how to enable this engine and zoom to a default place.</p>
<pre><code class="php">$config['map']['engine']                                = &quot;leaflet&quot;;
$config['leaflet']['default_lat']                       = &quot;50.898482&quot;;
$config['leaflet']['default_lng']                       = &quot;-3.401402&quot;;
$config['leaflet']['default_zoom']                       = 8;
</code></pre>

<p>If you can't access OpenStreet map directly you can run a local <a href="http://wiki.openstreetmap.org/wiki/Tile_servers">tile server</a>. To specify a different url you can set:</p>
<pre><code class="php">$config['leaflet']['tile_url'] = 'localhost.com';
</code></pre>

<h3 id="jquery-mapael-config">Jquery-Mapael config</h3>
<p>Further custom options are available to load different maps of the world, set default coordinates of where the map will zoom and the zoom level by default. An example of
this is:</p>
<pre><code class="php">$config['map']['engine']                                = &quot;jquery-mapael&quot;;
$config['mapael']['default_map'] = 'mapael-maps/united_kingdom/united_kingdom.js';
$config['mapael']['map_width'] = 400;
$config['mapael']['default_lat'] = '50.898482';
$config['mapael']['default_lng'] = '-3.401402';
$config['mapael']['default_zoom'] = 20;
</code></pre>

<p>A list of maps can be found in html/js/maps/ or html/js/mapael-maps/.</p>

  <br>
    


    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>