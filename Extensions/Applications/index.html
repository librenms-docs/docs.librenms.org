<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="LibreNMS">
        <link rel="canonical" href="http://docs.librenms.org/Extensions/Applications/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	    <title>Applications - LibreNMS Docs</title>

        <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.6.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/color.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../librenms.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-79149977-2', 'docs.librenms.org');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">LibreNMS Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li id="dropdown-Installation" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Installation/Installing-LibreNMS/">Installing LibreNMS</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Ubuntu-image/">Ubuntu VM Image</a>
</li>

                        
                            
<li >
    <a href="../../Installation/CentOS-image/">CentOS VM Image</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1604-Nginx/">Ubuntu 16.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1604-Apache/">Ubuntu 16.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-CentOS-7-Nginx/">CentOS 7 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-CentOS-7-Apache/">CentOS 7 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installing-LibreNMS/">Older Docs</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Migrating-from-Observium/">Migrating from Observium</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-General" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../General/Acknowledgement/">Acknowledgement</a>
</li>

                        
                            
<li >
    <a href="../../General/Callback-Stats-and-Privacy/">Callback Stats and Privacy</a>
</li>

                        
                            
<li >
    <a href="../../General/Changelog/">Changelog</a>
</li>

                        
                            
<li >
    <a href="../../General/Contributing/">Contributing</a>
</li>

                        
                            
<li >
    <a href="../../General/Credits/">Credits</a>
</li>

                        
                            
<li >
    <a href="../../General/Updating/">Updating</a>
</li>

                        
                            
<li >
    <a href="../../General/Releases/">Releases</a>
</li>

                        
                            
<li >
    <a href="../../General/Security/">Security</a>
</li>

                        
                            
<li >
    <a href="../../General/Welcome-to-Observium-users/">Welcome to Observium users</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Extensions" class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extensions <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../Alerting/">Alerting</a>
</li>

                        
                            
<li class="active">
    <a href="./">Applications</a>
</li>

                        
                            
<li >
    <a href="../Authentication/">Authentication</a>
</li>

                        
                            
<li >
    <a href="../Auto-Discovery/">Auto Discovery</a>
</li>

                        
                            
<li >
    <a href="../Billing-Module/">Billing Module</a>
</li>

                        
                            
<li >
    <a href="../Component/">Component</a>
</li>

                        
                            
<li >
    <a href="../Dell-OpenManage/">Dell OpenManage</a>
</li>

                        
                            
<li >
    <a href="../Device-Groups/">Device Groups</a>
</li>

                        
                            
<li >
    <a href="../Distributed-Poller/">Distributed Poller</a>
</li>

                        
                            
<li >
    <a href="../Email-Alerting/">Email Alerting</a>
</li>

                        
                            
<li >
    <a href="../Globe-Frontpage/">Globe Frontpage</a>
</li>

                        
                            
<li >
    <a href="../Graylog/">Graylog</a>
</li>

                        
                            
<li >
    <a href="../Graphite/">Graphite</a>
</li>

                        
                            
<li >
    <a href="../IRC-Bot/">IRC Bot</a>
</li>

                        
                            
<li >
    <a href="../IRC-Bot-Extensions/">IRC Bot Extensions</a>
</li>

                        
                            
<li >
    <a href="../InfluxDB/">InfluxDB</a>
</li>

                        
                            
<li >
    <a href="../Interface-Description-Parsing/">Interface Description Parsing</a>
</li>

                        
                            
<li >
    <a href="../MIB-based-polling/">MIB based polling</a>
</li>

                        
                            
<li >
    <a href="../Memcached/">Memcached</a>
</li>

                        
                            
<li >
    <a href="../Network-Map/">Network Map</a>
</li>

                        
                            
<li >
    <a href="../NFSen/">NFSen</a>
</li>

                        
                            
<li >
    <a href="../Oxidized/">Oxidized</a>
</li>

                        
                            
<li >
    <a href="../PeeringDB/">PeeringDB</a>
</li>

                        
                            
<li >
    <a href="../Plugin-System/">Plugin System</a>
</li>

                        
                            
<li >
    <a href="../Poller-Service/">Poller Service</a>
</li>

                        
                            
<li >
    <a href="../Port-Description-Parser/">Port Description Parser</a>
</li>

                        
                            
<li >
    <a href="../Proxmox/">Proxmox</a>
</li>

                        
                            
<li >
    <a href="../RRDCached/">RRDCached</a>
</li>

                        
                            
<li >
    <a href="../RRDTune/">RRDTune</a>
</li>

                        
                            
<li >
    <a href="../SNMP-Proxy/">SNMP Proxy</a>
</li>

                        
                            
<li >
    <a href="../SNMP-Trap-Handler/">SNMP Trap Handler</a>
</li>

                        
                            
<li >
    <a href="../Services/">Services</a>
</li>

                        
                            
<li >
    <a href="../Smokeping/">Smokeping</a>
</li>

                        
                            
<li >
    <a href="../Sub-Directory/">Sub Directory</a>
</li>

                        
                            
<li >
    <a href="../Syslog/">Syslog</a>
</li>

                        
                            
<li >
    <a href="../Two-Factor-Auth/">Two Factor Auth</a>
</li>

                        
                            
<li >
    <a href="../Varnish/">Varnish</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Developing" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developing <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Developing/Using-Git/">Using Git</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Code-Guidelines/">Code Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Style-Guidelines/">Style Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Validating-Code/">Validating Code</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Code-Structure/">Code Structure</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Creating-Documentation/">Creating Documentation</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Support-New-OS/">Support New OS</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Dynamic-Config/">Dynamic Config</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Sensor-State-Support/">Sensor State Support</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Merging-Pull-Requests/">Merging Pull Requests</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Creating-Release/">Creating Release</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../API/API-Docs/">API</a>
                    </li>
                
                
                
                    <li id="dropdown-Support" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Support/1-Minute-Polling/">1 Minute Polling</a>
</li>

                        
                            
<li >
    <a href="../../Support/Configuration/">Configuration</a>
</li>

                        
                            
<li >
    <a href="../../Support/Discovery Support/">Discovery Support</a>
</li>

                        
                            
<li >
    <a href="../../Support/Example-Hardware-Setup/">Example Hardware Setup</a>
</li>

                        
                            
<li >
    <a href="../../Support/FAQ/">FAQ</a>
</li>

                        
                            
<li >
    <a href="../../Support/Features/">Features</a>
</li>

                        
                            
<li >
    <a href="../../Support/Install Validation/">Install Validation</a>
</li>

                        
                            
<li >
    <a href="../../Support/Performance/">Performance</a>
</li>

                        
                            
<li >
    <a href="../../Support/Poller Support/">Poller Support</a>
</li>

                        
                            
<li >
    <a href="../../Support/Remote-Monitoring-VPN/">Remote Monitoring VPN</a>
</li>

                        
                            
<li >
    <a href="../../Support/SNMP-Configuration-Examples/">SNMP Configuration Examples</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-hidden" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">hidden <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1404-Nginx/">Ubuntu 14.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1404-Apache/">Ubuntu 14.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-Ubuntu-1404-Lighttpd/">Ubuntu 14.04 (Lighttpd)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-CentOS-6-Apache-Nginx/">CentOS 6 (Apache/Nginx)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-(Debian-Ubuntu)/">Installation (Debian Ubuntu)</a>
</li>

                        
                            
<li >
    <a href="../../Installation/Installation-(RHEL-CentOS)/">Installation (RHEL CentOS)</a>
</li>

                        
                            
<li >
    <a href="../../Support/Support-New-OS/">Support New OS</a>
</li>

                        
                            
<li >
    <a href="../Agent-Setup/">Agent Setup</a>
</li>

                        
                            
<li >
    <a href="../RRDCached-Security/">RRDCached Security</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i>
                        <span class="visible-xs-inline visible-md-inline visible-lg-inline">Search</span>
                    </a>
                </li>
                
                
                    <li>
                        <a href="https://github.com/librenms/librenms">
                            
                                <i class="fa fa-github"></i>
                            
                            <span class="visible-xs-inline visible-lg-inline">GitHub</span>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="row">
            
                
                    <div class="col-md-3">
<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#applications">Applications</a></li>
        
            <li><a href="#apache">Apache</a></li>
        
            <li><a href="#bind9-aka-named">BIND9 aka named</a></li>
        
            <li><a href="#dhcp-stats">DHCP Stats</a></li>
        
            <li><a href="#exim-stats">EXIM Stats</a></li>
        
            <li><a href="#fail2ban">Fail2ban</a></li>
        
            <li><a href="#freebsd-nfs-client">FreeBSD NFS Client</a></li>
        
            <li><a href="#freebsd-nfs-server">FreeBSD NFS Server</a></li>
        
            <li><a href="#mailscanner">Mailscanner</a></li>
        
            <li><a href="#gspd">GSPD</a></li>
        
            <li><a href="#memcached">Memcached</a></li>
        
            <li><a href="#munin">Munin</a></li>
        
            <li><a href="#mysql">MySQL</a></li>
        
            <li><a href="#nginx">NGINX</a></li>
        
            <li><a href="#ntp-client">NTP Client</a></li>
        
            <li><a href="#ntp-server-ntpd">NTP Server (NTPD)</a></li>
        
            <li><a href="#nvidia-gpu">Nvidia GPU</a></li>
        
            <li><a href="#os-updates">OS Updates</a></li>
        
            <li><a href="#php-fpm">PHP-FPM</a></li>
        
            <li><a href="#postfix">Postfix</a></li>
        
            <li><a href="#postgres">Postgres</a></li>
        
            <li><a href="#powerdns">PowerDNS</a></li>
        
            <li><a href="#powerdns-recursor">PowerDNS Recursor</a></li>
        
            <li><a href="#proxmox">Proxmox</a></li>
        
            <li><a href="#raspberry-pi">Raspberry PI</a></li>
        
            <li><a href="#smart">SMART</a></li>
        
            <li><a href="#squid">Squid</a></li>
        
            <li><a href="#tinydns-aka-djbdns">TinyDNS aka  djbdns</a></li>
        
            <li><a href="#unbound">Unbound</a></li>
        
            <li><a href="#ups-nut">UPS-nut</a></li>
        
            <li><a href="#ups-apcups">UPS-apcups</a></li>
        
    
    </ul>
</div>
</div>
                    <div class="col-md-9" role="main">
<div class="row">
  <div class="source-links col-md-offset-8 col-md-4">

    <a href="https://github.com/librenms/librenms/edit/master/doc/Extensions/Applications.md" target="_blank"><i class="fa fa-pencil"></i> Edit on GitHub</a>

  </div>
</div>


<h2 id="applications">Applications</h2>
<p>You can use Application support to graph performance statistics from many applications.</p>
<p>Different applications support a variety of ways collect data: by direct connection to the application, snmpd extend, or <a href="../Agent-Setup/">the agent</a>.</p>
<ol>
<li><a href="#apache">Apache</a> - SNMP extend, Agent</li>
<li><a href="#bind9-aka-named">BIND9/named</a> - Agent</li>
<li><a href="#dhcp-stats">DHCP Stats</a> - SNMP extend</li>
<li><a href="#exim-stats">EXIM Stats</a> - SNMP extend</li>
<li><a href="#fail2ban">Fail2ban</a> - SNMP extend</li>
<li><a href="#freebsd-nfs-client">FreeBSD NFS Client</a> - SNMP extend</li>
<li><a href="#freebsd-nfs-server">FreeBSD NFS Server</a> - SNMP extend</li>
<li><a href="#gpsd">GPSD</a> - Agent</li>
<li><a href="#mailscanner">Mailscanner</a> - SNMP extend</li>
<li><a href="#memcached">Memcached</a> - SNMP extend</li>
<li><a href="#munin">Munin</a> - Agent</li>
<li><a href="#mysql">MySQL</a> - SNMP extend, Agent</li>
<li><a href="#nginx">NGINX</a> - Agent</li>
<li><a href="#ntp-client">NTP Client</a> - SNMP extend</li>
<li><a href="#ntp-server">NTP Server</a> - SNMP extend</li>
<li><a href="#nvidia-gpu">Nvidia GPU</a> - SNMP extend</li>
<li><a href="#os-updates">OS Updates</a> - SNMP extend</li>
<li><a href="#php-fpm">PHP-FPM</a> - SNMP extend</li>
<li><a href="#postfix">Postfix</a> - SNMP extend</li>
<li><a href="#postgres">Postgres</a> - SNMP extend</li>
<li><a href="#powerdns">PowerDNS</a> - Agent</li>
<li><a href="#powerdns-recursor">PowerDNS Recursor</a> - Direct, Agent</li>
<li><a href="#proxmox">Proxmox</a> - SNMP extend</li>
<li><a href="#raspberry-pi">Raspberry PI</a> - SNMP extend</li>
<li><a href="#smart">SMART</a> - SNMP extend</li>
<li><a href="#squid">Squid</a> - SNMP proxy</li>
<li><a href="#tinydns-aka-djbdns">TinyDNS/djbdns</a> - Agent</li>
<li><a href="#unbound">Unbound</a> - Agent</li>
<li><a href="#ups-nut">UPS-nut</a> - SNMP extend</li>
<li><a href="#ups-apcups">UPS-apcups</a> - SNMP extend</li>
</ol>
<h3 id="apache">Apache</h3>
<p>Either use SNMP extend or use the agent.</p>
<h5 id="snmp-extend">SNMP Extend</h5>
<ol>
<li>Download the script onto the desired host (the host must be added to LibreNMS devices)</li>
</ol>
<pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/apache-stats.py -O /etc/snmp/apache-stats.py
</code></pre>

<ol>
<li>
<p>Make the script executable (chmod +x /etc/snmp/apache-stats.py)</p>
</li>
<li>
<p>Verify it is working by running /etc/snmp/apache-stats.py
(In some cases urlgrabber needs to be installed, in Debian it can be achieved by: apt-get install python-urlgrabber)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend apache /etc/snmp/apache-stats.py
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h5 id="agent">Agent</h5>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>apache</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<ol>
<li>Verify it is working by running /usr/lib/check_mk_agent/local/apache
(If you get error like "Can't locate LWP/Simple.pm". libwww-perl needs to be installed: apt-get install libwww-perl)</li>
<li>On the device page in Librenms, edit your host and check the <code>Apache</code> under the Applications tab.</li>
</ol>
<h3 id="bind9-aka-named">BIND9 aka named</h3>
<h5 id="agent_1">Agent</h5>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>bind</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<p>Create stats file with appropriate permissions:</p>
<pre><code class="shell">~$ touch /etc/bind/named.stats
~$ chown bind:bind /etc/bind/named.stats
</code></pre>

<p>Change <code>user:group</code> to the user and group that's running bind/named.</p>
<p>Bind/named configuration:</p>
<pre><code class="text">options {
    ...
    statistics-file &quot;/etc/bind/named.stats&quot;;
    zone-statistics yes;
    ...
};
</code></pre>

<p>Restart your bind9/named after changing the configuration.</p>
<p>Verify that everything works by executing <code>rndc stats &amp;&amp; cat /etc/bind/named.stats</code>.
In case you get a <code>Permission Denied</code> error, make sure you chown'ed correctly.</p>
<p>Note: if you change the path you will need to change the path in <code>scripts/agent-local/bind</code>.</p>
<h3 id="dhcp-stats">DHCP Stats</h3>
<p>A small shell script that reports current DHCP leases stats.</p>
<h5 id="snmp-extend_1">SNMP Extend</h5>
<ol>
<li>
<p>Copy the shell script to the desired host (the host must be added to LibreNMS devices)</p>
</li>
<li>
<p>Make the script executable (chmod +x /etc/snmp/dhcp-status.sh)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend dhcpstats /etc/snmp/dhcp-status.sh
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h3 id="exim-stats">EXIM Stats</h3>
<p>SNMP extend script to get your exim stats data into your host.</p>
<h5 id="snmp-extend_2">SNMP Extend</h5>
<ol>
<li>
<p>Copy the <a href="https://github.com/librenms/librenms-agent/blob/master/snmp/exim-stats.sh">exim stats</a> to <code>/etc/snmp/</code> (or any other suitable location) on your host.</p>
</li>
<li>
<p>Make the script executable: <code>chmod +x /etc/snmp/exim-stats.sh</code></p>
</li>
<li>
<p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add:</p>
</li>
</ol>
<pre><code>extend exim-stats /etc/snmp/exim-stats.sh
</code></pre>

<ol>
<li>If you are using sudo edit your sudo users (usually <code>visudo</code>) and add at the bottom:</li>
</ol>
<pre><code>snmp ALL=(ALL) NOPASSWD: /etc/snmp/exim-stats.sh, /usr/bin/exim*
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h3 id="fail2ban">Fail2ban</h3>
<h4 id="snmp-extend_3">SNMP Extend</h4>
<p>1: Copy the shell script, fail2ban, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/fail2ban -O /etc/snmp/fail2ban)</p>
<p>2: Make the script executable (chmod +x /etc/snmp/fail2ban)</p>
<p>3: Edit your snmpd.conf file (usually /etc/snmp/fail2ban) and add:</p>
<pre><code>extend fail2ban /etc/snmp/fail2ban
</code></pre>

<p>4: Edit /etc/snmp/fail2ban to match the firewall table you are using on your system. You should be good if you are using the defaults. Also make sure that the cache variable is properly set if you wish to use caching. The directory it exists in, needs to exist as well. To make sure it is working with out issue, run '/etc/snmp/fail2ban -u' and make sure it runs with out producing any errors.</p>
<p>5: Restart snmpd on your host</p>
<p>6: If you wish to use caching, add the following to /etc/crontab and restart cron.</p>
<pre><code>*/3    *    *    *    *    root    /etc/snmp/fail2ban -u 
</code></pre>

<p>7: Restart or reload cron on your system.</p>
<p>In regards to the totals graphed there are two variables banned and firewalled. Firewalled is a count of banned entries the firewall for fail2ban and banned is the currently banned total from fail2ban-client. Both are graphed as the total will diverge with some configurations when fail2ban fails to see if a IP is in more than one jail when unbanning it. This is most likely to happen when the recidive is in use.</p>
<p>If you have more than a few jails configured, you may need to use caching as each jail needs to be polled and fail2ban-client can't do so in a timely manner for than a few. This can result in failure of other SNMP information being polled.</p>
<h3 id="freebsd-nfs-client">FreeBSD NFS Client</h3>
<h4 id="snmp-extend_4">SNMP Extend</h4>
<p>1: Copy the shell script, fbsdnfsserver, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/fbsdnfsclient -O /etc/snmp/fbsdnfsclient)</p>
<p>2: Make the script executable (chmod +x /etc/snmp/fbsdnfsclient)</p>
<p>3: Edit your snmpd.conf file and add:</p>
<pre><code>extend fbsdnfsclient /etc/snmp/fbsdnfsclient
</code></pre>

<p>4: Restart snmpd on your host</p>
<h3 id="freebsd-nfs-server">FreeBSD NFS Server</h3>
<h4 id="snmp-extend_5">SNMP Extend</h4>
<p>1: Copy the shell script, fbsdnfsserver, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/fbsdnfsserver -O /etc/snmp/fbsdnfsserver)</p>
<p>2: Make the script executable (chmod +x /etc/snmp/fbsdnfsserver)</p>
<p>3: Edit your snmpd.conf file and add:</p>
<pre><code>extend fbsdnfsserver /etc/snmp/fbsdnfsserver
</code></pre>

<p>4: Restart snmpd on your host</p>
<h3 id="mailscanner">Mailscanner</h3>
<h5 id="snmp-extend_6">SNMP Extend</h5>
<ol>
<li>Download the script onto the desired host (the host must be added to LibreNMS devices)</li>
</ol>
<pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/mailscanner.php -O /etc/snmp/mailscanner.php
</code></pre>

<ol>
<li>
<p>Make the script executable (chmod +x /etc/snmp/mailscanner.php)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend mailscanner /etc/snmp/mailscanner.php
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h3 id="gspd">GSPD</h3>
<p>A small shell script that reports GPSD status.</p>
<h5 id="agent_2">Agent</h5>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>gpsd</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<p>You may need to configure <code>$server</code> or <code>$port</code>.</p>
<p>Verify it is working by running <code>/usr/lib/check_mk_agent/local/gpsd</code></p>
<h3 id="memcached">Memcached</h3>
<h5 id="snmp-extend_7">SNMP Extend</h5>
<ol>
<li>
<p>Copy the <a href="https://github.com/librenms/librenms-agent/blob/master/agent-local/memcached">memcached script</a> to <code>/etc/snmp/</code> on your remote server.</p>
</li>
<li>
<p>Make the script executable: <code>chmod +x /etc/snmp/memcached</code></p>
</li>
<li>
<p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add:</p>
</li>
</ol>
<pre><code>extend memcached /etc/snmp/memcached
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h3 id="munin">Munin</h3>
<h4 id="agent_3">Agent</h4>
<ol>
<li>Install the script to your agent: <code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/munin -O /usr/lib/check_mk_agent/local/munin</code></li>
<li>Make the script executable (<code>chmod +x /usr/lib/check_mk_agent/local/munin</code>)</li>
<li>Create the munin scripts dir: <code>mkdir -p /usr/share/munin/munin-scripts</code></li>
<li>Install your munin scripts into the above directory.</li>
</ol>
<p>To create your own custom munin scripts, please see this example:</p>
<pre><code>#!/bin/bash
if [ &quot;$1&quot; = &quot;config&quot; ]; then
    echo 'graph_title Some title'
    echo 'graph_args --base 1000 -l 0' #not required
    echo 'graph_vlabel Some label'
    echo 'graph_scale no' #not required, can be yes/no
    echo 'graph_category system' #Choose something meaningful, can be anything
    echo 'graph_info This graph shows something awesome.' #Short desc
    echo 'foobar.label Label for your unit' # Repeat these two lines as much as you like
    echo 'foobar.info Desc for your unit.'
    exit 0
fi
echo -n &quot;foobar.value &quot; $(date +%s) #Populate a value, here unix-timestamp
</code></pre>

<h3 id="mysql">MySQL</h3>
<h5 id="agent_4">Agent</h5>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>mysql</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<p>The MySQL script requires PHP-CLI and the PHP MySQL extension, so please verify those are installed.</p>
<p>CentOS (May vary based on PHP version)</p>
<pre><code>yum install php-cli php-mysql
</code></pre>

<p>Debian (May vary based on PHP version)</p>
<pre><code>apt-get install php5-cli php5-mysql
</code></pre>

<p>Unlike most other scripts, the MySQL script requires a configuration file <code>mysql.cnf</code> in the same directory as the extend or agent script with following content:</p>
<pre><code class="php">&lt;?php
$mysql_user = 'root';
$mysql_pass = 'toor';
$mysql_host = 'localhost';
$mysql_port = 3306;
</code></pre>

<h4 id="snmp-extend_8">SNMP extend</h4>
<p>1: Copy the mysql script to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/mysql -O /etc/snmp/mysql )</p>
<p>2: Make the scripts executable (chmod +x /etc/snmp/mysql)</p>
<p>3: Make sure you set hostname, user, and pass are properly set in <code>/etc/snmp/mysql.cnf</code></p>
<p>4: Edit your snmpd.conf file and add:</p>
<pre><code>extend mysql /etc/snmp/mysql
</code></pre>

<p>4: Restart snmpd.</p>
<p>5: Install the PHP CLI language and your MySQL module of choice for PHP.</p>
<h4 id="agent_5">Agent</h4>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>mysql</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<p>Make sure you set hostname, user, and pass are properly set in `/usr/lib/check_mk_agent/local/mysql.cnf</p>
<p>Verify it is working by running <code>/usr/lib/check_mk_agent/local/mysql</code></p>
<h3 id="nginx">NGINX</h3>
<p>NGINX is a free, open-source, high-performance HTTP server: https://www.nginx.org/</p>
<p>It's required to have the following directive in your nginx configuration responsible for the localhost server:</p>
<pre><code class="text">location /nginx-status {
    stub_status on;
    access_log   off;
    allow 127.0.0.1;
    deny all;
}
</code></pre>

<h5 id="snmp-extend_9">SNMP Extend</h5>
<ol>
<li>Download the script onto the desired host (the host must be added to LibreNMS devices)</li>
</ol>
<pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/nginx-stats -O /etc/snmp/nginx-stats
</code></pre>

<ol>
<li>
<p>Make the script executable (chmod +x /etc/snmp/nginx-stats)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend nginx /etc/snmp/nginx-stats
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h5 id="agent_6">Agent</h5>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>nginx</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<h3 id="ntp-client">NTP Client</h3>
<p>A shell script that gets stats from ntp client.</p>
<h5 id="snmp-extend_10">SNMP Extend</h5>
<ol>
<li>Download the script onto the desired host (the host must be added to LibreNMS devices)</li>
</ol>
<pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/ntp-client.sh -O /etc/snmp/ntp-client.sh
</code></pre>

<ol>
<li>
<p>Make the script executable (chmod +x /etc/snmp/ntp-client.sh)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend ntp-client /etc/snmp/ntp-client.sh
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h3 id="ntp-server-ntpd">NTP Server (NTPD)</h3>
<p>A shell script that gets stats from ntp server (ntpd).</p>
<h5 id="snmp-extend_11">SNMP Extend</h5>
<ol>
<li>Download the script onto the desired host (the host must be added to LibreNMS devices)</li>
</ol>
<pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/ntp-server.sh -O /etc/snmp/ntp-server.sh
</code></pre>

<ol>
<li>
<p>Make the script executable (chmod +x /etc/snmp/ntp-server.sh)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend ntp-server /etc/snmp/ntp-server.sh
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h3 id="nvidia-gpu">Nvidia GPU</h3>
<h5 id="snmp-extend_12">SNMP Extend</h5>
<p>1: Copy the shell script, nvidia, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/nvidia -O /etc/snmp/nvidia)</p>
<p>2: Make the script executable (chmod +x /etc/snmp/nvidia)</p>
<p>3: Edit your snmpd.conf file and add:</p>
<pre><code>extend nvidia /etc/snmp/nvidia
</code></pre>

<p>5: Restart snmpd on your host.</p>
<p>6: Verify you have nvidia-smi installed, which it generally should be if you have the driver from Nvida installed.</p>
<p>The GPU numbering on the graphs will correspond to how the nvidia-smi sees them as being.</p>
<p>For questions about what the various values are/mean, please see the nvidia-smi man file under the section covering dmon.</p>
<h3 id="os-updates">OS Updates</h3>
<p>A small shell script that checks your system package manager for any available updates. Supports apt-get/pacman/yum/zypper package managers).</p>
<p>For pacman users automatically refreshing the database, it is recommended you use an alternative database location <code>--dbpath=/var/lib/pacman/checkupdate</code></p>
<h5 id="snmp-extend_13">SNMP Extend</h5>
<ol>
<li>Download the script onto the desired host (the host must be added to LibreNMS devices)</li>
</ol>
<pre><code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/os-updates.sh -O /etc/snmp/os-updates.sh
</code></pre>

<ol>
<li>
<p>Make the script executable (chmod +x /etc/snmp/os-updates.sh)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend osupdate /etc/snmp/os-updates.sh
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<p><em>Note</em>: apt-get depends on an updated package index. There are several ways to have your system run <code>apt-get update</code> automatically. The easiest is to create <code>/etc/apt/apt.conf.d/10periodic</code> and pasting the following in it: <code>APT::Periodic::Update-Package-Lists "1";</code>.
If you have apticron, cron-apt or apt-listchanges installed and configured, chances are that packages are already updated periodically.</p>
<h3 id="php-fpm">PHP-FPM</h3>
<h4 id="snmp-extend_14">SNMP Extend</h4>
<ol>
<li>
<p>Copy the shell script, phpfpm-sp, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/phpfpm-sp -O /etc/snmp/phpfpm-sp)</p>
</li>
<li>
<p>Make the script executable (chmod +x /etc/snmp/phpfpm-sp)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend phpfpmsp /etc/snmp/phpfpm-sp
</code></pre>

<p>5: Edit /etc/snmp/phpfpm-sp to include the status URL for the PHP-FPM pool you are monitoring.
6. Restart snmpd on your host</p>
<p>It is worth noting that this only monitors a single pool. If you want to monitor multiple pools, this won't do it.</p>
<h3 id="postfix">Postfix</h3>
<h4 id="snmp-extend_15">SNMP Extend</h4>
<p>1: Copy the shell script, postfix-queues, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/postfix-queues -O /etc/snmp/postfix-queues)</p>
<p>2: Copy the Perl script, postfixdetailed, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/postfixdetailed -O /etc/snmp/postfixdetailed)</p>
<p>3: Make the scripts executable (chmod +x /etc/snmp/postfixdetailed /etc/snmp/postfix-queues)</p>
<p>4: Edit your snmpd.conf file and add:</p>
<pre><code>extend mailq /etc/snmp/postfix-queues
extend postfixdetailed /etc/snmp/postfixdetailed
</code></pre>

<p>5: Restart snmpd.</p>
<p>6: Install pflogsumm for your OS.</p>
<p>7: Make sure the cache file in /etc/snmp/postfixdetailed is some place that snmpd can write too. This file is used for tracking changes between various values between each time it is called by snmpd. Also make sure the path for pflogsumm is correct.</p>
<p>8: Run /etc/snmp/postfixdetailed to create the initial cache file so you don't end up with some crazy initial starting value.
Please note that each time /etc/snmp/postfixdetailed is ran, the cache file is updated, so if this happens in between LibreNMS doing it then the values will be thrown off for that polling period.</p>
<h3 id="postgres">Postgres</h3>
<h4 id="snmp-extend_16">SNMP Extend</h4>
<p>1: Copy the shell script, postgres, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/postgres -O /etc/snmp/postgres)</p>
<p>2: Make the script executable (chmod +x /etc/snmp/postgres)</p>
<p>3: Edit your snmpd.conf file and add:</p>
<pre><code>extend postgres /etc/snmp/postgres
</code></pre>

<p>4: Restart snmpd on your host</p>
<p>5: Install the Nagios check check_postgres.pl on your system.</p>
<p>6: Verify the path to check_postgres.pl in /etc/snmp/postgres is correct.</p>
<p>7: If you wish it to ignore the database postgres for totalling up the stats, set ignorePG to 1(the default) in /etc/snmp/postgres. If you are using netdata or the like, you may wish to set this or otherwise that total will be very skewed on systems with light or moderate usage.</p>
<h3 id="powerdns">PowerDNS</h3>
<p>An authoritative DNS server: https://www.powerdns.com/auth.html</p>
<h4 id="snmp-extend_17">SNMP Extend</h4>
<h5 id="agent_7">Agent</h5>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>powerdns</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<h3 id="powerdns-recursor">PowerDNS Recursor</h3>
<p>A recursive DNS server: https://www.powerdns.com/recursor.html</p>
<h4 id="direct">Direct</h4>
<p>The LibreNMS polling host must be able to connect to port 8082 on the monitored device.
The web-server must be enabled, see the Recursor docs: https://doc.powerdns.com/md/recursor/settings/#webserver</p>
<h5 id="variables">Variables</h5>
<p><code>$config['apps']['powerdns-recursor']['api-key']</code> required, this is defined in the Recursor config
<code>$config['apps']['powerdns-recursor']['port']</code> numeric, defines the port to connect to PowerDNS Recursor on.  The default is 8082
<code>$config['apps']['powerdns-recursor']['https']</code> true or false, defaults to use http.</p>
<h4 id="snmp-extend_18">SNMP Extend</h4>
<p>1: Copy the shell script, postgres, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/powerdns-recursor -O /etc/snmp/powerdns-recursor)</p>
<p>2: Make the script executable (chmod +x /etc/snmp/powerdns-recursor)</p>
<p>3: Edit your snmpd.conf file and add:</p>
<pre><code>extend powerdns-recursor /etc/snmp/powerdns-recursor
</code></pre>

<p>4: Restart snmpd on your host</p>
<h5 id="agent_8">Agent</h5>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>powerdns-recursor</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<p>This script uses <code>rec_control get-all</code> to collect stats.</p>
<h3 id="proxmox">Proxmox</h3>
<ol>
<li>
<p>Download the script onto the desired host (the host must be added to LibreNMS devices)
<code>wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/proxmox -O /usr/local/bin/proxmox</code></p>
</li>
<li>
<p>Make the script executable: <code>chmod +x /usr/local/bin/proxmox</code></p>
</li>
<li>
<p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add:
<code>extend proxmox /usr/local/bin/proxmox</code>
(Note: if your snmpd doesn't run as root, you might have to invoke the script using sudo. <code>extend proxmox /usr/bin/sudo /usr/local/bin/proxmox</code>)</p>
</li>
<li>
<p>Restart snmpd on your host</p>
</li>
</ol>
<h3 id="raspberry-pi">Raspberry PI</h3>
<p>SNMP extend script to get your PI data into your host.</p>
<h5 id="snmp-extend_19">SNMP Extend</h5>
<ol>
<li>
<p>Copy the <a href="https://github.com/librenms/librenms-agent/blob/master/snmp/raspberry.sh">raspberry script</a> to <code>/etc/snmp/</code> (or any other suitable location) on your PI host.</p>
</li>
<li>
<p>Make the script executable: <code>chmod +x /etc/snmp/raspberry.sh</code></p>
</li>
<li>
<p>Edit your snmpd.conf file (usually <code>/etc/snmp/snmpd.conf</code>) and add:</p>
</li>
</ol>
<pre><code>extend raspberry /etc/snmp/raspberry.sh
</code></pre>

<ol>
<li>Edit your sudo users (usually <code>visudo</code>) and add at the bottom:</li>
</ol>
<pre><code>snmp ALL=(ALL) NOPASSWD: /etc/snmp/raspberry.sh, /usr/bin/vcgencmd*
</code></pre>

<ol>
<li>Restart snmpd on PI host</li>
</ol>
<h3 id="smart">SMART</h3>
<h4 id="snmp-extend_20">SNMP Extend</h4>
<p>1: Copy the Perl script, smart, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/smart -O /etc/snmp/smart)</p>
<p>2: Make the script executable (chmod +x /etc/snmp/smart)</p>
<p>3: Edit your snmpd.conf file and add:</p>
<pre><code>extend smart /etc/snmp/smart
</code></pre>

<p>4: You will also need to create the config file, which defaults to the same path as the script, but with .config appended. So if the script is located at /etc/snmp/smart, the config file will be /etc/snmp/smart.config. Alternatively you can also specific a config via -c.</p>
<p>Anything starting with a # is comment. The format for variables is $variable=$value. Empty lines are ignored. Spaces and tabes at either the start or end of a line are ignored. Any line with out a = or # are treated as a disk.</p>
<pre><code>#This is a comment
cache=/var/cache/smart
smartctl=/usr/bin/env smartctl
ada0
ada1
</code></pre>

<p>The variables are as below.</p>
<pre><code>cache = The path to the cache file to use. Default: /var/cache/smart
smartctl = The path to use for smartctl. Default: /usr/bin/env smartctl
</code></pre>

<p>If you want to guess at the configuration, call it with -g and it will print out what it thinks
it should be. This will result in a usable config, but may miss some less common disk devices.</p>
<p>5: Restart snmpd on your host</p>
<p>If you have a large number of more than one or two disks on a system, you should consider adding this to cron. Also make sure the cache file is some place it can be written to.</p>
<pre><code> */3 * * * * /etc/snmp/smart -u
</code></pre>

<h3 id="squid">Squid</h3>
<h4 id="snmp-proxy">SNMP Proxy</h4>
<p>1: Enable SNMP for Squid like below, if you have not already, and restart it.</p>
<pre><code>acl snmppublic snmp_community public
snmp_port 3401
snmp_access allow snmppublic localhost
snmp_access deny all
</code></pre>

<p>2: Restart squid on your host.</p>
<p>3: Edit your snmpd.conf file and add, making sure you have the same community, host, and port as above:</p>
<pre><code>proxy -v 2c -c public 127.0.0.1:3401 1.3.6.1.4.1.3495
</code></pre>

<p>For more advanced information on Squid and SNMP or setting up proxying for net-snmp, please see the links below.</p>
<p>http://wiki.squid-cache.org/Features/Snmp
http://www.net-snmp.org/wiki/index.php/Snmpd_proxy</p>
<h3 id="tinydns-aka-djbdns">TinyDNS aka  djbdns</h3>
<h5 id="agent_9">Agent</h5>
<p><a href="../Agent-Setup/">Install the agent</a> on this device if it isn't already and copy the <code>tinydns</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<p><em>Note</em>: We assume that you use DJB's <a href="http://cr.yp.to/daemontools.html">Daemontools</a> to start/stop tinydns.
And that your tinydns instance is located in <code>/service/dns</code>, adjust this path if necessary.</p>
<ol>
<li>Replace your <em>log</em>'s <code>run</code> file, typically located in <code>/service/dns/log/run</code> with:</li>
</ol>
<pre><code class="shell">#!/bin/sh
exec setuidgid dnslog tinystats ./main/tinystats/ multilog t n3 s250000 ./main/
</code></pre>

<ol>
<li>Create tinystats directory and chown:</li>
</ol>
<pre><code class="shell">mkdir /service/dns/log/main/tinystats
chown dnslog:nofiles /service/dns/log/main/tinystats
</code></pre>

<ol>
<li>Restart TinyDNS and Daemontools: <code>/etc/init.d/svscan restart</code>
   <em>Note</em>: Some say <code>svc -t /service/dns</code> is enough, on my install (Gentoo) it doesn't rehook the logging and I'm forced to restart it entirely.</li>
</ol>
<h3 id="unbound">Unbound</h3>
<p>Unbound configuration:</p>
<pre><code class="text"># Enable extended statistics.
server:
        extended-statistics: yes
        statistics-cumulative: yes

remote-control:
        control-enable: yes
        control-interface: 127.0.0.1

</code></pre>

<p>Restart your unbound after changing the configuration, verify it is working by running 'unbound-control stats'.</p>
<h5 id="agent_10">Agent</h5>
<p><a href="#agent-setup">Install the agent</a> on this device if it isn't already and copy the <code>unbound.sh</code> script to <code>/usr/lib/check_mk_agent/local/</code></p>
<h5 id="snmp-extend_21">SNMP Extend</h5>
<p>1: Copy the shell script, unbound, to the desired host (the host must be added to LibreNMS devices) (wget https://github.com/librenms/librenms-agent/raw/master/snmp/unbound -O /etc/snmp/unbound)</p>
<p>2: Make the scripts executable (chmod +x /etc/snmp/unbound)</p>
<p>3: Edit your snmpd.conf file and add:</p>
<pre><code>extend unbound /etc/snmp/unbound
</code></pre>

<p>4: Restart snmpd.</p>
<h3 id="ups-nut">UPS-nut</h3>
<p>A small shell script that exports nut ups status.</p>
<h5 id="snmp-extend_22">SNMP Extend</h5>
<ol>
<li>
<p>Copy the <a href="https://github.com/librenms/librenms-agent/blob/master/snmp/ups-nut.sh">ups nut</a> to <code>/etc/snmp/</code> on your host.</p>
</li>
<li>
<p>Make the script executable (chmod +x /etc/snmp/ups-nut.sh)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend ups-nut /etc/snmp/ups-nut.sh
</code></pre>

<ol>
<li>Restart snmpd on your host</li>
</ol>
<h3 id="ups-apcups">UPS-apcups</h3>
<p>A small shell script that exports apcacess ups status.</p>
<h5 id="snmp-extend_23">SNMP Extend</h5>
<ol>
<li>
<p>Copy the <a href="https://github.com/librenms/librenms-agent/blob/master/snmp/ups-apcups.sh">ups apcups</a> to <code>/etc/snmp/</code> on your host.</p>
</li>
<li>
<p>Make the script executable (chmod +x /etc/snmp/ups-apcups.sh)</p>
</li>
<li>
<p>Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add:</p>
</li>
</ol>
<pre><code>extend ups-apcups /etc/snmp/ups-apcups.sh
</code></pre>

<ol>
<li>
<p>Restart snmpd on your host</p>
</li>
<li>
<p>On the device page in Librenms, edit your host and check the <code>UPS apcups</code> under the Applications tab.</p>
</li>
</ol></div>
                
            
            </div>
        </div>

        <footer>
            <div class="container">
                <hr>
                
                <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
            </div>
        </footer>

        <script src="../../js/jquery-1.12.4.min.js"></script>
        <script src="../../js/bootstrap-3.3.7.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
