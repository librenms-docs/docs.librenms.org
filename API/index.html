<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="LibreNMS">
    <link rel="canonical" href="http://docs.librenms.org/API/">
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Using the API - LibreNMS Docs</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <link href="../librenms.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Versioning", url: "#versioning", children: [
          ]},
          {title: "Tokens", url: "#tokens", children: [
          ]},
          {title: "Endpoints", url: "#endpoints", children: [
          ]},
          {title: "Input", url: "#input", children: [
          ]},
          {title: "Output", url: "#output", children: [
          ]},
          {title: "Endpoint Categories", url: "#endpoint-categories", children: [
          ]},
        ];

    </script>
    <script src="../js/base.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-79149977-2', 'docs.librenms.org');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
    
      <div class="source-links">
      
          <span class="label label-primary"><a href="https://github.com/librenms/librenms//edit/master/doc/API/index.md" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
      </div>
    

    <h2 id="versioning">Versioning</h2>
<p>Versioning an API is a minefield which saw us looking at numerous options on how to do this. Paul wrote an excellent blog post which touches on this: <a href="https://blog.librenms.org/2014/09/restful-apis/">https://blog.librenms.org/2014/09/restful-apis/</a></p>
<p>We have currently settled on using versioning within the API end point itself <code>/api/v0</code>. As the API itself is new and still in active development we also decided that v0 would be the best starting point to indicate it's in development.</p>
<h2 id="tokens">Tokens</h2>
<p>To access any of the token end points you will be required to authenticate using a token. Tokens can be created directly from within the LibreNMS web interface by going to <code>/api-access/</code>.</p>
<ul>
<li>Click on 'Create API access token'.</li>
<li>Select the user you would like to generate the token for.</li>
<li>Enter an optional description.</li>
<li>Click Create API Token.</li>
</ul>
<h2 id="endpoints">Endpoints</h2>
<p>Whilst this documentation will describe and show examples of the end points, we've designed the API so you should be able to traverse through it without knowing any of the available API routes.</p>
<p>You can do this by first calling <code>/api/v0</code>:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;list_bgp&quot;: &quot;https://librenms.org/api/v0/bgp&quot;,
  ...
 &quot;edit_rule&quot;: &quot;https://librenms.org/api/v0/rules&quot;
}
</code></pre>

<h2 id="input">Input</h2>
<p>Input to the API is done in three different ways, sometimes a combination two or three of these.</p>
<ul>
<li>Passing parameters via the api route. For example when obtaining a devices details you will pass the hostname of the device in the route: <code>/api/v0/devices/:hostname</code>.</li>
<li>Passing parameters via the query string. For example you can list all devices on your install but limit the output to devices that are currently down: <code>/api/v0/devices?type=down</code></li>
<li>Passing data in via JSON, this will mainly be used when adding or updating information via the API, for instance adding a new device:</li>
</ul>
<pre><code class="curl">curl -X POST -d '{&quot;hostname&quot;:&quot;localhost.localdomain&quot;,&quot;version&quot;:&quot;v1&quot;,&quot;community&quot;:&quot;public&quot;}'-H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices
</code></pre>

<h2 id="output">Output</h2>
<p>Output from the API currently is via two output types:</p>
<ul>
<li>JSON Most API responses will output json. As show in the example for calling the API endpoint.</li>
<li>PNG This is for when the request is for an image such as a graph for a switch port.</li>
</ul>
<h2 id="endpoint-categories">Endpoint Categories</h2>
<ul>
<li><a href="Devices/">Devices</a></li>
<li><a href="DeviceGroups/">DeviceGroups</a></li>
<li><a href="Ports/">Ports</a></li>
<li><a href="PortGroups/">PortGroups</a></li>
<li><a href="Alerts/">Alerts</a></li>
<li><a href="Routing/">Routing</a></li>
<li><a href="Switching/">Switching</a></li>
<li><a href="Inventory/">Inventory</a></li>
<li><a href="Bills/">Bills</a></li>
<li><a href="ARP/">ARP</a></li>
<li><a href="Services/">Services</a></li>
<li><a href="Logs/">Logs</a></li>
<li><a href="System/">System</a></li>
</ul>

  <br>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="Devices/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="Devices/" class="btn btn-xs btn-link">
        Devices
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../Extensions/Weathermap/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../Extensions/Weathermap/" class="btn btn-xs btn-link">
        Network-WeatherMap with LibreNMS
      </a>
    </div>
    
  </div>


    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>