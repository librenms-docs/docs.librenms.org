<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="LibreNMS">
    <link rel="canonical" href="http://docs.librenms.org/API/">
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Home - LibreNMS Docs</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <link href="../librenms.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Structure", url: "#structure", children: [
              {title: "Versioning", url: "#versioning" },
              {title: "Tokens", url: "#tokens" },
              {title: "Endpoints", url: "#endpoints" },
              {title: "Input", url: "#input" },
              {title: "Output", url: "#output" },
          ]},
          {title: "Endpoints", url: "#endpoints_1", children: [
              {title: "Devices", url: "#devices" },
              {title: "Device Groups", url: "#device-groups" },
              {title: "Ports", url: "#ports" },
              {title: "Port Groups", url: "#port-groups" },
              {title: "Routing", url: "#routing" },
              {title: "Switching", url: "#switching" },
              {title: "Alerts", url: "#alerts" },
              {title: "Rules", url: "#rules" },
              {title: "Inventory", url: "#inventory" },
              {title: "Bills", url: "#bills" },
              {title: "Services", url: "#services" },
              {title: "Logs", url: "#logs" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-79149977-2', 'docs.librenms.org');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
    


    
      <div class="source-links">
      
          <span class="label label-primary"><a href="https://github.com/librenms/librenms/edit/master/doc/API/index.md" target="_blank" style="color:#ffffff"><i class="fa fa-pencil"></i> Edit on GitHub</a></span>
      
      </div>
    

    <div class="toc">
<ul>
<li><a href="#structure">Structure</a><ul>
<li><a href="#versioning">Versioning</a></li>
<li><a href="#tokens">Tokens</a></li>
<li><a href="#endpoints">Endpoints</a></li>
<li><a href="#input">Input</a></li>
<li><a href="#output">Output</a></li>
</ul>
</li>
<li><a href="#endpoints_1">Endpoints</a><ul>
<li><a href="#devices">Devices</a><ul>
<li><a href="#function-del_device">Function: del_device</a></li>
<li><a href="#function-get_device">Function: get_device</a></li>
<li><a href="#function-get_graphs">Function: get_graphs</a></li>
<li><a href="#function-list_available_health_graphs">Function: list_available_health_graphs</a></li>
<li><a href="#function-get_health_graph">Function: get_health_graph</a></li>
<li><a href="#function-get_graph_generic_by_hostname">Function: get_graph_generic_by_hostname</a></li>
<li><a href="#function-get_port_graphs">Function: get_port_graphs</a></li>
<li><a href="#function-get_device_ip_addresses">Function: get_device_ip_addresses</a></li>
<li><a href="#function-get_port_stack">Function: get_port_stack</a></li>
<li><a href="#function-get_components">Function: get_components</a></li>
<li><a href="#function-add_components">Function: add_components</a></li>
<li><a href="#function-edit_components">Function: edit_components</a></li>
<li><a href="#function-delete_components">Function: delete_components</a></li>
<li><a href="#function-get_port_stats_by_port_hostname">Function: get_port_stats_by_port_hostname</a></li>
<li><a href="#function-get_graph_by_port_hostname">Function: get_graph_by_port_hostname</a></li>
<li><a href="#function-list_devices">Function: list_devices</a></li>
<li><a href="#function-add_device">Function: add_device</a></li>
<li><a href="#function-list_oxidized">Function: list_oxidized</a></li>
<li><a href="#function-update_device_field">Function: update_device_field</a></li>
<li><a href="#function-get_device_groups">Function get_device_groups</a></li>
</ul>
</li>
<li><a href="#device-groups">Device Groups</a><ul>
<li><a href="#function-get_devicegroups">Function get_devicegroups</a></li>
</ul>
</li>
<li><a href="#ports">Ports</a><ul>
<li><a href="#function-get_all_ports">Function get_all_ports</a></li>
<li><a href="#function-get_port_info">Function get_port_info</a></li>
<li><a href="#function-get_port_info_1">Function get_port_info</a></li>
<li><a href="#function-get_devices_by_group">Function get_devices_by_group</a></li>
</ul>
</li>
<li><a href="#port-groups">Port Groups</a><ul>
<li><a href="#function-get_graph_by_portgroup">Function: get_graph_by_portgroup</a></li>
<li><a href="#function-get_graph_by_portgroup_multiport_bits">Function: get_graph_by_portgroup_multiport_bits</a></li>
</ul>
</li>
<li><a href="#routing">Routing</a><ul>
<li><a href="#function-list_bgp">Function: list_bgp</a></li>
<li><a href="#function-list_ipsec">Function: list_ipsec</a></li>
</ul>
</li>
<li><a href="#switching">Switching</a><ul>
<li><a href="#function-get_vlans">Function: get_vlans</a></li>
</ul>
</li>
<li><a href="#alerts">Alerts</a><ul>
<li><a href="#function-get_alert">Function: get_alert</a></li>
<li><a href="#function-ack_alert">Function: ack_alert</a></li>
<li><a href="#function-unmute_alert">Function: unmute_alert</a></li>
<li><a href="#function-list_alerts">Function: list_alerts</a></li>
</ul>
</li>
<li><a href="#rules">Rules</a><ul>
<li><a href="#function-get_alert_rule">Function: get_alert_rule</a></li>
<li><a href="#function-delete_rule">Function: delete_rule</a></li>
<li><a href="#function-list_alert_rules">Function: list_alert_rules</a></li>
<li><a href="#function-add_rule">Function: add_rule</a></li>
<li><a href="#function-edit_rule">Function: edit_rule</a></li>
</ul>
</li>
<li><a href="#inventory">Inventory</a><ul>
<li><a href="#function-get_inventory">Function: get_inventory</a></li>
</ul>
</li>
<li><a href="#bills">Bills</a><ul>
<li><a href="#function-list_bills">Function: list_bills</a></li>
<li><a href="#function-get_bill">Function: get_bill</a></li>
<li><a href="#function-list_arp">Function: list_arp</a></li>
</ul>
</li>
<li><a href="#services">Services</a><ul>
<li><a href="#function-list_services">Function: list_services</a></li>
<li><a href="#function-get_service_for_host">Function: get_service_for_host</a></li>
</ul>
</li>
<li><a href="#logs">Logs</a><ul>
<li><a href="#function-list_eventlog">Function: list_eventlog</a></li>
<li><a href="#function-list_syslog">Function: list_syslog</a></li>
<li><a href="#function-list_alertlog">Function: list_alertlog</a></li>
<li><a href="#function-list_authlog">Function: list_authlog</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>Describes the API structure.</p>
<h1 id="structure">Structure</h1>
<h2 id="versioning">Versioning</h2>
<p>Versioning an API is a minefield which saw us looking at numerous options on how to do this. Paul wrote an excellent blog post which touches on this: https://blog.librenms.org/2014/09/restful-apis/</p>
<p>We have currently settled on using versioning within the API end point itself <code>/api/v0</code>. As the API itself is new and still in active development we also decided that v0 would be the best starting point to indicate it's in development.</p>
<h2 id="tokens">Tokens</h2>
<p>To access any of the token end points you will be required to authenticate using a token. Tokens can be created directly from within the LibreNMS web interface by going to <code>/api-access/</code>.</p>
<ul>
<li>Click on 'Create API access token'.</li>
<li>Select the user you would like to generate the token for.</li>
<li>Enter an optional description.</li>
<li>Click Create API Token.</li>
</ul>
<h2 id="endpoints">Endpoints</h2>
<p>Whilst this documentation will describe and show examples of the end points, we've designed the API so you should be able to traverse through it without know any of the available API routes.</p>
<p>You can do this by first calling <code>/api/v0</code>:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;list_bgp&quot;: &quot;https://librenms.org/api/v0/bgp&quot;,
  ...
 &quot;edit_rule&quot;: &quot;https://librenms.org/api/v0/rules&quot;
}
</code></pre>

<h2 id="input">Input</h2>
<p>Input to the API is done in three different ways, sometimes a combination two or three of these.</p>
<ul>
<li>Passing parameters via the api route. For example when obtaining a devices details you will pass the hostname of the device in the route: <code>/api/v0/devices/:hostname</code>.</li>
<li>Passing parameters via the query string. For example you can list all devices on your install but limit the output to devices that are currently down: <code>/api/v0/devices?type=down</code></li>
<li>Passing data in via JSON, this will mainly be used when adding or updating information via the API, for instance adding a new device:</li>
</ul>
<pre><code class="curl">curl -X POST -d '{&quot;hostname&quot;:&quot;localhost.localdomain&quot;,&quot;version&quot;:&quot;v1&quot;,&quot;community&quot;:&quot;public&quot;}'-H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices
</code></pre>

<h2 id="output">Output</h2>
<p>Output from the API currently is via two output types.</p>
<ul>
<li>JSON Most API responses will output json. As show in the example for calling the API endpoint.</li>
<li>PNG This is for when the request is for an image such as a graph for a switch port.</li>
</ul>
<h1 id="endpoints_1">Endpoints</h1>
<h2 id="devices">Devices</h2>
<h3 id="function-del_device">Function: <code>del_device</code></h3>
<p>Delete a given device.</p>
<p>Route: <code>/api/v0/devices/:hostname</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;message&quot;: &quot;Removed device localhost&quot;,
    &quot;devices&quot;: [
        {
            &quot;device_id&quot;: &quot;1&quot;,
            &quot;hostname&quot;: &quot;localhost&quot;,
            ...
            &quot;serial&quot;: null,
            &quot;icon&quot;: null
        }
    ]
}
</code></pre>

<h3 id="function-get_device">Function: <code>get_device</code></h3>
<p>Get details of a given device.</p>
<p>Route: <code>/api/v0/devices/:hostname</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;devices&quot;: [
        {
            &quot;device_id&quot;: &quot;1&quot;,
            &quot;hostname&quot;: &quot;localhost&quot;,
            ...
            &quot;serial&quot;: null,
            &quot;icon&quot;: null
        }
    ]
}
</code></pre>

<h3 id="function-get_graphs">Function: <code>get_graphs</code></h3>
<p>Get a list of available graphs for a device, this does not include ports.</p>
<p>Route: <code>/api/v0/devices/:hostname/graphs</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 3,
    &quot;graphs&quot;: [
        {
            &quot;desc&quot;: &quot;Poller Time&quot;,
            &quot;name&quot;: &quot;device_poller_perf&quot;
        },
        {
            &quot;desc&quot;: &quot;Ping Response&quot;,
            &quot;name&quot;: &quot;device_ping_perf&quot;
        },
        {
            &quot;desc&quot;: &quot;System Uptime&quot;,
            &quot;name&quot;: &quot;uptime&quot;
        }
    ]
}
</code></pre>

<h3 id="function-list_available_health_graphs">Function: <code>list_available_health_graphs</code></h3>
<p>This function allows to do three things:</p>
<ul>
<li>Get a list of overall health graphs available.</li>
<li>Get a list of health graphs based on provided class.</li>
<li>Get the health sensors information based on ID.</li>
</ul>
<p>Route: <code>/api/v0/devices/:hostname/health(/:type)(/:sensor_id)</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
<li>type (optional) is health type / sensor class</li>
<li>sensor_id (optional) is the sensor id to retreive specific information.</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health
</code></pre>

<p>Output:</p>
<pre><code>{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 2,
    &quot;graphs&quot;: [
        {
            &quot;desc&quot;: &quot;Airflow&quot;,
            &quot;name&quot;: &quot;device_airflow&quot;
        },
        {
            &quot;desc&quot;: &quot;Voltage&quot;,
            &quot;name&quot;: &quot;device_voltage&quot;
        }
    ]
}
</code></pre>

<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_voltage
</code></pre>

<p>Output:</p>
<pre><code>{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 2,
    &quot;graphs&quot;: [
        {
            &quot;sensor_id&quot;: &quot;1&quot;,
            &quot;desc&quot;: &quot;Input Feed A&quot;
        },
        {
            &quot;sensor_id&quot;: &quot;2&quot;,
            &quot;desc&quot;: &quot;Output Feed&quot;
        }
    ]
}
</code></pre>

<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_voltage/1
</code></pre>

<p>Output:</p>
<pre><code>{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 1,
    &quot;graphs&quot;: [
        {
            &quot;sensor_id&quot;: &quot;1&quot;,
            &quot;sensor_deleted&quot;: &quot;0&quot;,
            &quot;sensor_class&quot;: &quot;voltage&quot;,
            &quot;device_id&quot;: &quot;1&quot;,
            &quot;poller_type&quot;: &quot;snmp&quot;,
            &quot;sensor_oid&quot;: &quot;.1.3.6.1.4.1.318.1.1.27.1.1.0&quot;,
            &quot;sensor_index&quot;: &quot;1&quot;,
            &quot;sensor_type&quot;: &quot;apc&quot;,
            &quot;sensor_descr&quot;: &quot;Input&quot;,
            &quot;sensor_divisor&quot;: &quot;1&quot;,
            &quot;sensor_multiplier&quot;: &quot;1&quot;,
            &quot;sensor_current&quot;: &quot;1&quot;,
            &quot;sensor_limit&quot;: &quot;1.15&quot;,
            &quot;sensor_limit_warn&quot;: null,
            &quot;sensor_limit_low&quot;: &quot;0.85&quot;,
            &quot;sensor_limit_low_warn&quot;: null,
            &quot;sensor_alert&quot;: &quot;1&quot;,
            &quot;sensor_custom&quot;: &quot;No&quot;,
            &quot;entPhysicalIndex&quot;: null,
            &quot;entPhysicalIndex_measured&quot;: null,
            &quot;lastupdate&quot;: &quot;2017-01-13 13:50:26&quot;,
            &quot;sensor_prev&quot;: &quot;1&quot;
        }
    ]
}
</code></pre>

<h3 id="function-get_health_graph">Function: <code>get_health_graph</code></h3>
<p>Get a particular health class graph for a device, if you provide a sensor_id as well then a single sensor graph
will be provided. If no sensor_id value is provided then you will be sent a stacked sensor graph.</p>
<p>Route: <code>/api/v0/devices/:hostname/graphs/health/:type(/:sensor_id)</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
<li>type is the name of the health graph as returned by <a href="#function-list_available_health_graphs"><code>list_available_health_graphs</code></a></li>
<li>sensor_id (optional) restricts the graph to return a particular health sensor graph.</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/health/device_voltage
</code></pre>

<p>Output:</p>
<p>Output is a stacked graph for the health type provided.</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/health/device_voltage/1
</code></pre>

<p>Output:</p>
<p>Output is the graph of the particular health type sensor provided.</p>
<h3 id="function-get_graph_generic_by_hostname">Function: <code>get_graph_generic_by_hostname</code></h3>
<p>Get a specific graph for a device, this does not include ports.</p>
<p>Route: <code>/api/v0/devices/:hostname/:type</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
<li>type is the type of graph you want, use [<code>get_graphs</code>](#function-get_graphs to see the graphs available. Defaults to device_uptime.</li>
</ul>
<p>Input:</p>
<ul>
<li>from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li>
<li>to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li>
<li>width: The graph width, defaults to 1075.</li>
<li>height: The graph height, defaults to 300.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/device_poller_perf
</code></pre>

<p>Output:</p>
<p>Output is an image.</p>
<h3 id="function-get_port_graphs">Function: <code>get_port_graphs</code></h3>
<p>Get a list of ports for a particular device.</p>
<p>Route: <code>/api/v0/devices/:hostname/ports</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input:</p>
<ul>
<li>columns: Comma separated list of columns you want returned.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 3,
    &quot;ports&quot;: [
        {
            &quot;ifName&quot;: &quot;lo&quot;
        },
        {
            &quot;ifName&quot;: &quot;eth0&quot;
        },
        {
            &quot;ifName&quot;: &quot;eth1&quot;
        }
    ]
}
</code></pre>

<h3 id="function-get_device_ip_addresses">Function: <code>get_device_ip_addresses</code></h3>
<p>Get a list of IP addresses (v4 and v6) associated with a device.</p>
<p>Route: <code>/api/v0/devices/:hostname/ip</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ip
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;addresses&quot;: [
        {
          &quot;ipv4_address_id&quot;: &quot;290&quot;,
          &quot;ipv4_address&quot;: &quot;192.168.99.292&quot;,
          &quot;ipv4_prefixlen&quot;: &quot;30&quot;,
          &quot;ipv4_network_id&quot;: &quot;247&quot;,
          &quot;port_id&quot;: &quot;323&quot;,
          &quot;context_name&quot;: &quot;&quot;
        }
    ]
}
</code></pre>

<h3 id="function-get_port_stack">Function: <code>get_port_stack</code></h3>
<p>Get a list of port mappings for a device.  This is useful for showing physical ports that are in a virtual port-channel.</p>
<p>Route: <code>/api/v0/devices/:hostname/port_stack</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input:</p>
<ul>
<li>valid_mappings: Filter the result by only showing valid mappings ("0" values not shown).</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/port_stack?valid_mappings
</code></pre>

<p>Output:</p>
<pre><code class="json">{
  &quot;status&quot;: &quot;ok&quot;,
  &quot;err-msg&quot;: &quot;&quot;,
  &quot;count&quot;: 2,
  &quot;mappings&quot;: [
    {
      &quot;device_id&quot;: &quot;3742&quot;,
      &quot;port_id_high&quot;: &quot;1001000&quot;,
      &quot;port_id_low&quot;: &quot;51001&quot;,
      &quot;ifStackStatus&quot;: &quot;active&quot;
    },
    {
      &quot;device_id&quot;: &quot;3742&quot;,
      &quot;port_id_high&quot;: &quot;1001000&quot;,
      &quot;port_id_low&quot;: &quot;52001&quot;,
      &quot;ifStackStatus&quot;: &quot;active&quot;
    }
  ]
}
</code></pre>

<h3 id="function-get_components">Function: <code>get_components</code></h3>
<p>Get a list of components for a particular device.</p>
<p>Route: <code>/api/v0/devices/:hostname/components</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input:</p>
<ul>
<li>type: Filter the result by type (Equals).</li>
<li>id: Filter the result by id (Equals).</li>
<li>label: Filter the result by label (Contains).</li>
<li>status: Filter the result by status (Equals).</li>
<li>disabled: Filter the result by disabled (Equals).</li>
<li>ignore: Filter the result by ignore (Equals).</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 3,
    &quot;components&quot;: {
        &quot;2&quot;: {
            &quot;TestAttribute-1&quot;: &quot;Value1&quot;,
            &quot;TestAttribute-2&quot;: &quot;Value2&quot;,
            &quot;TestAttribute-3&quot;: &quot;Value3&quot;,
            &quot;type&quot;: &quot;TestComponent-1&quot;,
            &quot;label&quot;: &quot;This is a really cool blue component&quot;,
            &quot;status&quot;: &quot;1&quot;,
            &quot;ignore&quot;: &quot;0&quot;,
            &quot;disabled&quot;: &quot;0&quot;
        },
        &quot;20&quot;: {
            &quot;TestAttribute-1&quot;: &quot;Value4&quot;,
            &quot;TestAttribute-2&quot;: &quot;Value5&quot;,
            &quot;TestAttribute-3&quot;: &quot;Value6&quot;,
            &quot;type&quot;: &quot;TestComponent-1&quot;,
            &quot;label&quot;: &quot;This is a really cool red component&quot;,
            &quot;status&quot;: &quot;1&quot;,
            &quot;ignore&quot;: &quot;0&quot;,
            &quot;disabled&quot;: &quot;0&quot;
        },
        &quot;27&quot;: {
            &quot;TestAttribute-1&quot;: &quot;Value7&quot;,
            &quot;TestAttribute-2&quot;: &quot;Value8&quot;,
            &quot;TestAttribute-3&quot;: &quot;Value9&quot;,
            &quot;type&quot;: &quot;TestComponent-2&quot;,
            &quot;label&quot;: &quot;This is a really cool yellow widget&quot;,
            &quot;status&quot;: &quot;1&quot;,
            &quot;ignore&quot;: &quot;0&quot;,
            &quot;disabled&quot;: &quot;0&quot;
        }
    }
}
</code></pre>

<h3 id="function-add_components">Function: <code>add_components</code></h3>
<p>Create a new component of a type on a particular device.</p>
<p>Route: <code>/api/v0/devices/:hostname/components/:type</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
<li>type is the type of component to add</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -X POST -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components/APITEST
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 1,
    &quot;components&quot;: {
        &quot;4459&quot;: {
            &quot;type&quot;: &quot;APITEST&quot;,
            &quot;label&quot;: &quot;&quot;,
            &quot;status&quot;: 1,
            &quot;ignore&quot;: 0,
            &quot;disabled&quot;: 0,
            &quot;error&quot;: &quot;&quot;
        }
    }
}
</code></pre>

<h3 id="function-edit_components">Function: <code>edit_components</code></h3>
<p>Edit an existing component on a particular device.</p>
<p>Route: <code>/api/v0/devices/:hostname/components</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>In this example we set the label and add a new field: TestField:</p>
<pre><code class="curl">curl -X PUT -d '{&quot;4459&quot;: {&quot;type&quot;: &quot;APITEST&quot;,&quot;label&quot;: &quot;This is a test label&quot;,&quot;status&quot;: 1,&quot;ignore&quot;: 0,&quot;disabled&quot;: 0,&quot;error&quot;: &quot;&quot;,&quot;TestField&quot;: &quot;TestData&quot;}}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 1
}
</code></pre>

<p>Just take the JSON array from add_components or edit_components, edit as you wish and submit it back to edit_components.</p>
<h3 id="function-delete_components">Function: <code>delete_components</code></h3>
<p>Delete an existing component on a particular device.</p>
<p>Route: <code>/api/v0/devices/:hostname/components/:component</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
<li>component is the component ID to be deleted.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components/4459
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;
}
</code></pre>

<h3 id="function-get_port_stats_by_port_hostname">Function: <code>get_port_stats_by_port_hostname</code></h3>
<p>Get information about a particular port for a device.</p>
<p>Route: <code>/api/v0/devices/:hostname/ports/:ifname</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
<li>ifname can be any of the interface names for the device which can be obtained using <a href="#function-get_port_graphs"><code>get_port_graphs</code></a>. Please ensure that the ifname is urlencoded if it needs to be (i.e Gi0/1/0 would need to be urlencoded.</li>
</ul>
<p>Input:</p>
<ul>
<li>columns: Comma separated list of columns you want returned.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports/eth0
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;port&quot;: {
  &quot;port_id&quot;: &quot;2&quot;,
  &quot;device_id&quot;: &quot;1&quot;,
  ...
  &quot;poll_prev&quot;: &quot;1418412902&quot;,
  &quot;poll_period&quot;: &quot;300&quot;
 }
}
</code></pre>

<h3 id="function-get_graph_by_port_hostname">Function: <code>get_graph_by_port_hostname</code></h3>
<p>Get a graph of a port for a particular device.</p>
<p>Route: <code>/api/v0/devices/:hostname/ports/:ifname/:type</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
<li>ifname can be any of the interface names for the device which can be obtained using <a href="#function-get_port_graphs"><code>get_port_graphs</code></a>. Please ensure that the ifname is urlencoded if it needs to be (i.e Gi0/1/0 would need to be urlencoded.</li>
<li>type is the port type you want the graph for, you can request a list of ports for a device with <a href="#function-get_port_graphs"><code>get_port_graphs</code></a>.</li>
</ul>
<p>Input:</p>
<ul>
<li>from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li>
<li>to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li>
<li>width: The graph width, defaults to 1075.</li>
<li>height: The graph height, defaults to 300.</li>
<li>ifDescr: If this is set to true then we will use ifDescr to lookup the port instead of ifName. Pass the ifDescr value you want to search as you would ifName.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports/eth0/port_bits
</code></pre>

<p>Output:</p>
<p>Output is an image.</p>
<h3 id="function-list_devices">Function: <code>list_devices</code></h3>
<p>Return a list of devices.</p>
<p>Route: <code>/api/v0/devices</code></p>
<p>Input:</p>
<ul>
<li>order: How to order the output, default is by hostname. Can be prepended by DESC or ASC to change the order.</li>
<li>type: can be one of the following to filter or search by:<ul>
<li>all: All devices</li>
<li>ignored: Only ignored devices</li>
<li>up: Only devices that are up</li>
<li>down: Only devices that are down</li>
<li>disabled: Disabled devices</li>
<li>os: search by os type</li>
<li>mac: search by mac address</li>
<li>ipv4: search by IPv4 address</li>
<li>ipv6: search by IPv6 address (compressed or uncompressed)</li>
<li>location: search by location</li>
</ul>
</li>
<li>query: If searching by, then this will be used as the input.
Example:</li>
</ul>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices?order=hostname%20DESC&amp;type=down
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;count&quot;: 1,
 &quot;devices&quot;: [
  {
   &quot;device_id&quot;: &quot;1&quot;,
   &quot;hostname&quot;: &quot;localhost&quot;,
   ...
   &quot;serial&quot;: null,
   &quot;icon&quot;: null
  }
 ]
}
</code></pre>

<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices?type=mac&amp;query=00000c9ff013
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;count&quot;: 1,
 &quot;devices&quot;: [
  {
   &quot;device_id&quot;: &quot;1&quot;,
   &quot;hostname&quot;: &quot;localhost&quot;,
   ...
   &quot;serial&quot;: null,
   &quot;icon&quot;: null
  }
 ]
}
</code></pre>

<h3 id="function-add_device">Function: <code>add_device</code></h3>
<p>Add a new device.</p>
<p>Route: <code>/api/v0/devices</code></p>
<p>Input (JSON):</p>
<ul>
<li>hostname: device hostname</li>
<li>port: SNMP port (defaults to port defined in config).</li>
<li>transport: SNMP protocol (defaults to transport defined in config).</li>
<li>version: SNMP version to use, v1, v2c or v3. Defaults to v2c.</li>
<li>poller_group: This is the poller_group id used for distributed poller setup. Defaults to 0.</li>
<li>force_add: Force the device to be added regardless of it being able to respond to snmp or icmp.</li>
</ul>
<p>For SNMP v1 or v2c</p>
<ul>
<li>community: Required for SNMP v1 or v2c.</li>
</ul>
<p>For SNMP v3</p>
<ul>
<li>authlevel: SNMP authlevel (NoAuthNoPriv, AuthNoPriv, AuthPriv).</li>
<li>authname: SNMP Auth username</li>
<li>authpass: SNMP Auth password</li>
<li>authalgo: SNMP Auth algorithm (MD5, SHA)</li>
<li>cryptopass: SNMP Crypto Password</li>
<li>cryptoalgo: SNMP Crypto algorithm (AES, DES)</li>
</ul>
<p>For ICMP only</p>
<ul>
<li>snmp_disable: Boolean, set to true for ICMP only.</li>
<li>os: OS short name for the device (defaults to ping).</li>
<li>hardware: Device hardware.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -X POST -d '{&quot;hostname&quot;:&quot;localhost.localdomain&quot;,&quot;version&quot;:&quot;v1&quot;,&quot;community&quot;:&quot;public&quot;}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;message&quot;: &quot;Device localhost.localdomain (57) has been added successfully&quot;
}
</code></pre>

<h3 id="function-list_oxidized">Function: <code>list_oxidized</code></h3>
<p>List devices for use with Oxidized. If you have group support enabled then a group will also be returned based on your config.</p>
<p>Route: <code>/api/v0/oxidized</code></p>
<p>Input (JSON):</p>
<p>-</p>
<p>Examples:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized
</code></pre>

<p>Output:</p>
<pre><code class="json">[
    {
        &quot;hostname&quot;: &quot;localhost&quot;,
        &quot;os&quot;: &quot;linux&quot;
    },
    {
        &quot;hostname&quot;: &quot;otherserver&quot;,
        &quot;os&quot;: &quot;linux&quot;
    }
]
</code></pre>

<h3 id="function-update_device_field">Function: <code>update_device_field</code></h3>
<p>Update devices field in the database.</p>
<p>Route: <code>/api/v0/devices/:hostname</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input (JSON):</p>
<ul>
<li>field: The column name within the database (can be an array of fields)</li>
<li>data: The data to update the column with (can be an array of data))</li>
</ul>
<p>Examples:</p>
<pre><code class="curl">curl -X PATCH -d '{&quot;field&quot;: &quot;notes&quot;, &quot;data&quot;: &quot;This server should be kept online&quot;}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost
</code></pre>

<p>Output:</p>
<pre><code class="json">[
    {
        &quot;status&quot;: &quot;ok&quot;,
        &quot;message&quot;: &quot;Device notes has been updated&quot;
    }
]
</code></pre>

<pre><code class="curl">curl -X PATCH -d '{&quot;field&quot;: [&quot;notes&quot;,&quot;purpose&quot;], &quot;data&quot;: [&quot;This server should be kept online&quot;, &quot;For serving web traffic&quot;]}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost
</code></pre>

<p>Output:</p>
<pre><code class="json">[
    {
        &quot;status&quot;: &quot;ok&quot;,
        &quot;message&quot;: &quot;Device fields have been updated&quot;
    }
]
</code></pre>

<h3 id="function-get_device_groups">Function <code>get_device_groups</code></h3>
<p>List the device groups that a device is matched on.</p>
<p>Route: <code>/api/v0/devices/:hostname/groups</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input (JSON):</p>
<p>-</p>
<p>Examples:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/groups
</code></pre>

<p>Output:</p>
<pre><code class="json">[
    {
        &quot;status&quot;: &quot;ok&quot;,
        &quot;message&quot;: &quot;Found 1 device groups&quot;,
        &quot;count&quot;: 1,
        &quot;groups&quot;: [
        {
            &quot;id&quot;: &quot;1&quot;,
            &quot;name&quot;: &quot;Testing&quot;,
            &quot;desc&quot;: &quot;Testing&quot;,
            &quot;pattern&quot;: &quot;%devices.status = \&quot;1\&quot; &amp;&amp;&quot;
        }
        ]
    }
]
</code></pre>

<h2 id="device-groups">Device Groups</h2>
<h3 id="function-get_devicegroups">Function <code>get_devicegroups</code></h3>
<p>List all device groups.</p>
<p>Route: <code>/api/v0/devicegroups</code></p>
<p>Input (JSON):</p>
<p>-</p>
<p>Examples:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devicegroups
</code></pre>

<p>Output:</p>
<pre><code class="json">[
    {
        &quot;status&quot;: &quot;ok&quot;,
        &quot;message&quot;: &quot;Found 1 device groups&quot;,
        &quot;count&quot;: 1,
        &quot;groups&quot;: [
        {
            &quot;id&quot;: &quot;1&quot;,
            &quot;name&quot;: &quot;Testing&quot;,
            &quot;desc&quot;: &quot;Testing&quot;,
            &quot;pattern&quot;: &quot;%devices.status = \&quot;1\&quot; &amp;&amp;&quot;
        }
        ]
    }
]
</code></pre>

<h2 id="ports">Ports</h2>
<h3 id="function-get_all_ports">Function <code>get_all_ports</code></h3>
<p>Get info for all ports on all devices.
Strongly recommend that you use the <code>columns</code> parameter to avoid pulling too much data.</p>
<p>Route: <code>/api/v0/ports</code></p>
<p>-</p>
<p>Input:</p>
<ul>
<li>columns: Comma separated list of columns you want returned.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports?columns=ifName%2Cport_id
</code></pre>

<p>Output:</p>
<pre><code class="json">{
  &quot;status&quot;: &quot;ok&quot;,
  &quot;err-msg&quot;: &quot;&quot;,
  &quot;ports&quot;: [
        {
          &quot;ifName&quot;: &quot;Gi0/0/0&quot;,
          &quot;port_id&quot;: &quot;1&quot;
        },
        {
          &quot;ifName&quot;: &quot;Gi0/0/1&quot;,
          &quot;port_id&quot;: &quot;2&quot;
        },
        ...
        {
          &quot;ifName&quot;: &quot;Vlan 3615&quot;,
          &quot;port_id&quot;: &quot;5488&quot;
        }
    ]
}
</code></pre>

<h3 id="function-get_port_info">Function <code>get_port_info</code></h3>
<p>Get all info for a particular port.</p>
<p>Route: <code>/api/v0/ports/:portid</code></p>
<ul>
<li>portid must be an integer</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323
</code></pre>

<p>Output:</p>
<pre><code class="json">{
  &quot;status&quot;: &quot;ok&quot;,
  &quot;err-msg&quot;: &quot;&quot;,
  &quot;port&quot;: [
    {
      &quot;port_id&quot;: &quot;323&quot;,
      &quot;device_id&quot;: &quot;55&quot;,
      &quot;port_descr_type&quot;: null,
      &quot;port_descr_descr&quot;: null,
      &quot;port_descr_circuit&quot;: null,
      &quot;port_descr_speed&quot;: null,
      &quot;port_descr_notes&quot;: null,
      &quot;ifDescr&quot;: &quot;GigabitEthernet0/0/0&quot;,
      &quot;ifName&quot;: &quot;Gi0/0/0&quot;,
      &quot;portName&quot;: null,
      &quot;ifIndex&quot;: &quot;1&quot;,
      &quot;ifSpeed&quot;: &quot;1000000000&quot;,
      &quot;ifConnectorPresent&quot;: &quot;true&quot;,
      &quot;ifPromiscuousMode&quot;: &quot;false&quot;,
      &quot;ifHighSpeed&quot;: &quot;1000&quot;,
      &quot;ifOperStatus&quot;: &quot;up&quot;,
      &quot;ifOperStatus_prev&quot;: null,
      &quot;ifAdminStatus&quot;: &quot;up&quot;,
      &quot;ifAdminStatus_prev&quot;: null,
      &quot;ifDuplex&quot;: &quot;fullDuplex&quot;,
      &quot;ifMtu&quot;: &quot;1560&quot;,
      &quot;ifType&quot;: &quot;ethernetCsmacd&quot;,
      &quot;ifAlias&quot;: &quot;ASR Interconnect Trunk&quot;,
      &quot;ifPhysAddress&quot;: &quot;84bf20853e00&quot;,
      &quot;ifHardType&quot;: null,
      &quot;ifLastChange&quot;: &quot;42407358&quot;,
      &quot;ifVlan&quot;: &quot;&quot;,
      &quot;ifTrunk&quot;: &quot;&quot;,
      &quot;ifVrf&quot;: &quot;0&quot;,
      &quot;counter_in&quot;: null,
      &quot;counter_out&quot;: null,
      &quot;ignore&quot;: &quot;0&quot;,
      &quot;disabled&quot;: &quot;0&quot;,
      &quot;detailed&quot;: &quot;0&quot;,
      &quot;deleted&quot;: &quot;0&quot;,
      &quot;pagpOperationMode&quot;: null,
      &quot;pagpPortState&quot;: null,
      &quot;pagpPartnerDeviceId&quot;: null,
      &quot;pagpPartnerLearnMethod&quot;: null,
      &quot;pagpPartnerIfIndex&quot;: null,
      &quot;pagpPartnerGroupIfIndex&quot;: null,
      &quot;pagpPartnerDeviceName&quot;: null,
      &quot;pagpEthcOperationMode&quot;: null,
      &quot;pagpDeviceId&quot;: null,
      &quot;pagpGroupIfIndex&quot;: null,
      &quot;ifInUcastPkts&quot;: &quot;128518576&quot;,
      &quot;ifInUcastPkts_prev&quot;: &quot;128517284&quot;,
      &quot;ifInUcastPkts_delta&quot;: &quot;1292&quot;,
      &quot;ifInUcastPkts_rate&quot;: &quot;4&quot;,
      &quot;ifOutUcastPkts&quot;: &quot;128510560&quot;,
      &quot;ifOutUcastPkts_prev&quot;: &quot;128509268&quot;,
      &quot;ifOutUcastPkts_delta&quot;: &quot;1292&quot;,
      &quot;ifOutUcastPkts_rate&quot;: &quot;4&quot;,
      &quot;ifInErrors&quot;: &quot;0&quot;,
      &quot;ifInErrors_prev&quot;: &quot;0&quot;,
      &quot;ifInErrors_delta&quot;: &quot;0&quot;,
      &quot;ifInErrors_rate&quot;: &quot;0&quot;,
      &quot;ifOutErrors&quot;: &quot;0&quot;,
      &quot;ifOutErrors_prev&quot;: &quot;0&quot;,
      &quot;ifOutErrors_delta&quot;: &quot;0&quot;,
      &quot;ifOutErrors_rate&quot;: &quot;0&quot;,
      &quot;ifInOctets&quot;: &quot;12827393730&quot;,
      &quot;ifInOctets_prev&quot;: &quot;12827276736&quot;,
      &quot;ifInOctets_delta&quot;: &quot;116994&quot;,
      &quot;ifInOctets_rate&quot;: &quot;387&quot;,
      &quot;ifOutOctets&quot;: &quot;14957481766&quot;,
      &quot;ifOutOctets_prev&quot;: &quot;14957301765&quot;,
      &quot;ifOutOctets_delta&quot;: &quot;180001&quot;,
      &quot;ifOutOctets_rate&quot;: &quot;596&quot;,
      &quot;poll_time&quot;: &quot;1483779150&quot;,
      &quot;poll_prev&quot;: &quot;1483778848&quot;,
      &quot;poll_period&quot;: &quot;302&quot;
    }
  ]
}
</code></pre>

<h3 id="function-get_port_info_1">Function <code>get_port_info</code></h3>
<p>Get all IP info (v4 and v6) for a given port id.</p>
<p>Route: <code>/api/v0/ports/:portid/ip</code></p>
<ul>
<li>portid must be an integer</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323/ip
</code></pre>

<p>Output:</p>
<pre><code class="json">{
  &quot;status&quot;: &quot;ok&quot;,
  &quot;err-msg&quot;: &quot;&quot;,
  &quot;addresses&quot;: [
    {
      &quot;ipv4_address_id&quot;: &quot;290&quot;,
      &quot;ipv4_address&quot;: &quot;192.168.99.292&quot;,
      &quot;ipv4_prefixlen&quot;: &quot;30&quot;,
      &quot;ipv4_network_id&quot;: &quot;247&quot;,
      &quot;port_id&quot;: &quot;323&quot;,
      &quot;context_name&quot;: &quot;&quot;
    }
  ]
}
</code></pre>

<h3 id="function-get_devices_by_group">Function <code>get_devices_by_group</code></h3>
<p>List all devices matching the group provided.</p>
<p>Route: <code>/api/v0/devicegroups/:name</code></p>
<ul>
<li>name Is the name of the device group which can be obtained using <a href="#function-get_devicegroups"><code>get_devicegroups</code></a>. Please ensure that the name is urlencoded if it needs to be (i.e Linux Servers would need to be urlencoded.</li>
</ul>
<p>Input (JSON):</p>
<ul>
<li>full: set to any value to return all data for the devices in a given group</li>
</ul>
<p>Examples:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devicegroups/LinuxServers
</code></pre>

<p>Output:</p>
<pre><code class="json">[
     {
         &quot;status&quot;: &quot;ok&quot;,
         &quot;message&quot;: &quot;Found 3 in group LinuxServers&quot;,
         &quot;count&quot;: 3,
         &quot;devices&quot;: [
            {
                &quot;device_id&quot;: &quot;15&quot;
            },
            {
                &quot;device_id&quot;: &quot;18&quot;
            },
            {
                &quot;device_id&quot;: &quot;20&quot;
            }
         ]
     }
]
</code></pre>

<h2 id="port-groups">Port Groups</h2>
<h3 id="function-get_graph_by_portgroup">Function: <code>get_graph_by_portgroup</code></h3>
<p>Get the graph based on the group type.</p>
<p>Route: <code>/api/v0/devices/portgroups/:group</code></p>
<ul>
<li>group is the type of port group graph you want, I.e Transit, Peering, etc. You can specify multiple types comma separated.</li>
</ul>
<p>Input:</p>
<ul>
<li>from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li>
<li>to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li>
<li>width: The graph width, defaults to 1075.</li>
<li>height: The graph height, defaults to 300.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/portgroups/transit,peering
</code></pre>

<p>Output:</p>
<p>Output is an image.</p>
<h3 id="function-get_graph_by_portgroup_multiport_bits">Function: <code>get_graph_by_portgroup_multiport_bits</code></h3>
<p>Get the graph based on the multiple port id separated by commas <code>,</code>.</p>
<p>Route: <code>/api/v0/devices/portgroups/multiport/bits/:id</code></p>
<ul>
<li>id is a comma separated list of port ids you want, I.e 1,2,3,4, etc. You can specify multiple IDs comma separated.</li>
</ul>
<p>Input:</p>
<ul>
<li>from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li>
<li>to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information.</li>
<li>width: The graph width, defaults to 1075.</li>
<li>height: The graph height, defaults to 300.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/portgroups/multiport/bits/1,2,3
</code></pre>

<p>Output:</p>
<p>Output is an image.</p>
<h2 id="routing">Routing</h2>
<h3 id="function-list_bgp">Function: <code>list_bgp</code></h3>
<p>List the current BGP sessions.</p>
<p>Route: <code>/api/v0/bgp</code></p>
<p>Input:</p>
<ul>
<li>hostname = Either the devices hostname or id.
<strong>OR</strong></li>
<li>asn = The ASN you would like to filter by</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;count&quot;: 0,
 &quot;bgp_sessions&quot;: [

 ]
}
</code></pre>

<h3 id="function-list_ipsec">Function: <code>list_ipsec</code></h3>
<p>List the current IPSec tunnels which are active.</p>
<p>Route: <code>/api/v0/routing/ipsec/data/:hostname</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/ipsec/data/localhost
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 0,
    &quot;ipsec&quot;: [
        &quot;tunnel_id&quot;: &quot;1&quot;,
        &quot;device_id&quot;: &quot;1&quot;,
        &quot;peer_port&quot;: &quot;0&quot;,
        &quot;peer_addr&quot;: &quot;127.0.0.1&quot;,
        &quot;local_addr&quot;: &quot;127.0.0.2&quot;,
        &quot;local_port&quot;: &quot;0&quot;,
        &quot;tunnel_name&quot;: &quot;&quot;,
        &quot;tunnel_status&quot;: &quot;active&quot;
    ]
}
</code></pre>

<blockquote>
<p>Please note, this will only show active VPN sessions not all configured.</p>
</blockquote>
<h2 id="switching">Switching</h2>
<h3 id="function-get_vlans">Function: <code>get_vlans</code></h3>
<p>Get a list of all VLANs for a given device.</p>
<p>Route: <code>/api/v0/devices/:hostname/vlans</code></p>
<ul>
<li>hostname can be either the device hostname or id</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/vlans
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;count&quot;: 0,
    &quot;vlans&quot;: [
    {
   &quot;vlan_vlan&quot;: &quot;1&quot;,
   &quot;vlan_domain&quot;: &quot;1&quot;,
   &quot;vlan_name&quot;: &quot;default&quot;,
   &quot;vlan_type&quot;: &quot;ethernet&quot;,
   &quot;vlan_mtu&quot;: null
    }
  ]
}
</code></pre>

<h2 id="alerts">Alerts</h2>
<h3 id="function-get_alert">Function: <code>get_alert</code></h3>
<p>Get details of an alert</p>
<p>Route: <code>/api/v0/alerts/:id</code></p>
<ul>
<li>id is the alert id, you can obtain a list of alert ids from <a href="#function-list_alerts"><code>list_alerts</code></a>.</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/1
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;count&quot;: 7,
 &quot;alerts&quot;: [
  {
   &quot;hostname&quot;: &quot;localhost&quot;,
   &quot;id&quot;: &quot;1&quot;,
   &quot;device_id&quot;: &quot;1&quot;,
   &quot;rule_id&quot;: &quot;1&quot;,
   &quot;state&quot;: &quot;1&quot;,
   &quot;alerted&quot;: &quot;1&quot;,
   &quot;open&quot;: &quot;1&quot;,
   &quot;timestamp&quot;: &quot;2014-12-11 14:40:02&quot;
  },
}
</code></pre>

<h3 id="function-ack_alert">Function: <code>ack_alert</code></h3>
<p>Acknowledge an alert</p>
<p>Route: <code>/api/v0/alerts/:id</code></p>
<ul>
<li>id is the alert id, you can obtain a list of alert ids from <a href="#function-list_alerts"><code>list_alerts</code></a>.</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -X PUT -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/1
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;message&quot;: &quot;Alert has been acknowledged&quot;
}
</code></pre>

<h3 id="function-unmute_alert">Function: <code>unmute_alert</code></h3>
<p>Unmute an alert</p>
<p>Route: <code>/api/v0/alerts/unmute/:id</code></p>
<ul>
<li>id is the alert id, you can obtain a list of alert ids from <a href="#function-list_alerts"><code>list_alerts</code></a>.</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -X PUT -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/unmute/1
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;message&quot;: &quot;Alert has been unmuted&quot;
}
</code></pre>

<h3 id="function-list_alerts">Function: <code>list_alerts</code></h3>
<p>List all alerts</p>
<p>Route: <code>/api/v0/alerts</code></p>
<p>Input:</p>
<ul>
<li>state: Filter the alerts by state, 0 = ok, 1 = alert, 2 = ack</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?state=1
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;count&quot;: 1,
 &quot;alerts&quot;: [
  {
   &quot;id&quot;: &quot;1&quot;,
   &quot;device_id&quot;: &quot;1&quot;,
   &quot;rule_id&quot;: &quot;1&quot;,
   &quot;state&quot;: &quot;1&quot;,
   &quot;alerted&quot;: &quot;1&quot;,
   &quot;open&quot;: &quot;1&quot;,
   &quot;timestamp&quot;: &quot;2014-12-11 14:40:02&quot;
  }
}
</code></pre>

<h2 id="rules">Rules</h2>
<h3 id="function-get_alert_rule">Function: <code>get_alert_rule</code></h3>
<p>Get the alert rule details.</p>
<p>Route: <code>/api/v0/rules/:id</code></p>
<ul>
<li>id is the rule id.</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules/1
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;count&quot;: 1,
 &quot;rules&quot;: [
  {
   &quot;id&quot;: &quot;1&quot;,
   &quot;device_id&quot;: &quot;1&quot;,
   &quot;rule&quot;: &quot;%devices.os != \&quot;Juniper\&quot;&quot;,
   &quot;severity&quot;: &quot;warning&quot;,
   &quot;extra&quot;: &quot;{\&quot;mute\&quot;:true,\&quot;count\&quot;:\&quot;15\&quot;,\&quot;delay\&quot;:null,\&quot;invert\&quot;:false}&quot;,
   &quot;disabled&quot;: &quot;0&quot;,
   &quot;name&quot;: &quot;A test rule&quot;
  }
 ]
}
</code></pre>

<h3 id="function-delete_rule">Function: <code>delete_rule</code></h3>
<p>Delete an alert rule by id</p>
<p>Route: <code>/api/v0/rules/:id</code></p>
<ul>
<li>id is the rule id.</li>
</ul>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules/1
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;message&quot;: &quot;Alert rule has been removed&quot;
}
</code></pre>

<h3 id="function-list_alert_rules">Function: <code>list_alert_rules</code></h3>
<p>List the alert rules.</p>
<p>Route: <code>/api/v0/rules</code></p>
<p>-</p>
<p>Input:</p>
<p>-</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;count&quot;: 1,
 &quot;rules&quot;: [
  {
   &quot;id&quot;: &quot;1&quot;,
   &quot;device_id&quot;: &quot;-1&quot;,
   &quot;rule&quot;: &quot;%devices.os != \&quot;Juniper\&quot;&quot;,
   &quot;severity&quot;: &quot;critical&quot;,
   &quot;extra&quot;: &quot;{\&quot;mute\&quot;:false,\&quot;count\&quot;:\&quot;15\&quot;,\&quot;delay\&quot;:\&quot;300\&quot;,\&quot;invert\&quot;:false}&quot;,
   &quot;disabled&quot;: &quot;0&quot;,
   &quot;name&quot;: &quot;A test rule&quot;
  },
}
</code></pre>

<h3 id="function-add_rule">Function: <code>add_rule</code></h3>
<p>Add a new alert rule.</p>
<p>Route: <code>/api/v0/rules</code></p>
<p>-</p>
<p>Input (JSON):</p>
<ul>
<li>device_id: This is either the device id or -1 for a global rule</li>
<li>rule: The rule which should be in the format %entity $condition $value (i.e %devices.status != 0 for devices marked as down).</li>
<li>severity: The severity level the alert will be raised against, Ok, Warning, Critical.</li>
<li>disabled: Whether the rule will be disabled or not, 0 = enabled, 1 = disabled</li>
<li>count: This is how many polling runs before an alert will trigger and the frequency.</li>
<li>delay: Delay is when to start alerting and how frequently. The value is stored in seconds but you can specify minutes, hours or days by doing 5 m, 5 h, 5 d for each one.</li>
<li>mute: If mute is enabled then an alert will never be sent but will show up in the Web UI (true or false).</li>
<li>invert: This would invert the rules check.</li>
<li>name: This is the name of the rule and is mandatory.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -X POST -d '{&quot;device_id&quot;:&quot;-1&quot;, &quot;rule&quot;:&quot;%devices.os != \&quot;Cisco\&quot;&quot;,&quot;severity&quot;: &quot;critical&quot;,&quot;count&quot;:15,&quot;delay&quot;:&quot;5 m&quot;,&quot;mute&quot;:false}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules
</code></pre>

<p>Output:</p>
<pre><code class="json">rules
{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;
}
</code></pre>

<h3 id="function-edit_rule">Function: <code>edit_rule</code></h3>
<p>Edit an existing alert rule</p>
<p>Route: <code>/api/v0/rules</code></p>
<p>-</p>
<p>Input (JSON):</p>
<ul>
<li>rule_id: You must specify the rule_id to edit an existing rule, if this is absent then a new rule will be created.</li>
<li>device_id: This is either the device id or -1 for a global rule</li>
<li>rule: The rule which should be in the format %entity $condition $value (i.e %devices.status != 0 for devices marked as down).</li>
<li>severity: The severity level the alert will be raised against, Ok, Warning, Critical.</li>
<li>disabled: Whether the rule will be disabled or not, 0 = enabled, 1 = disabled</li>
<li>count: This is how many polling runs before an alert will trigger and the frequency.</li>
<li>delay: Delay is when to start alerting and how frequently. The value is stored in seconds but you can specify minutes, hours or days by doing 5 m, 5 h, 5 d for each one.</li>
<li>mute: If mute is enabled then an alert will never be sent but will show up in the Web UI (true or false).</li>
<li>invert: This would invert the rules check.</li>
<li>name: This is the name of the rule and is mandatory.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -X PUT -d '{&quot;rule_id&quot;:1,&quot;device_id&quot;:&quot;-1&quot;, &quot;rule&quot;:&quot;%devices.os != \&quot;Cisco\&quot;&quot;,&quot;severity&quot;: &quot;critical&quot;,&quot;count&quot;:15,&quot;delay&quot;:&quot;5 m&quot;,&quot;mute&quot;:false}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules
</code></pre>

<p>Output:</p>
<pre><code class="json">rules
{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;
}
</code></pre>

<h2 id="inventory">Inventory</h2>
<h3 id="function-get_inventory">Function: <code>get_inventory</code></h3>
<p>Retrieve the inventory for a device. If you call this without any parameters then you will only get part of the inventory. This is because a lot of devices nest each component, for instance you may initially have the chassis, within this the ports - 1 being an sfp cage, then the sfp itself. The way this API call is designed is to enable a recursive lookup. The first call will retrieve the root entry, included within this response will be entPhysicalIndex, you can then call for entPhysicalContainedIn which will then return the next layer of results.</p>
<p>Route: <code>/api/v0/inventory/:hostname</code></p>
<ul>
<li>hostname can be either the device hostname or the device id</li>
</ul>
<p>Input:</p>
<ul>
<li>entPhysicalClass: This is used to restrict the class of the inventory, for example you can specify chassis to only return items in the inventory that are labelled as chassis.</li>
<li>entPhysicalContainedIn: This is used to retrieve items within the inventory assigned to a previous component, for example specifying the chassis (entPhysicalIndex) will retrieve all items where the chassis is the parent.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/inventory/localhost?entPhysicalContainedIn=65536
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 1,
    &quot;inventory&quot;: [
        {
            &quot;entPhysical_id&quot;: &quot;2&quot;,
            &quot;device_id&quot;: &quot;32&quot;,
            &quot;entPhysicalIndex&quot;: &quot;262145&quot;,
            &quot;entPhysicalDescr&quot;: &quot;Linux 3.3.5 ehci_hcd RB400 EHCI&quot;,
            &quot;entPhysicalClass&quot;: &quot;unknown&quot;,
            &quot;entPhysicalName&quot;: &quot;1:1&quot;,
            &quot;entPhysicalHardwareRev&quot;: &quot;&quot;,
            &quot;entPhysicalFirmwareRev&quot;: &quot;&quot;,
            &quot;entPhysicalSoftwareRev&quot;: &quot;&quot;,
            &quot;entPhysicalAlias&quot;: &quot;&quot;,
            &quot;entPhysicalAssetID&quot;: &quot;&quot;,
            &quot;entPhysicalIsFRU&quot;: &quot;false&quot;,
            &quot;entPhysicalModelName&quot;: &quot;0x0002&quot;,
            &quot;entPhysicalVendorType&quot;: &quot;zeroDotZero&quot;,
            &quot;entPhysicalSerialNum&quot;: &quot;rb400_usb&quot;,
            &quot;entPhysicalContainedIn&quot;: &quot;65536&quot;,
            &quot;entPhysicalParentRelPos&quot;: &quot;-1&quot;,
            &quot;entPhysicalMfgName&quot;: &quot;0x1d6b&quot;,
            &quot;ifIndex&quot;: &quot;0&quot;
        }
    ]
}
</code></pre>

<h2 id="bills">Bills</h2>
<h3 id="function-list_bills">Function: <code>list_bills</code></h3>
<p>Retrieve the list of bills currently in the system.</p>
<p>Route: <code>/api/v0/bills</code></p>
<p>Input:</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;count&quot;: 1,
 &quot;bills&quot;: [
  {
   &quot;bill_id&quot;: &quot;1&quot;,
   &quot;bill_name&quot;: &quot;Router bills&quot;,
   &quot;bill_type&quot;: &quot;cdr&quot;,
   &quot;bill_cdr&quot;: &quot;10000000&quot;,
   &quot;bill_day&quot;: &quot;1&quot;,
   &quot;bill_quota&quot;: &quot;0&quot;,
   &quot;rate_95th_in&quot;: &quot;0&quot;,
   &quot;rate_95th_out&quot;: &quot;0&quot;,
   &quot;rate_95th&quot;: &quot;0&quot;,
   &quot;dir_95th&quot;: &quot;in&quot;,
   &quot;total_data&quot;: &quot;0&quot;,
   &quot;total_data_in&quot;: &quot;0&quot;,
   &quot;total_data_out&quot;: &quot;0&quot;,
   &quot;rate_average_in&quot;: &quot;0&quot;,
   &quot;rate_average_out&quot;: &quot;0&quot;,
   &quot;rate_average&quot;: &quot;0&quot;,
   &quot;bill_last_calc&quot;: &quot;2015-07-02 17:01:26&quot;,
   &quot;bill_custid&quot;: &quot;Router&quot;,
   &quot;bill_ref&quot;: &quot;Router&quot;,
   &quot;bill_notes&quot;: &quot;Bill me&quot;,
   &quot;bill_autoadded&quot;: &quot;0&quot;,
   &quot;ports_total&quot;: &quot;0&quot;,
   &quot;allowed&quot;: &quot;10Mbps&quot;,
   &quot;used&quot;: &quot;0bps&quot;,
   &quot;percent&quot;: 0,
   &quot;overuse&quot;: &quot;-&quot;,
   &quot;ports&quot;: [
       {
           &quot;device_id&quot;: &quot;168&quot;,
           &quot;port_id&quot;: &quot;35146&quot;,
           &quot;ifName&quot;: &quot;eth0&quot;
       }
   ]
  }
 ]
}
</code></pre>

<h3 id="function-get_bill">Function: <code>get_bill</code></h3>
<p>Retrieve a specific bill</p>
<p>Route: <code>/api/v0/bills/:id</code>
       <code>/api/v0/bills?ref=:ref</code>
       <code>/api/v0/bills?custid=:custid</code></p>
<ul>
<li>id is the specific bill id</li>
<li>ref is the billing reference</li>
<li>custid is the customer reference</li>
</ul>
<p>Input:</p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?ref=:customerref
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?custid=:custid
</code></pre>

<p>Output:</p>
<pre><code class="json">{
 &quot;status&quot;: &quot;ok&quot;,
 &quot;err-msg&quot;: &quot;&quot;,
 &quot;count&quot;: 1,
 &quot;bills&quot;: [
  {
   &quot;bill_id&quot;: &quot;1&quot;,
   &quot;bill_name&quot;: &quot;Router bills&quot;,
   &quot;bill_type&quot;: &quot;cdr&quot;,
   &quot;bill_cdr&quot;: &quot;10000000&quot;,
   &quot;bill_day&quot;: &quot;1&quot;,
   &quot;bill_quota&quot;: &quot;0&quot;,
   &quot;rate_95th_in&quot;: &quot;0&quot;,
   &quot;rate_95th_out&quot;: &quot;0&quot;,
   &quot;rate_95th&quot;: &quot;0&quot;,
   &quot;dir_95th&quot;: &quot;in&quot;,
   &quot;total_data&quot;: &quot;0&quot;,
   &quot;total_data_in&quot;: &quot;0&quot;,
   &quot;total_data_out&quot;: &quot;0&quot;,
   &quot;rate_average_in&quot;: &quot;0&quot;,
   &quot;rate_average_out&quot;: &quot;0&quot;,
   &quot;rate_average&quot;: &quot;0&quot;,
   &quot;bill_last_calc&quot;: &quot;2015-07-02 17:01:26&quot;,
   &quot;bill_custid&quot;: &quot;Router&quot;,
   &quot;bill_ref&quot;: &quot;Router&quot;,
   &quot;bill_notes&quot;: &quot;Bill me&quot;,
   &quot;bill_autoadded&quot;: &quot;0&quot;,
   &quot;ports_total&quot;: &quot;0&quot;,
   &quot;allowed&quot;: &quot;10Mbps&quot;,
   &quot;used&quot;: &quot;0bps&quot;,
   &quot;percent&quot;: 0,
   &quot;overuse&quot;: &quot;-&quot;,
   &quot;ports&quot;: [
       {
           &quot;device_id&quot;: &quot;168&quot;,
           &quot;port_id&quot;: &quot;35146&quot;,
           &quot;ifName&quot;: &quot;eth0&quot;
       }
   ]
  }
 ]
}
</code></pre>

<h3 id="function-list_arp">Function: <code>list_arp</code></h3>
<p>Retrieve a specific ARP entry or all ARP enties for a device</p>
<p>Route: <code>/api/v0/resources/ip/arp/:ip</code></p>
<ul>
<li>ip is the specific IP you would like to query, if this is all then you need to pass ?device=<em>hostname</em> (or device id)</li>
<li>This may also be a cidr network, for example 192.168.1.0/24</li>
</ul>
<p>Input:</p>
<ul>
<li>device if you specify all for the IP then you need to populate this with the hostname or id of the device.</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/1.1.1.1
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/192.168.1.0/24
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/all?device=localhost
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 1,
    &quot;arp&quot;: [
        {
            &quot;port_id&quot;: &quot;229&quot;,
            &quot;mac_address&quot;: &quot;da160e5c2002&quot;,
            &quot;ipv4_address&quot;: &quot;1.1.1.1&quot;,
            &quot;context_name&quot;: &quot;&quot;
        }
    ]
}
</code></pre>

<h2 id="services">Services</h2>
<h3 id="function-list_services">Function: <code>list_services</code></h3>
<p>Retrieve all services</p>
<p>Route: <code>/api/v0/services</code></p>
<p>Input:</p>
<ul>
<li>state: only which have a certain state (valid options are 0=Ok, 1=Warning, 2=Critical).</li>
<li>type: service type, used sql LIKE to find services, so for tcp, use type=tcp for http use type=http</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services?state=2
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services?state=0&amp;type=tcp
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 1,
    &quot;services&quot;: [
        [
            {
                &quot;service_id&quot;: &quot;13&quot;,
                &quot;device_id&quot;: &quot;1&quot;,
                &quot;service_ip&quot;: &quot;demo1.yourdomian.net&quot;,
                &quot;service_type&quot;: &quot;ntp_peer&quot;,
                &quot;service_desc&quot;: &quot;NTP&quot;,
                &quot;service_param&quot;: &quot;-H 192.168.1.10&quot;,
                &quot;service_ignore&quot;: &quot;0&quot;,
                &quot;service_status&quot;: &quot;0&quot;,
                &quot;service_changed&quot;: &quot;1470962470&quot;,
                &quot;service_message&quot;: &quot;NTP OK: Offset -0.000717 secs&quot;,
                &quot;service_disabled&quot;: &quot;0&quot;,
                &quot;service_ds&quot;: &quot;{\&quot;offset\&quot;:\&quot;s\&quot;}&quot;
            }
        ],
        [
            {
                &quot;service_id&quot;: &quot;2&quot;,
                &quot;device_id&quot;: &quot;2&quot;,
                &quot;service_ip&quot;: &quot;demo2.yourdomian.net&quot;,
                &quot;service_type&quot;: &quot;esxi_hardware.py&quot;,
                &quot;service_desc&quot;: &quot;vmware hardware&quot;,
                &quot;service_param&quot;: &quot;-H 192.168.1.11 -U USER -P PASS -p&quot;,
                &quot;service_ignore&quot;: &quot;0&quot;,
                &quot;service_status&quot;: &quot;0&quot;,
                &quot;service_changed&quot;: &quot;1471702206&quot;,
                &quot;service_message&quot;: &quot;OK - Server: Supermicro X9SCL/X9SCM s/n: 0123456789 System BIOS: 2.2 2015-02-20&quot;,
                &quot;service_disabled&quot;: &quot;0&quot;,
                &quot;service_ds&quot;: &quot;{\&quot;P2Vol_0_Processor_1_Vcore\&quot;:\&quot;\&quot;,\&quot;P2Vol_1_System_Board_1_-12V\&quot;:\&quot;\&quot;,\&quot;P2Vol_2_System_Board_1_12V\&quot;:\&quot;\&quot;,\&quot;P2Vol_3_System_Board_1_3.3VCC\&quot;:\&quot;\&quot;,\&quot;P2Vol_4_System_Board_1_5VCC\&quot;:\&quot;\&quot;,\&quot;P2Vol_5_System_Board_1_AVCC\&quot;:\&quot;\&quot;,\&quot;P2Vol_6_System_Board_1_VBAT\&quot;:\&quot;\&quot;,\&quot;P2Vol_7_System_Board_1_&quot;
            }
        ]
    ]
}
</code></pre>

<h3 id="function-get_service_for_host">Function: <code>get_service_for_host</code></h3>
<p>Retrieve services for device</p>
<p>Route: <code>/api/v0/services/:hostname</code></p>
<ul>
<li>id or hostname is the specific device</li>
</ul>
<p>Input:</p>
<ul>
<li>state: only which have a certain state (valid options are 0=Ok, 1=Warning, 2=Critical).</li>
<li>type: service type, used sql LIKE to find services, so for tcp, use type=tcp for http use type=http</li>
</ul>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname?state=2
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname?state=0&amp;type=tcp
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 1,
    &quot;services&quot;: [
        [
            {
                &quot;service_id&quot;: &quot;2&quot;,
                &quot;device_id&quot;: &quot;2&quot;,
                &quot;service_ip&quot;: &quot;demo2.yourdomian.net&quot;,
                &quot;service_type&quot;: &quot;esxi_hardware.py&quot;,
                &quot;service_desc&quot;: &quot;vmware hardware&quot;,
                &quot;service_param&quot;: &quot;-H 192.168.1.11 -U USER -P PASS -p&quot;,
                &quot;service_ignore&quot;: &quot;0&quot;,
                &quot;service_status&quot;: &quot;0&quot;,
                &quot;service_changed&quot;: &quot;1471702206&quot;,
                &quot;service_message&quot;: &quot;OK - Server: Supermicro X9SCL/X9SCM s/n: 0123456789 System BIOS: 2.2 2015-02-20&quot;,
                &quot;service_disabled&quot;: &quot;0&quot;,
                &quot;service_ds&quot;: &quot;{\&quot;P2Vol_0_Processor_1_Vcore\&quot;:\&quot;\&quot;,\&quot;P2Vol_1_System_Board_1_-12V\&quot;:\&quot;\&quot;,\&quot;P2Vol_2_System_Board_1_12V\&quot;:\&quot;\&quot;,\&quot;P2Vol_3_System_Board_1_3.3VCC\&quot;:\&quot;\&quot;,\&quot;P2Vol_4_System_Board_1_5VCC\&quot;:\&quot;\&quot;,\&quot;P2Vol_5_System_Board_1_AVCC\&quot;:\&quot;\&quot;,\&quot;P2Vol_6_System_Board_1_VBAT\&quot;:\&quot;\&quot;,\&quot;P2Vol_7_System_Board_1_&quot;
            }
        ]
    ]
}
</code></pre>

<h2 id="logs">Logs</h2>
<p>All the <code>list_*logs</code> calls are aliased to <code>list_logs</code>.</p>
<p>Retrieve all logs or logs for a specific device.</p>
<ul>
<li>id or hostname is the specific device</li>
</ul>
<p>Input:</p>
<ul>
<li>start: The page number to request.</li>
<li>limit: The limit of results to be returned.</li>
<li>from: The date and time to search from.</li>
<li>to: The data and time to search to.</li>
</ul>
<h3 id="function-list_eventlog">Function: <code>list_eventlog</code></h3>
<p>Route: <code>/api/v0/logs/eventlog/:hostname</code></p>
<h3 id="function-list_syslog">Function: <code>list_syslog</code></h3>
<p>Route: <code>/api/v0/logs/syslog/:hostname</code></p>
<h3 id="function-list_alertlog">Function: <code>list_alertlog</code></h3>
<p>Route: <code>/api/v0/logs/alertlog/:hostname</code></p>
<h3 id="function-list_authlog">Function: <code>list_authlog</code></h3>
<p>Route: <code>/api/v0/logs/authlog/:hostname</code></p>
<p>Example:</p>
<pre><code class="curl">curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/syslog/:hostname?limit=20
curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname?limit=20&amp;start=5&amp;from=2017-07-22%2023:00:00
</code></pre>

<p>Output:</p>
<pre><code class="json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;err-msg&quot;: &quot;&quot;,
    &quot;count&quot;: 5,
    &quot;total&quot;: &quot;15&quot;,
    &quot;logs&quot;: [
        {
            &quot;hostname&quot;: &quot;localhost&quot;,
            &quot;sysName&quot;: &quot;web01.1.novalocal&quot;,
            &quot;event_id&quot;: &quot;10050349&quot;,
            &quot;host&quot;: &quot;279&quot;,
            &quot;device_id&quot;: &quot;279&quot;,
            &quot;datetime&quot;: &quot;2017-07-22 19:57:47&quot;,
            &quot;message&quot;: &quot;ifAlias:  -&gt;  &lt;pptp-something-something-tunnel-something&gt;&quot;,
            &quot;type&quot;: &quot;interface&quot;,
            &quot;reference&quot;: &quot;NULL&quot;,
            &quot;username&quot;: &quot;&quot;,
            &quot;severity&quot;: &quot;3&quot;
        },
        ....
        {
            &quot;hostname&quot;: &quot;localhost&quot;,
            &quot;sysName&quot;: &quot;web01.1.novalocal&quot;,
            &quot;event_id&quot;: &quot;10050353&quot;,
            &quot;host&quot;: &quot;279&quot;,
            &quot;device_id&quot;: &quot;279&quot;,
            &quot;datetime&quot;: &quot;2017-07-22 19:57:47&quot;,
            &quot;message&quot;: &quot;ifHighSpeed:  -&gt;  0&quot;,
            &quot;type&quot;: &quot;interface&quot;,
            &quot;reference&quot;: &quot;NULL&quot;,
            &quot;username&quot;: &quot;&quot;,
            &quot;severity&quot;: &quot;3&quot;
        }
    ]
}
</code></pre>

  <br>
    


    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>