<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="LibreNMS">
        <link rel="canonical" href="http://docs.librenms.org/Installation/Installation-Ubuntu-1604-Nginx/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	    <title>Ubuntu 16.04 (Nginx) - LibreNMS Docs</title>

        <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.6.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/color.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../librenms.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-79149977-2', 'docs.librenms.org');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">LibreNMS Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li id="dropdown-Installation" class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../Installing-LibreNMS/">Installing LibreNMS</a>
</li>

                        
                            
<li >
    <a href="../Ubuntu-image/">Ubuntu VM Image</a>
</li>

                        
                            
<li >
    <a href="../CentOS-image/">CentOS VM Image</a>
</li>

                        
                            
<li class="active">
    <a href="./">Ubuntu 16.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../Installation-Ubuntu-1604-Apache/">Ubuntu 16.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../Installation-CentOS-7-Nginx/">CentOS 7 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../Installation-CentOS-7-Apache/">CentOS 7 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../Installing-LibreNMS/">Older Docs</a>
</li>

                        
                            
<li >
    <a href="../Migrating-from-Observium/">Migrating from Observium</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-General" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../General/Acknowledgement/">Acknowledgement</a>
</li>

                        
                            
<li >
    <a href="../../General/Callback-Stats-and-Privacy/">Callback Stats and Privacy</a>
</li>

                        
                            
<li >
    <a href="../../General/Changelog/">Changelog</a>
</li>

                        
                            
<li >
    <a href="../../General/Contributing/">Contributing</a>
</li>

                        
                            
<li >
    <a href="../../General/Credits/">Credits</a>
</li>

                        
                            
<li >
    <a href="../../General/Updating/">Updating</a>
</li>

                        
                            
<li >
    <a href="../../General/Welcome-to-Observium-users/">Welcome to Observium users</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Extensions" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extensions <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Extensions/Alerting/">Alerting</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Applications/">Applications</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Authentication/">Authentication</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Auto-Discovery/">Auto Discovery</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Billing-Module/">Billing Module</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Component/">Component</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Dell-OpenManage/">Dell OpenManage</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Device-Groups/">Device Groups</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Distributed-Poller/">Distributed Poller</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Email-Alerting/">Email Alerting</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Globe-Frontpage/">Globe Frontpage</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Graylog/">Graylog</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/IRC-Bot/">IRC Bot</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/IRC-Bot-Extensions/">IRC Bot Extensions</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/InfluxDB/">InfluxDB</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Interface-Description-Parsing/">Interface Description Parsing</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/MIB-based-polling/">MIB based polling</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Memcached/">Memcached</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Network-Map/">Network Map</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Oxidized/">Oxidized</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Plugin-System/">Plugin System</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Poller-Service/">Poller Service</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Port-Description-Parser/">Port Description Parser</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Proxmox/">Proxmox</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/RRDCached/">RRDCached</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/RRDTune/">RRDTune</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/SNMP-Proxy/">SNMP Proxy</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/SNMP-Trap-Handler/">SNMP Trap Handler</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Services/">Services</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Smokeping/">Smokeping</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Sub-Directory/">Sub Directory</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Syslog/">Syslog</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Two-Factor-Auth/">Two Factor Auth</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Varnish/">Varnish</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Developing" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developing <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Developing/Code-Guidelines/">Code Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Code-Structure/">Code Structure</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Creating-Documentation/">Creating Documentation</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Dynamic-Config/">Dynamic Config</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Sensor-State-Support/">Sensor State Support</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Style-Guidelines/">Style Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Using-Git/">Using Git</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Validating-Code/">Validating Code</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../API/API-Docs/">API</a>
                    </li>
                
                
                
                    <li id="dropdown-Support" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Support/Configuration/">Configuration</a>
</li>

                        
                            
<li >
    <a href="../../Support/Discovery Support/">Discovery Support</a>
</li>

                        
                            
<li >
    <a href="../../Support/FAQ/">FAQ</a>
</li>

                        
                            
<li >
    <a href="../../Support/Features/">Features</a>
</li>

                        
                            
<li >
    <a href="../../Support/Install Validation/">Install Validation</a>
</li>

                        
                            
<li >
    <a href="../../Support/Performance/">Performance</a>
</li>

                        
                            
<li >
    <a href="../../Support/Poller Support/">Poller Support</a>
</li>

                        
                            
<li >
    <a href="../../Support/Support-New-OS/">Support New OS</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-hidden" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">hidden <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../Installation-Ubuntu-1404-Nginx/">Ubuntu 14.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../Installation-Ubuntu-1404-Apache/">Ubuntu 14.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../Installation-Ubuntu-1404-Lighttpd/">Ubuntu 14.04 (Lighttpd)</a>
</li>

                        
                            
<li >
    <a href="../Installation-CentOS-6-Apache-Nginx/">CentOS 6 (Apache/Nginx)</a>
</li>

                        
                            
<li >
    <a href="../Installation-(Debian-Ubuntu)/">Installation (Debian Ubuntu)</a>
</li>

                        
                            
<li >
    <a href="../Installation-(RHEL-CentOS)/">Installation (RHEL CentOS)</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i>
                        <span class="visible-xs-inline visible-md-inline visible-lg-inline">Search</span>
                    </a>
                </li>
                
                
                    <li>
                        <a href="https://github.com/librenms/librenms">
                            
                                <i class="fa fa-github"></i>
                            
                            <span class="visible-xs-inline visible-lg-inline">GitHub</span>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="row">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#db-server">DB Server</a></li>
        
            <li><a href="#install-configure-mysql">Install / Configure MySQL</a></li>
        
    
        <li class="main "><a href="#web-server">Web Server</a></li>
        
            <li><a href="#install-configure-nginx">Install / Configure Nginx</a></li>
        
            <li><a href="#add-librenms-user">Add librenms user</a></li>
        
            <li><a href="#clone-repo">Clone repo</a></li>
        
            <li><a href="#web-interface">Web interface</a></li>
        
            <li><a href="#web-installer">Web installer</a></li>
        
            <li><a href="#configure-snmpd">Configure snmpd</a></li>
        
            <li><a href="#cron-job">Cron job</a></li>
        
            <li><a href="#final-steps">Final steps</a></li>
        
            <li><a href="#add-first-device">Add first device</a></li>
        
            <li><a href="#what-next">What next?</a></li>
        
            <li><a href="#closing">Closing</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">
<div class="row">
  <div class="source-links col-md-offset-8 col-md-4">

    <a href="https://github.com/librenms/librenms/edit/master/doc/Installation/Installation-Ubuntu-1604-Nginx.md" target="_blank"><i class="fa fa-pencil"></i> Edit on GitHub</a>

  </div>
</div>


<blockquote>
<p>NOTE: These instructions assume you are the root user.  If you are not, prepend <code>sudo</code> to the shell commands (the ones that aren't at <code>mysql&gt;</code> prompts) or temporarily become a user with root privileges with <code>sudo -s</code> or <code>sudo -i</code>.</p>
</blockquote>
<h3 id="db-server">DB Server</h3>
<blockquote>
<p>NOTE: Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed.</p>
</blockquote>
<h4 id="install-configure-mysql">Install / Configure MySQL</h4>
<pre><code class="bash">apt-get install mariadb-server mariadb-client
service mysql restart
mysql -uroot -p
</code></pre>

<pre><code class="sql">CREATE DATABASE librenms;
GRANT ALL PRIVILEGES ON librenms.*
  TO 'librenms'@'localhost'
  IDENTIFIED BY '&lt;password&gt;'
;
FLUSH PRIVILEGES;
exit
</code></pre>

<p><code>vim /etc/mysql/mariadb.conf.d/50-server.cnf</code></p>
<p>Within the [mysqld] section please add:</p>
<pre><code class="bash">innodb_file_per_table=1
sql-mode=&quot;&quot;
</code></pre>

<p><code>service mysql restart</code></p>
<h3 id="web-server">Web Server</h3>
<h4 id="install-configure-nginx">Install / Configure Nginx</h4>
<p><code>apt-get install php7.0-cli php7.0-mysql php7.0-gd php7.0-snmp php-pear php7.0-curl php7.0-fpm snmp graphviz php7.0-mcrypt php7.0-json nginx-full fping imagemagick whois mtr-tiny nmap python-mysqldb snmpd php-net-ipv4 php-net-ipv6 rrdtool git</code></p>
<p>In <code>/etc/php/7.0/fpm/php.ini</code> and <code>/etc/php/7.0/cli/php.ini</code>, ensure date.timezone is set to your preferred time zone.  See http://php.net/manual/en/timezones.php for a list of supported timezones.  Valid examples are: "America/New York", "Australia/Brisbane", "Etc/UTC".</p>
<pre><code class="bash">service php7.0-fpm restart
phpenmod mcrypt
</code></pre>

<h4 id="add-librenms-user">Add librenms user</h4>
<pre><code class="bash">useradd librenms -d /opt/librenms -M -r
usermod -a -G librenms www-data
</code></pre>

<h4 id="clone-repo">Clone repo</h4>
<pre><code class="bash">cd /opt
git clone https://github.com/librenms/librenms.git librenms
</code></pre>

<h4 id="web-interface">Web interface</h4>
<pre><code class="bash">cd /opt/librenms
mkdir rrd logs
chmod 775 rrd
vim /etc/nginx/conf.d/librenms.conf
</code></pre>

<p>Add the following config:</p>
<pre><code class="nginx">server {
 listen      80;
 server_name librenms.example.com;
 root        /opt/librenms/html;
 index       index.php;
 access_log  /opt/librenms/logs/access_log;
 error_log   /opt/librenms/logs/error_log;
 location / {
  try_files $uri $uri/ @librenms;
 }
 location ~ \.php {
  include fastcgi.conf;
  fastcgi_split_path_info ^(.+\.php)(/.+)$;
  fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;
 }
 location ~ /\.ht {
  deny all;
 }
 location @librenms {
  rewrite api/v0(.*)$ /api_v0.php/$1 last;
  rewrite ^(.+)$ /index.php/$1 last;
 }
}
</code></pre>

<pre><code class="bash">service nginx restart
</code></pre>

<h4 id="web-installer">Web installer</h4>
<p>Now head to: http://librenms.example.com/install.php and follow the on-screen instructions.</p>
<h4 id="configure-snmpd">Configure snmpd</h4>
<pre><code class="bash">cp /opt/librenms/snmpd.conf.example /etc/snmpd.conf
vim /etc/snmpd.conf
</code></pre>

<p>Edit the text which says <code>RANDOMSTRINGGOESHERE</code> and set your own community string.</p>
<pre><code class="bash">curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro
chmod +x /usr/bin/distro
service snmpd restart
</code></pre>

<h4 id="cron-job">Cron job</h4>
<p><code>cp librenms.nonroot.cron /etc/cron.d/librenms</code></p>
<h4 id="final-steps">Final steps</h4>
<pre><code class="bash">chown -R librenms:librenms /opt/librenms
</code></pre>

<p>Now run validate your install and make sure everything is ok:</p>
<pre><code class="bash">cd /opt/librenms
./validate.php
</code></pre>

<p>That's it!  You now should be able to log in to http://librenms.example.com/.  Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default.  Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps.</p>
<h4 id="add-first-device">Add first device</h4>
<p>We now suggest that you add localhost as your first device from within the WebUI.</p>
<h4 id="what-next">What next?</h4>
<p>Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going:</p>
<ul>
<li><a href="http://docs.librenms.org/Support/Performance">Performance tuning</a></li>
<li><a href="http://docs.librenms.org/Extensions/Alerting/">Alerting</a></li>
<li><a href="http://docs.librenms.org/Extensions/Device-Groups/">Device Groups</a></li>
<li><a href="http://docs.librenms.org/Extensions/Auto-Discovery/">Auto discovery</a></li>
</ul>
<h4 id="closing">Closing</h4>
<p>We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see <a href="http://docs.librenms.org/General/Callback-Stats-and-Privacy/">this page</a> on what it is and how to enable it.</p></div>
            
            </div>
        </div>

        <footer>
            <div class="container">
                <hr>
                
                <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
            </div>
        </footer>

        <script src="../../js/jquery-1.12.4.min.js"></script>
        <script src="../../js/bootstrap-3.3.7.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
