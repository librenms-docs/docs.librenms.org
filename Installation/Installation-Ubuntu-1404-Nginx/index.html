<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="LibreNMS">
        <link rel="canonical" href="http://docs.librenms.org/Installation/Installation-Ubuntu-1404-Nginx/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	    <title>Ubuntu 14.04 (Nginx) - LibreNMS Docs</title>

        <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.6.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/color.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../librenms.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-79149977-2', 'docs.librenms.org');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">LibreNMS Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li id="dropdown-Installation" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../Installing-LibreNMS/">Installing LibreNMS</a>
</li>

                        
                            
<li >
    <a href="../Ubuntu-image/">Ubuntu VM Image</a>
</li>

                        
                            
<li >
    <a href="../CentOS-image/">CentOS VM Image</a>
</li>

                        
                            
<li >
    <a href="../Installation-Ubuntu-1604-Nginx/">Ubuntu 16.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../Installation-Ubuntu-1604-Apache/">Ubuntu 16.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../Installation-CentOS-7-Nginx/">CentOS 7 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../Installation-CentOS-7-Apache/">CentOS 7 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../Installing-LibreNMS/">Older Docs</a>
</li>

                        
                            
<li >
    <a href="../Migrating-from-Observium/">Migrating from Observium</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-General" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../General/Acknowledgement/">Acknowledgement</a>
</li>

                        
                            
<li >
    <a href="../../General/Callback-Stats-and-Privacy/">Callback Stats and Privacy</a>
</li>

                        
                            
<li >
    <a href="../../General/Changelog/">Changelog</a>
</li>

                        
                            
<li >
    <a href="../../General/Contributing/">Contributing</a>
</li>

                        
                            
<li >
    <a href="../../General/Credits/">Credits</a>
</li>

                        
                            
<li >
    <a href="../../General/Updating/">Updating</a>
</li>

                        
                            
<li >
    <a href="../../General/Releases/">Releases</a>
</li>

                        
                            
<li >
    <a href="../../General/Security/">Security</a>
</li>

                        
                            
<li >
    <a href="../../General/Welcome-to-Observium-users/">Welcome to Observium users</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Extensions" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extensions <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Extensions/Alerting/">Alerting</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Applications/">Applications</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Authentication/">Authentication</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Auto-Discovery/">Auto Discovery</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Billing-Module/">Billing Module</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Component/">Component</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Dell-OpenManage/">Dell OpenManage</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Device-Groups/">Device Groups</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Distributed-Poller/">Distributed Poller</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Email-Alerting/">Email Alerting</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Globe-Frontpage/">Globe Frontpage</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Graylog/">Graylog</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/IRC-Bot/">IRC Bot</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/IRC-Bot-Extensions/">IRC Bot Extensions</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/InfluxDB/">InfluxDB</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Interface-Description-Parsing/">Interface Description Parsing</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/MIB-based-polling/">MIB based polling</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Memcached/">Memcached</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Network-Map/">Network Map</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/NFSen/">NFSen</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Oxidized/">Oxidized</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Plugin-System/">Plugin System</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Poller-Service/">Poller Service</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Port-Description-Parser/">Port Description Parser</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Proxmox/">Proxmox</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/RRDCached/">RRDCached</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/RRDTune/">RRDTune</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/SNMP-Proxy/">SNMP Proxy</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/SNMP-Trap-Handler/">SNMP Trap Handler</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Services/">Services</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Smokeping/">Smokeping</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Sub-Directory/">Sub Directory</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Syslog/">Syslog</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Two-Factor-Auth/">Two Factor Auth</a>
</li>

                        
                            
<li >
    <a href="../../Extensions/Varnish/">Varnish</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-Developing" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developing <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Developing/Using-Git/">Using Git</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Code-Guidelines/">Code Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Style-Guidelines/">Style Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Validating-Code/">Validating Code</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Code-Structure/">Code Structure</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Creating-Documentation/">Creating Documentation</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Support-New-OS/">Support New OS</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Dynamic-Config/">Dynamic Config</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Sensor-State-Support/">Sensor State Support</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Merging-Pull-Requests/">Merging Pull Requests</a>
</li>

                        
                            
<li >
    <a href="../../Developing/Creating-Release/">Creating Release</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../API/API-Docs/">API</a>
                    </li>
                
                
                
                    <li id="dropdown-Support" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../Support/Configuration/">Configuration</a>
</li>

                        
                            
<li >
    <a href="../../Support/Discovery Support/">Discovery Support</a>
</li>

                        
                            
<li >
    <a href="../../Support/FAQ/">FAQ</a>
</li>

                        
                            
<li >
    <a href="../../Support/Features/">Features</a>
</li>

                        
                            
<li >
    <a href="../../Support/Install Validation/">Install Validation</a>
</li>

                        
                            
<li >
    <a href="../../Support/Performance/">Performance</a>
</li>

                        
                            
<li >
    <a href="../../Support/Poller Support/">Poller Support</a>
</li>

                        
                            
<li >
    <a href="../../Support/SNMP-Configuration-Examples/">SNMP Configuration Examples</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li id="dropdown-hidden" class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">hidden <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li class="active">
    <a href="./">Ubuntu 14.04 (Nginx)</a>
</li>

                        
                            
<li >
    <a href="../Installation-Ubuntu-1404-Apache/">Ubuntu 14.04 (Apache)</a>
</li>

                        
                            
<li >
    <a href="../Installation-Ubuntu-1404-Lighttpd/">Ubuntu 14.04 (Lighttpd)</a>
</li>

                        
                            
<li >
    <a href="../Installation-CentOS-6-Apache-Nginx/">CentOS 6 (Apache/Nginx)</a>
</li>

                        
                            
<li >
    <a href="../Installation-(Debian-Ubuntu)/">Installation (Debian Ubuntu)</a>
</li>

                        
                            
<li >
    <a href="../Installation-(RHEL-CentOS)/">Installation (RHEL CentOS)</a>
</li>

                        
                            
<li >
    <a href="../../Support/Support-New-OS/">Support New OS</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i>
                        <span class="visible-xs-inline visible-md-inline visible-lg-inline">Search</span>
                    </a>
                </li>
                
                
                    <li>
                        <a href="https://github.com/librenms/librenms">
                            
                                <i class="fa fa-github"></i>
                            
                            <span class="visible-xs-inline visible-lg-inline">GitHub</span>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="row">
            
                
                    <div class="col-md-3">
<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#on-the-db-server">On the DB Server</a></li>
        
    
        <li class="main "><a href="#on-the-nms">On the NMS</a></li>
        
    
        <li class="main "><a href="#adding-the-librenms-user">Adding the librenms-user</a></li>
        
    
        <li class="main "><a href="#cloning">Cloning</a></li>
        
    
        <li class="main "><a href="#web-interface">Web Interface</a></li>
        
    
        <li class="main "><a href="#start-the-web-server">Start the web-server:</a></li>
        
    
        <li class="main "><a href="#manual-vs-web-installer">Manual vs. web installer</a></li>
        
    
        <li class="main "><a href="#initialise-the-database">Initialise the database</a></li>
        
    
        <li class="main "><a href="#create-admin-user">Create admin user</a></li>
        
    
        <li class="main "><a href="#validate-your-install">Validate your install</a></li>
        
    
        <li class="main "><a href="#add-localhost">Add localhost</a></li>
        
    
        <li class="main "><a href="#create-cronjob">Create cronjob</a></li>
        
    
        <li class="main "><a href="#daily-updates">Daily Updates</a></li>
        
    
        <li class="main "><a href="#install-complete">Install complete</a></li>
        
    
    </ul>
</div>
</div>
                    <div class="col-md-9" role="main">
<div class="row">
  <div class="source-links col-md-offset-8 col-md-4">

    <a href="https://github.com/librenms/librenms/edit/master/doc/Installation/Installation-Ubuntu-1404-Nginx.md" target="_blank"><i class="fa fa-pencil"></i> Edit on GitHub</a>

  </div>
</div>


<blockquote>
<p>NOTE: These instructions have been tested on a fresh install of Ubuntu 12.04 and 14.04.</p>
<p>NOTE: These instructions assume you are the root user.  If you are not, prepend <code>sudo</code> to the shell commands (the ones that aren't at <code>mysql&gt;</code> prompts) or temporarily become a user with root privileges with <code>sudo -s</code> or <code>sudo -i</code>.</p>
</blockquote>
<h3 id="on-the-db-server">On the DB Server</h3>
<p>This host is where the MySQL database runs.  It could be the same machine as your network management server (this is the most common initial deployment scenario).</p>
<blockquote>
<p>** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed.</p>
</blockquote>
<p>You are free to choose between using MySQL or MariaDB:</p>
<p><strong>MySQL</strong></p>
<pre><code class="bash">apt-get install mysql-server mysql-client
mysql -uroot -p
</code></pre>

<p><strong>MariaDB</strong></p>
<pre><code class="bash">apt-get install mariadb-server mariadb-client
mysql -uroot -p
</code></pre>

<p>Input the MySQL root password to enter the MySQL command-line interface.</p>
<p>Create the database:</p>
<pre><code class="sql">CREATE DATABASE librenms;
GRANT ALL PRIVILEGES ON librenms.*
  TO 'librenms'@'&lt;ip&gt;'
  IDENTIFIED BY '&lt;password&gt;'
;
FLUSH PRIVILEGES;
exit
</code></pre>

<p>Replace <code>&lt;ip&gt;</code> above with the IP or DNS name of the server running LibreNMS.  If your database is on the same server as LibreNMS, you can use <code>localhost</code>.</p>
<p>If you are deploying a separate database server, you need to change the <code>bind-address</code>.  If your MySQL database resides on the same server as LibreNMS, you should skip this step.</p>
<pre><code>vim /etc/mysql/my.cnf
</code></pre>
<p>Within the [mysqld] section please add:</p>
<pre><code>innodb_file_per_table=1
</code></pre>
<p>Find the line: <code>bind-address = 127.0.0.1</code></p>
<p>Change <code>127.0.0.1</code> to the IP address that your MySQL server should listen on.  Restart MySQL:</p>
<p>If you see a line that starts <code>sql-mode</code> then change this to <code>sql-mode=""</code>.</p>
<pre><code>service mysql restart
</code></pre>
<h3 id="on-the-nms">On the NMS</h3>
<p>This host is where the web server and SNMP poller run.  It could be the same machine as your database server.</p>
<p>Install the required software:</p>
<pre><code>apt-get install nginx-full php5-fpm php5-cli php5-mysql php5-gd php5-snmp php-pear php5-curl php5-mcrypt php5-json php-net-ipv4 php-net-ipv6 snmp snmpd graphviz fping imagemagick whois mtr-tiny nmap python-mysqldb rrdtool git
</code></pre>
<p>The packages listed above are an all-inclusive list of packages that were necessary on a clean install of Ubuntu 12.04/14.04.</p>
<p>You need to configure snmpd appropriately if you have not already done so.  An absolute minimal config for snmpd is:</p>
<pre><code>rocommunity public 127.0.0.1
</code></pre>
<p>Adding the above line to <code>/etc/snmp/snmpd.conf</code> and running <code>service snmpd restart</code> will activate this config.</p>
<p>In <code>/etc/php5/fpm/php.ini</code> and <code>/etc/php5/cli/php.ini</code>, ensure date.timezone is set to your preferred time zone.  See http://php.net/manual/en/timezones.php for a list of supported timezones.  Valid
examples are: "America/New York", "Australia/Brisbane", "Etc/UTC".
Please also ensure that <code>allow_url_fopen</code> is enabled. Other functions needed for LibreNMS include <code>exec,passthru,shell_exec,escapeshellarg,escapeshellcmd,proc_close,proc_open,popen</code>.</p>
<h3 id="adding-the-librenms-user">Adding the librenms-user</h3>
<pre><code>useradd librenms -d /opt/librenms -M -r
usermod -a -G librenms www-data
</code></pre>
<h3 id="cloning">Cloning</h3>
<p>LibreNMS is installed using git.  If you're not familiar with git, check out the <a href="http://git-scm.com/book">git book</a> or the tips at <a href="http://gitready.com/">git ready</a>.  The initial install from github.com is called a <code>git clone</code>; subsequent updates are done through <code>git pull</code>.</p>
<p>You can clone the repository via HTTPS or SSH.  In either case, you need to ensure that the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server.</p>
<pre><code>cd /opt
git clone https://github.com/librenms/librenms.git librenms
cd /opt/librenms
</code></pre>
<p>The recommended method of cloning a git repository is HTTPS.  If you would like to clone via SSH instead, use the command <code>git clone git@github.com:librenms/librenms.git librenms</code> instead.</p>
<p>Sometimes the initial clone can take quite a while (nearly 3 minutes on a 10 Mbps fibre connection in Australia is a recent example).  If it's a big problem to you, you can save about 50% of the bandwidth by not pulling down the full git history.  This comes with some limitations (namely that you can't use it as the basis for further git repos), but if you're not planning to develop for LibreNMS it's an acceptable option.  To perform the initial clone without full history, run the following instead:</p>
<pre><code>cd /opt
git clone --depth 1 https://github.com/librenms/librenms.git librenms
cd /opt/librenms
</code></pre>
<h3 id="web-interface">Web Interface</h3>
<p>To prepare the web interface (and adding devices shortly), you'll need to create and chown a directory as well as create a Nginx vhost.</p>
<p>First, create and chown the <code>rrd</code> directory and create the <code>logs</code> directory:</p>
<pre><code>mkdir rrd logs
chown -R librenms:librenms /opt/librenms
chmod 775 rrd
</code></pre>
<blockquote>
<p>NOTE: If you're not running Ubuntu or Debian, you will need to change <code>www-data</code> to the user and group which run the Nginx web server.
If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms.</p>
</blockquote>
<p>Add configuration for <code>nginx</code> at <code>/etc/nginx/conf.d/librenms.conf</code> with the following content:</p>
<pre><code class="nginx">server {
 listen      80;
 server_name librenms.example.com;
 root        /opt/librenms/html;
 index       index.php;
 access_log  /opt/librenms/logs/access_log;
 error_log   /opt/librenms/logs/error_log;
 location / {
  try_files $uri $uri/ @librenms;
 }
 location ~ \.php {
  fastcgi_param PATH_INFO $fastcgi_path_info;
  include fastcgi_params;
  fastcgi_split_path_info ^(.+\.php)(/.+)$;
  fastcgi_pass unix:/var/run/php5-fpm.sock;
 }
 location ~ /\.ht {
  deny all;
 }
 location @librenms {
  rewrite api/v0(.*)$ /api_v0.php/$1 last;
  rewrite ^(.+)$ /index.php/$1 last;
 }
}
</code></pre>

<p>On at least Ubuntu 14.04 (and possibly other distributions and versions as well), mcrypt is not enabled on install.  Run the following to enable it:</p>
<pre><code>php5enmod mcrypt
</code></pre>
<p>(To get to your LibreNMS install externally, you'll also need add it to your DNS or hosts file.)</p>
<h3 id="start-the-web-server">Start the web-server:</h3>
<p>Restart nginx:</p>
<pre><code>service nginx restart
</code></pre>
<p>Restart php5-fpm:</p>
<pre><code>service php5-fpm restart
</code></pre>
<h3 id="manual-vs-web-installer">Manual vs. web installer</h3>
<p>At this stage you can either launch the web installer by going to http://librenms.example.com/install.php, follow the onscreen instructions then skip to the 'Add localhost' section. Alternatively if you want to continue the setup manually then just keep following these instructions.</p>
<pre><code>cp config.php.default config.php
vim config.php
</code></pre>
<p>Change the values to the right of the equal sign for lines beginning with <code>$config[db_]</code> to match your database information as setup above.</p>
<p>Change the value of <code>$config['snmp']['community']</code> from <code>public</code> to whatever your read-only SNMP community is.  If you have multiple communities, set it to the most common.</p>
<p><strong> Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the <code>&lt;?php?&gt;</code> blocks. Your graphs will break otherwise. </strong></p>
<h3 id="initialise-the-database">Initialise the database</h3>
<p>Initiate the follow database with the following command:</p>
<pre><code>php build-base.php
</code></pre>
<h3 id="create-admin-user">Create admin user</h3>
<p>Create the admin user - priv should be 10</p>
<pre><code>php adduser.php &lt;name&gt; &lt;pass&gt; 10 &lt;email&gt;
</code></pre>
<p>Substitute your desired username, password and email address--and leave the angled brackets off.</p>
<h3 id="validate-your-install">Validate your install</h3>
<p>Run validate.php as root in the librenms directory</p>
<pre><code>php validate.php
</code></pre>
<p>This will check your install to verify it is set up correctly.</p>
<h3 id="add-localhost">Add localhost</h3>
<pre><code>php addhost.php localhost public v2c
</code></pre>
<p>This assumes you haven't made community changes--if you have, replace <code>public</code> with your community.  It also assumes SNMP v2c.  If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come).</p>
<p>Discover localhost::</p>
<pre><code>php discovery.php -h all
</code></pre>
<h3 id="create-cronjob">Create cronjob</h3>
<p>LibreNMS uses Job Snijders' <a href="https://github.com/Atrato/observium-poller-wrapper">poller-wrapper.py</a>.  By default, the cron job runs <code>poller-wrapper.py</code> with 16 threads.  The current recommendation is to use 4 threads per core as a rule of thumb.  If the thread count needs to be changed, you can do so by editing the cron file (<code>/etc/cron.d/librenms</code>).  Just add a number after <code>poller-wrapper.py</code>, as in the example below:</p>
<pre><code>/opt/librenms/poller-wrapper.py 12 &gt;&gt; /dev/null 2&gt;&amp;1
</code></pre>
<p>Create the cronjob</p>
<pre><code>cp librenms.nonroot.cron /etc/cron.d/librenms
</code></pre>
<h3 id="daily-updates">Daily Updates</h3>
<p>LibreNMS performs daily updates by default.  At 00:15 system time every day, a <code>git pull --no-edit --quiet</code> is performed.  You can override this default by editing your <code>config.php</code> file.  Remove the comment (the <code>#</code> mark) on the line:</p>
<pre><code>#$config['update'] = 0;
</code></pre>
<p>so that it looks like this:</p>
<pre><code>$config['update'] = 0;
</code></pre>
<h3 id="install-complete">Install complete</h3>
<p>Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI.
If you don't see data after this, please refer to the <a href="http://docs.librenms.org/Support/FAQ/">FAQ</a> for assistance.</p>
<p>That's it!  You now should be able to log in to http://librenms.example.com/.  Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default.  Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps.</p>
<p>It would be great if you would consider opting into the stats system we have, please see <a href="http://docs.librenms.org/General/Callback-Stats-and-Privacy/">this page</a> on what it is and how to enable it.</p></div>
                
            
            </div>
        </div>

        <footer>
            <div class="container">
                <hr>
                
                <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
            </div>
        </footer>

        <script src="../../js/jquery-1.12.4.min.js"></script>
        <script src="../../js/bootstrap-3.3.7.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
